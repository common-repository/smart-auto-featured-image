(()=>{var e={4184:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var l=a.apply(null,n);l&&e.push(l)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var r in n)o.call(n,r)&&n[r]&&e.push(r);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},6932:(e,t,n)=>{"use strict";const o=n(8501),a=n(8844),i=n(1192);e.exports={XMLParser:a,XMLValidator:o,XMLBuilder:i}},7849:(e,t)=>{"use strict";const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",o="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",a=new RegExp("^"+o+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t){const o=Object.keys(t),a=o.length;for(let i=0;i<a;i++)e[o[i]]="strict"===n?[t[o[i]]]:t[o[i]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(e){return!(null==a.exec(e))},t.getAllMatches=function(e,t){const n=[];let o=t.exec(e);for(;o;){const a=[];a.startIndex=t.lastIndex-o[0].length;const i=o.length;for(let e=0;e<i;e++)a.push(o[e]);n.push(a),o=t.exec(e)}return n},t.nameRegexp=o},8501:(e,t,n)=>{"use strict";const o=n(7849),a={allowBooleanAttributes:!1,unpairedTags:[]};function i(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function l(e,t){const n=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const o=e.substr(n,t-n);if(t>5&&"xml"===o)return h("InvalidXml","XML declaration allowed only at the start of the document.",g(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function r(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=Object.assign({},a,t);const n=[];let s=!1,c=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let a=0;a<e.length;a++)if("<"===e[a]&&"?"===e[a+1]){if(a+=2,a=l(e,a),a.err)return a}else{if("<"!==e[a]){if(i(e[a]))continue;return h("InvalidChar","char '"+e[a]+"' is not expected.",g(e,a))}{let f=a;if(a++,"!"===e[a]){a=r(e,a);continue}{let v=!1;"/"===e[a]&&(v=!0,a++);let y="";for(;a<e.length&&">"!==e[a]&&" "!==e[a]&&"\t"!==e[a]&&"\n"!==e[a]&&"\r"!==e[a];a++)y+=e[a];if(y=y.trim(),"/"===y[y.length-1]&&(y=y.substring(0,y.length-1),a--),u=y,!o.isName(u)){let t;return t=0===y.trim().length?"Invalid space after '<'.":"Tag '"+y+"' is an invalid name.",h("InvalidTag",t,g(e,a))}const b=d(e,a);if(!1===b)return h("InvalidAttr","Attributes for '"+y+"' have open quote.",g(e,a));let w=b.value;if(a=b.index,"/"===w[w.length-1]){const n=a-w.length;w=w.substring(0,w.length-1);const o=p(w,t);if(!0!==o)return h(o.err.code,o.err.msg,g(e,n+o.err.line));s=!0}else if(v){if(!b.tagClosed)return h("InvalidTag","Closing tag '"+y+"' doesn't have proper closing.",g(e,a));if(w.trim().length>0)return h("InvalidTag","Closing tag '"+y+"' can't have attributes or invalid starting.",g(e,f));{const t=n.pop();if(y!==t.tagName){let n=g(e,t.tagStartPos);return h("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+y+"'.",g(e,f))}0==n.length&&(c=!0)}}else{const o=p(w,t);if(!0!==o)return h(o.err.code,o.err.msg,g(e,a-w.length+o.err.line));if(!0===c)return h("InvalidXml","Multiple possible root nodes found.",g(e,a));-1!==t.unpairedTags.indexOf(y)||n.push({tagName:y,tagStartPos:f}),s=!0}for(a++;a<e.length;a++)if("<"===e[a]){if("!"===e[a+1]){a++,a=r(e,a);continue}if("?"!==e[a+1])break;if(a=l(e,++a),a.err)return a}else if("&"===e[a]){const t=m(e,a);if(-1==t)return h("InvalidChar","char '&' is not expected.",g(e,a));a=t}else if(!0===c&&!i(e[a]))return h("InvalidXml","Extra text at the end",g(e,a));"<"===e[a]&&a--}}}var u;return s?1==n.length?h("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",g(e,n[0].tagStartPos)):!(n.length>0)||h("InvalidXml","Invalid '"+JSON.stringify(n.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):h("InvalidXml","Start tag expected.",1)};const s='"',c="'";function d(e,t){let n="",o="",a=!1;for(;t<e.length;t++){if(e[t]===s||e[t]===c)""===o?o=e[t]:o!==e[t]||(o="");else if(">"===e[t]&&""===o){a=!0;break}n+=e[t]}return""===o&&{value:n,index:t,tagClosed:a}}const u=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function p(e,t){const n=o.getAllMatches(e,u),a={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return h("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",v(n[e]));if(void 0!==n[e][3]&&void 0===n[e][4])return h("InvalidAttr","Attribute '"+n[e][2]+"' is without value.",v(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return h("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",v(n[e]));const o=n[e][2];if(!f(o))return h("InvalidAttr","Attribute '"+o+"' is an invalid name.",v(n[e]));if(a.hasOwnProperty(o))return h("InvalidAttr","Attribute '"+o+"' is repeated.",v(n[e]));a[o]=1}return!0}function m(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function h(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function f(e){return o.isName(e)}function g(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function v(e){return e.startIndex+e[1].length}},1192:(e,t,n)=>{"use strict";const o=n(2592),a={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function i(e){this.options=Object.assign({},a,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=s),this.processTextOrObjNode=l,this.options.format?(this.indentate=r,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function l(e,t,n){const o=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,o.attrStr,n):this.buildObjectNode(o.val,t,o.attrStr,n)}function r(e){return this.options.indentBy.repeat(e)}function s(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}i.prototype.build=function(e){return this.options.preserveOrder?o(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)},i.prototype.j2x=function(e,t){let n="",o="";for(let a in e)if(void 0===e[a]);else if(null===e[a])"?"===a[0]?o+=this.indentate(t)+"<"+a+"?"+this.tagEndChar:o+=this.indentate(t)+"<"+a+"/"+this.tagEndChar;else if(e[a]instanceof Date)o+=this.buildTextValNode(e[a],a,"",t);else if("object"!=typeof e[a]){const i=this.isAttribute(a);if(i)n+=this.buildAttrPairStr(i,""+e[a]);else if(a===this.options.textNodeName){let t=this.options.tagValueProcessor(a,""+e[a]);o+=this.replaceEntitiesValue(t)}else o+=this.buildTextValNode(e[a],a,"",t)}else if(Array.isArray(e[a])){const n=e[a].length;let i="";for(let l=0;l<n;l++){const n=e[a][l];void 0===n||(null===n?"?"===a[0]?o+=this.indentate(t)+"<"+a+"?"+this.tagEndChar:o+=this.indentate(t)+"<"+a+"/"+this.tagEndChar:"object"==typeof n?this.options.oneListGroup?i+=this.j2x(n,t+1).val:i+=this.processTextOrObjNode(n,a,t):i+=this.buildTextValNode(n,a,"",t))}this.options.oneListGroup&&(i=this.buildObjectNode(i,a,"",t)),o+=i}else if(this.options.attributesGroupName&&a===this.options.attributesGroupName){const t=Object.keys(e[a]),o=t.length;for(let i=0;i<o;i++)n+=this.buildAttrPairStr(t[i],""+e[a][t[i]])}else o+=this.processTextOrObjNode(e[a],a,t);return{attrStr:n,val:o}},i.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},i.prototype.buildObjectNode=function(e,t,n,o){if(""===e)return"?"===t[0]?this.indentate(o)+"<"+t+n+"?"+this.tagEndChar:this.indentate(o)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let a="</"+t+this.tagEndChar,i="";return"?"===t[0]&&(i="?",a=""),n&&-1===e.indexOf("<")?this.indentate(o)+"<"+t+n+i+">"+e+a:!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===i.length?this.indentate(o)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(o)+"<"+t+n+i+this.tagEndChar+e+this.indentate(o)+a}},i.prototype.closeTag=function(e){let t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},i.prototype.buildTextValNode=function(e,t,n,o){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(o)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(o)+`\x3c!--${e}--\x3e`+this.newLine;if("?"===t[0])return this.indentate(o)+"<"+t+n+"?"+this.tagEndChar;{let a=this.options.tagValueProcessor(t,e);return a=this.replaceEntitiesValue(a),""===a?this.indentate(o)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(o)+"<"+t+n+">"+a+"</"+t+this.tagEndChar}},i.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e},e.exports=i},2592:e=>{function t(e,l,r,s){let c="",d=!1;for(let u=0;u<e.length;u++){const p=e[u],m=n(p);let h="";if(h=0===r.length?m:`${r}.${m}`,m===l.textNodeName){let e=p[m];a(h,l)||(e=l.tagValueProcessor(m,e),e=i(e,l)),d&&(c+=s),c+=e,d=!1;continue}if(m===l.cdataPropName){d&&(c+=s),c+=`<![CDATA[${p[m][0][l.textNodeName]}]]>`,d=!1;continue}if(m===l.commentPropName){c+=s+`\x3c!--${p[m][0][l.textNodeName]}--\x3e`,d=!0;continue}if("?"===m[0]){const e=o(p[":@"],l),t="?xml"===m?"":s;let n=p[m][0][l.textNodeName];n=0!==n.length?" "+n:"",c+=t+`<${m}${n}${e}?>`,d=!0;continue}let f=s;""!==f&&(f+=l.indentBy);const g=s+`<${m}${o(p[":@"],l)}`,v=t(p[m],l,h,f);-1!==l.unpairedTags.indexOf(m)?l.suppressUnpairedNode?c+=g+">":c+=g+"/>":v&&0!==v.length||!l.suppressEmptyNode?v&&v.endsWith(">")?c+=g+`>${v}${s}</${m}>`:(c+=g+">",v&&""!==s&&(v.includes("/>")||v.includes("</"))?c+=s+l.indentBy+v+s:c+=v,c+=`</${m}>`):c+=g+"/>",d=!0}return c}function n(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function o(e,t){let n="";if(e&&!t.ignoreAttributes)for(let o in e){let a=t.attributeValueProcessor(o,e[o]);a=i(a,t),!0===a&&t.suppressBooleanAttributes?n+=` ${o.substr(t.attributeNamePrefix.length)}`:n+=` ${o.substr(t.attributeNamePrefix.length)}="${a}"`}return n}function a(e,t){let n=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let o in t.stopNodes)if(t.stopNodes[o]===e||t.stopNodes[o]==="*."+n)return!0;return!1}function i(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const o=t.entities[n];e=e.replace(o.regex,o.val)}return e}e.exports=function(e,n){let o="";return n.format&&n.indentBy.length>0&&(o="\n"),t(e,n,"",o)}},4780:(e,t,n)=>{const o=n(7849);function a(e,t){let n="";for(;t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)n+=e[t];if(n=n.trim(),-1!==n.indexOf(" "))throw new Error("External entites are not supported");const o=e[t++];let a="";for(;t<e.length&&e[t]!==o;t++)a+=e[t];return[n,a,t]}function i(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function l(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]}function r(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]}function s(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]}function c(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]}function d(e){if(o.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}e.exports=function(e,t){const n={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");{t+=9;let o=1,u=!1,p=!1,m="";for(;t<e.length;t++)if("<"!==e[t]||p)if(">"===e[t]){if(p?"-"===e[t-1]&&"-"===e[t-2]&&(p=!1,o--):o--,0===o)break}else"["===e[t]?u=!0:m+=e[t];else{if(u&&l(e,t))t+=7,[entityName,val,t]=a(e,t+1),-1===val.indexOf("&")&&(n[d(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(u&&r(e,t))t+=8;else if(u&&s(e,t))t+=8;else if(u&&c(e,t))t+=9;else{if(!i)throw new Error("Invalid DOCTYPE");p=!0}o++,m=""}if(0!==o)throw new Error("Unclosed DOCTYPE")}return{entities:n,i:t}}},6745:(e,t)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e}};t.buildOptions=function(e){return Object.assign({},n,e)},t.defaultOptions=n},1078:(e,t,n)=>{"use strict";const o=n(7849),a=n(6311),i=n(4780),l=n(4153);function r(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const o=t[n];this.lastEntities[o]={regex:new RegExp("&"+o+";","g"),val:e[o]}}}function s(e,t,n,o,a,i,l){if(void 0!==e&&(this.options.trimValues&&!o&&(e=e.trim()),e.length>0)){l||(e=this.replaceEntitiesValue(e));const o=this.options.tagValueProcessor(t,e,n,a,i);return null==o?e:typeof o!=typeof e||o!==e?o:this.options.trimValues||e.trim()===e?w(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function c(e){if(this.options.removeNSPrefix){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,o.nameRegexp);const d=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function u(e,t,n){if(!this.options.ignoreAttributes&&"string"==typeof e){const n=o.getAllMatches(e,d),a=n.length,i={};for(let e=0;e<a;e++){const o=this.resolveNameSpace(n[e][1]);let a=n[e][4],l=this.options.attributeNamePrefix+o;if(o.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),"__proto__"===l&&(l="#__proto__"),void 0!==a){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);const e=this.options.attributeValueProcessor(o,a,t);i[l]=null==e?a:typeof e!=typeof a||e!==a?e:w(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[l]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=i,e}return i}}const p=function(e){e=e.replace(/\r\n?/g,"\n");const t=new a("!xml");let n=t,o="",l="";for(let r=0;r<e.length;r++)if("<"===e[r])if("/"===e[r+1]){const t=v(e,">",r,"Closing Tag is not closed.");let a=e.substring(r+2,t).trim();if(this.options.removeNSPrefix){const e=a.indexOf(":");-1!==e&&(a=a.substr(e+1))}this.options.transformTagName&&(a=this.options.transformTagName(a)),n&&(o=this.saveTextToParentTag(o,n,l));const i=l.substring(l.lastIndexOf(".")+1);if(a&&-1!==this.options.unpairedTags.indexOf(a))throw new Error(`Unpaired tag can not be used as closing tag: </${a}>`);let s=0;i&&-1!==this.options.unpairedTags.indexOf(i)?(s=l.lastIndexOf(".",l.lastIndexOf(".")-1),this.tagsNodeStack.pop()):s=l.lastIndexOf("."),l=l.substring(0,s),n=this.tagsNodeStack.pop(),o="",r=t}else if("?"===e[r+1]){let t=y(e,r,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(o=this.saveTextToParentTag(o,n,l),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new a(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,l,t.tagName)),this.addChild(n,e,l)}r=t.closeIndex+1}else if("!--"===e.substr(r+1,3)){const t=v(e,"--\x3e",r+4,"Comment is not closed.");if(this.options.commentPropName){const a=e.substring(r+4,t-2);o=this.saveTextToParentTag(o,n,l),n.add(this.options.commentPropName,[{[this.options.textNodeName]:a}])}r=t}else if("!D"===e.substr(r+1,2)){const t=i(e,r);this.docTypeEntities=t.entities,r=t.i}else if("!["===e.substr(r+1,2)){const t=v(e,"]]>",r,"CDATA is not closed.")-2,a=e.substring(r+9,t);if(o=this.saveTextToParentTag(o,n,l),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:a}]);else{let e=this.parseTextData(a,n.tagname,l,!0,!1,!0);null==e&&(e=""),n.add(this.options.textNodeName,e)}r=t+2}else{let i=y(e,r,this.options.removeNSPrefix),s=i.tagName,c=i.tagExp,d=i.attrExpPresent,u=i.closeIndex;this.options.transformTagName&&(s=this.options.transformTagName(s)),n&&o&&"!xml"!==n.tagname&&(o=this.saveTextToParentTag(o,n,l,!1));const p=n;if(p&&-1!==this.options.unpairedTags.indexOf(p.tagname)&&(n=this.tagsNodeStack.pop(),l=l.substring(0,l.lastIndexOf("."))),s!==t.tagname&&(l+=l?"."+s:s),this.isItStopNode(this.options.stopNodes,l,s)){let t="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)r=i.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(s))r=i.closeIndex;else{const n=this.readStopNodeData(e,s,u+1);if(!n)throw new Error(`Unexpected end of ${s}`);r=n.i,t=n.tagContent}const o=new a(s);s!==c&&d&&(o[":@"]=this.buildAttributesMap(c,l,s)),t&&(t=this.parseTextData(t,s,l,!0,d,!0,!0)),l=l.substr(0,l.lastIndexOf(".")),o.add(this.options.textNodeName,t),this.addChild(n,o,l)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){"/"===s[s.length-1]?(s=s.substr(0,s.length-1),l=l.substr(0,l.length-1),c=s):c=c.substr(0,c.length-1),this.options.transformTagName&&(s=this.options.transformTagName(s));const e=new a(s);s!==c&&d&&(e[":@"]=this.buildAttributesMap(c,l,s)),this.addChild(n,e,l),l=l.substr(0,l.lastIndexOf("."))}else{const e=new a(s);this.tagsNodeStack.push(n),s!==c&&d&&(e[":@"]=this.buildAttributesMap(c,l,s)),this.addChild(n,e,l),n=e}o="",r=u}}else o+=e[r];return t.child};function m(e,t,n){const o=this.options.updateTag(t.tagname,n,t[":@"]);!1===o||("string"==typeof o?(t.tagname=o,e.addChild(t)):e.addChild(t))}const h=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function f(e,t,n,o){return e&&(void 0===o&&(o=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,n,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,o))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function g(e,t,n){const o="*."+n;for(const n in e){const a=e[n];if(o===a||t===a)return!0}return!1}function v(e,t,n,o){const a=e.indexOf(t,n);if(-1===a)throw new Error(o);return a+t.length-1}function y(e,t,n,o=">"){const a=function(e,t,n=">"){let o,a="";for(let i=t;i<e.length;i++){let t=e[i];if(o)t===o&&(o="");else if('"'===t||"'"===t)o=t;else if(t===n[0]){if(!n[1])return{data:a,index:i};if(e[i+1]===n[1])return{data:a,index:i}}else"\t"===t&&(t=" ");a+=t}}(e,t+1,o);if(!a)return;let i=a.data;const l=a.index,r=i.search(/\s/);let s=i,c=!0;if(-1!==r&&(s=i.substr(0,r).replace(/\s\s*$/,""),i=i.substr(r+1)),n){const e=s.indexOf(":");-1!==e&&(s=s.substr(e+1),c=s!==a.data.substr(e+1))}return{tagName:s,tagExp:i,closeIndex:l,attrExpPresent:c}}function b(e,t,n){const o=n;let a=1;for(;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const i=v(e,">",n,`${t} is not closed`);if(e.substring(n+2,i).trim()===t&&(a--,0===a))return{tagContent:e.substring(o,n),i};n=i}else if("?"===e[n+1])n=v(e,"?>",n+1,"StopNode is not closed.");else if("!--"===e.substr(n+1,3))n=v(e,"--\x3e",n+3,"StopNode is not closed.");else if("!["===e.substr(n+1,2))n=v(e,"]]>",n,"StopNode is not closed.")-2;else{const o=y(e,n,">");o&&((o&&o.tagName)===t&&"/"!==o.tagExp[o.tagExp.length-1]&&a++,n=o.closeIndex)}}function w(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&l(e,n)}return o.isExist(e)?e:""}e.exports=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=r,this.parseXml=p,this.parseTextData=s,this.resolveNameSpace=c,this.buildAttributesMap=u,this.isItStopNode=g,this.replaceEntitiesValue=h,this.readStopNodeData=b,this.saveTextToParentTag=f,this.addChild=m}}},8844:(e,t,n)=>{const{buildOptions:o}=n(6745),a=n(1078),{prettify:i}=n(6997),l=n(8501);e.exports=class{constructor(e){this.externalEntities={},this.options=o(e)}parse(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const n=l.validate(e,t);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new a(this.options);n.addExternalEntities(this.externalEntities);const o=n.parseXml(e);return this.options.preserveOrder||void 0===o?o:i(o,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}}},6997:(e,t)=>{"use strict";function n(e,t,l){let r;const s={};for(let c=0;c<e.length;c++){const d=e[c],u=o(d);let p="";if(p=void 0===l?u:l+"."+u,u===t.textNodeName)void 0===r?r=d[u]:r+=""+d[u];else{if(void 0===u)continue;if(d[u]){let e=n(d[u],t,p);const o=i(e,t);d[":@"]?a(e,d[":@"],p,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==s[u]&&s.hasOwnProperty(u)?(Array.isArray(s[u])||(s[u]=[s[u]]),s[u].push(e)):t.isArray(u,p,o)?s[u]=[e]:s[u]=e}}}return"string"==typeof r?r.length>0&&(s[t.textNodeName]=r):void 0!==r&&(s[t.textNodeName]=r),s}function o(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function a(e,t,n,o){if(t){const a=Object.keys(t),i=a.length;for(let l=0;l<i;l++){const i=a[l];o.isArray(i,n+"."+i,!0,!0)?e[i]=[t[i]]:e[i]=t[i]}}}function i(e,t){const{textNodeName:n}=t,o=Object.keys(e).length;return 0===o||!(1!==o||!e[n]&&"boolean"!=typeof e[n]&&0!==e[n])}t.prettify=function(e,t){return n(e,t)}},6311:e=>{"use strict";e.exports=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}},2703:(e,t,n)=>{"use strict";var o=n(414);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,l){if(l!==o){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6941:(e,t,n)=>{var o=n(1474),a=n(4184),i=n(9196),l=n(2177);function r(e){return e&&e.__esModule?e.default:e}function s(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function c(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function d(e){e.forEach((e=>c(e.element)))}function u(e){e.forEach((e=>{!function(e,t,n){const o=e.children[n]||null;e.insertBefore(t,o)}(e.parentElement,e.element,e.oldIndex)}))}function p(e,t){const n=f(e),o={parentElement:e.from};let a=[];switch(n){case"normal":a=[{element:e.item,newIndex:e.newIndex,oldIndex:e.oldIndex,parentElement:e.from}];break;case"swap":a=[{element:e.item,oldIndex:e.oldIndex,newIndex:e.newIndex,...o},{element:e.swapItem,oldIndex:e.newIndex,newIndex:e.oldIndex,...o}];break;case"multidrag":a=e.oldIndicies.map(((t,n)=>({element:t.multiDragElement,oldIndex:t.index,newIndex:e.newIndicies[n].index,...o})))}const i=function(e,t){return e.map((e=>({...e,item:t[e.oldIndex]}))).sort(((e,t)=>e.oldIndex-t.oldIndex))}(a,t);return i}function m(e,t){const n=[...t];return e.concat().reverse().forEach((e=>n.splice(e.oldIndex,1))),n}function h(e,t,n,o){const a=[...t];return e.forEach((e=>{const t=o&&n&&o(e.item,n);a.splice(e.newIndex,0,t||e.item)})),a}function f(e){return e.oldIndicies&&e.oldIndicies.length>0?"multidrag":e.swapItem?"swap":"normal"}s(e.exports,"Sortable",(()=>$882b6d93070905b3$re_export$Sortable)),s(e.exports,"Direction",(()=>$882b6d93070905b3$re_export$Direction)),s(e.exports,"DOMRect",(()=>$882b6d93070905b3$re_export$DOMRect)),s(e.exports,"GroupOptions",(()=>$882b6d93070905b3$re_export$GroupOptions)),s(e.exports,"MoveEvent",(()=>$882b6d93070905b3$re_export$MoveEvent)),s(e.exports,"Options",(()=>$882b6d93070905b3$re_export$Options)),s(e.exports,"PullResult",(()=>$882b6d93070905b3$re_export$PullResult)),s(e.exports,"PutResult",(()=>$882b6d93070905b3$re_export$PutResult)),s(e.exports,"SortableEvent",(()=>$882b6d93070905b3$re_export$SortableEvent)),s(e.exports,"SortableOptions",(()=>$882b6d93070905b3$re_export$SortableOptions)),s(e.exports,"Utils",(()=>$882b6d93070905b3$re_export$Utils)),s(e.exports,"ReactSortable",(()=>v));const g={dragging:null};class v extends i.Component{static defaultProps={clone:e=>e};constructor(e){super(e),this.ref=(0,i.createRef)();const t=[...e.list].map((e=>Object.assign(e,{chosen:!1,selected:!1})));e.setList(t,this.sortable,g),r(l)(!e.plugins,'\nPlugins prop is no longer supported.\nInstead, mount it with "Sortable.mount(new MultiDrag())"\nPlease read the updated README.md at https://github.com/SortableJS/react-sortablejs.\n      ')}componentDidMount(){if(null===this.ref.current)return;const e=this.makeOptions();r(o).create(this.ref.current,e)}componentDidUpdate(e){e.disabled!==this.props.disabled&&this.sortable&&this.sortable.option("disabled",this.props.disabled)}render(){const{tag:e,style:t,className:n,id:o}=this.props,a={style:t,className:n,id:o},l=e&&null!==e?e:"div";return(0,i.createElement)(l,{ref:this.ref,...a},this.getChildren())}getChildren(){const{children:e,dataIdAttr:t,selectedClass:n="sortable-selected",chosenClass:o="sortable-chosen",dragClass:l="sortable-drag",fallbackClass:s="sortable-falback",ghostClass:c="sortable-ghost",swapClass:d="sortable-swap-highlight",filter:u="sortable-filter",list:p}=this.props;if(!e||null==e)return null;const m=t||"data-id";return i.Children.map(e,((e,t)=>{if(void 0===e)return;const l=p[t]||{},{className:s}=e.props,c="string"==typeof u&&{[u.replace(".","")]:!!l.filtered},d=r(a)(s,{[n]:l.selected,[o]:l.chosen,...c});return(0,i.cloneElement)(e,{[m]:e.key,className:d})}))}get sortable(){const e=this.ref.current;if(null===e)return null;const t=Object.keys(e).find((e=>e.includes("Sortable")));return t?e[t]:null}makeOptions(){const e=function(e){const{list:t,setList:n,children:o,tag:a,style:i,className:l,clone:r,onAdd:s,onChange:c,onChoose:d,onClone:u,onEnd:p,onFilter:m,onRemove:h,onSort:f,onStart:g,onUnchoose:v,onUpdate:y,onMove:b,onSpill:w,onSelect:E,onDeselect:C,...x}=e;return x}(this.props);return["onAdd","onChoose","onDeselect","onEnd","onRemove","onSelect","onSpill","onStart","onUnchoose","onUpdate"].forEach((t=>e[t]=this.prepareOnHandlerPropAndDOM(t))),["onChange","onClone","onFilter","onSort"].forEach((t=>e[t]=this.prepareOnHandlerProp(t))),{...e,onMove:(e,t)=>{const{onMove:n}=this.props,o=e.willInsertAfter||-1;if(!n)return o;const a=n(e,t,this.sortable,g);return void 0!==a&&a}}}prepareOnHandlerPropAndDOM(e){return t=>{this.callOnHandlerProp(t,e),this[e](t)}}prepareOnHandlerProp(e){return t=>{this.callOnHandlerProp(t,e)}}callOnHandlerProp(e,t){const n=this.props[t];n&&n(e,this.sortable,g)}onAdd(e){const{list:t,setList:n,clone:o}=this.props,a=p(e,[...g.dragging.props.list]);d(a),n(h(a,t,e,o).map((e=>Object.assign(e,{selected:!1}))),this.sortable,g)}onRemove(e){const{list:t,setList:n}=this.props,o=f(e),a=p(e,t);u(a);let i=[...t];if("clone"!==e.pullMode)i=m(a,i);else{let t=a;switch(o){case"multidrag":t=a.map(((t,n)=>({...t,element:e.clones[n]})));break;case"normal":t=a.map((t=>({...t,element:e.clone})));break;default:r(l)(!0,`mode "${o}" cannot clone. Please remove "props.clone" from <ReactSortable/> when using the "${o}" plugin`)}d(t),a.forEach((t=>{const n=t.oldIndex,o=this.props.clone(t.item,e);i.splice(n,1,o)}))}i=i.map((e=>Object.assign(e,{selected:!1}))),n(i,this.sortable,g)}onUpdate(e){const{list:t,setList:n}=this.props,o=p(e,t);return d(o),u(o),n(function(e,t){return h(e,m(e,t))}(o,t),this.sortable,g)}onStart(){g.dragging=this}onEnd(){g.dragging=null}onChoose(e){const{list:t,setList:n}=this.props;n(t.map(((t,n)=>{let o=t;return n===e.oldIndex&&(o=Object.assign(t,{chosen:!0})),o})),this.sortable,g)}onUnchoose(e){const{list:t,setList:n}=this.props;n(t.map(((t,n)=>{let o=t;return n===e.oldIndex&&(o=Object.assign(o,{chosen:!1})),o})),this.sortable,g)}onSpill(e){const{removeOnSpill:t,revertOnSpill:n}=this.props;t&&!n&&c(e.item)}onSelect(e){const{list:t,setList:n}=this.props,o=t.map((e=>Object.assign(e,{selected:!1})));e.newIndicies.forEach((t=>{const n=t.index;if(-1===n)return console.log(`"${e.type}" had indice of "${t.index}", which is probably -1 and doesn't usually happen here.`),void console.log(e);o[n].selected=!0})),n(o,this.sortable,g)}onDeselect(e){const{list:t,setList:n}=this.props,o=t.map((e=>Object.assign(e,{selected:!1})));e.newIndicies.forEach((e=>{const t=e.index;-1!==t&&(o[t].selected=!0)})),n(o,this.sortable,g)}}var y,b;y=e.exports,b={},Object.keys(b).forEach((function(e){"default"===e||"__esModule"===e||y.hasOwnProperty(e)||Object.defineProperty(y,e,{enumerable:!0,get:function(){return b[e]}})}))},1474:(e,t,n)=>{"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function c(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}n.r(t),n.d(t,{MultiDrag:()=>bt,Sortable:()=>Ve,Swap:()=>st,default:()=>Ct});var d=c(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),u=c(/Edge/i),p=c(/firefox/i),m=c(/safari/i)&&!c(/chrome/i)&&!c(/android/i),h=c(/iP(ad|od|hone)/i),f=c(/chrome/i)&&c(/android/i),g={capture:!1,passive:!1};function v(e,t,n){e.addEventListener(t,n,!d&&g)}function y(e,t,n){e.removeEventListener(t,n,!d&&g)}function b(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function w(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function E(e,t,n,o){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&b(e,t):b(e,t))||o&&e===n)return e;if(e===n)break}while(e=w(e))}return null}var C,x=/\s+/g;function S(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(x," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(x," ")}}function N(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function k(e,t){var n="";if("string"==typeof e)n=e;else do{var o=N(e,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function I(e,t,n){if(e){var o=e.getElementsByTagName(t),a=0,i=o.length;if(n)for(;a<i;a++)n(o[a],a);return o}return[]}function D(){return document.scrollingElement||document.documentElement}function T(e,t,n,o,a){if(e.getBoundingClientRect||e===window){var i,l,r,s,c,u,p;if(e!==window&&e.parentNode&&e!==D()?(l=(i=e.getBoundingClientRect()).top,r=i.left,s=i.bottom,c=i.right,u=i.height,p=i.width):(l=0,r=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,p=window.innerWidth),(t||n)&&e!==window&&(a=a||e.parentNode,!d))do{if(a&&a.getBoundingClientRect&&("none"!==N(a,"transform")||n&&"static"!==N(a,"position"))){var m=a.getBoundingClientRect();l-=m.top+parseInt(N(a,"border-top-width")),r-=m.left+parseInt(N(a,"border-left-width")),s=l+i.height,c=r+i.width;break}}while(a=a.parentNode);if(o&&e!==window){var h=k(a||e),f=h&&h.a,g=h&&h.d;h&&(s=(l/=g)+(u/=g),c=(r/=f)+(p/=f))}return{top:l,left:r,bottom:s,right:c,width:p,height:u}}}function L(e,t,n){for(var o=_(e,!0),a=T(e)[t];o;){var i=T(o)[n];if(!("top"===n||"left"===n?a>=i:a<=i))return o;if(o===D())break;o=_(o,!1)}return!1}function M(e,t,n,o){for(var a=0,i=0,l=e.children;i<l.length;){if("none"!==l[i].style.display&&l[i]!==Ve.ghost&&(o||l[i]!==Ve.dragged)&&E(l[i],n.draggable,e,!1)){if(a===t)return l[i];a++}i++}return null}function P(e,t){for(var n=e.lastElementChild;n&&(n===Ve.ghost||"none"===N(n,"display")||t&&!b(n,t));)n=n.previousElementSibling;return n||null}function O(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Ve.clone||t&&!b(e,t)||n++;return n}function A(e){var t=0,n=0,o=D();if(e)do{var a=k(e),i=a.a,l=a.d;t+=e.scrollLeft*i,n+=e.scrollTop*l}while(e!==o&&(e=e.parentNode));return[t,n]}function _(e,t){if(!e||!e.getBoundingClientRect)return D();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=N(n);if(n.clientWidth<n.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!n.getBoundingClientRect||n===document.body)return D();if(o||t)return n;o=!0}}}while(n=n.parentNode);return D()}function j(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function H(e,t){return function(){if(!C){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),C=setTimeout((function(){C=void 0}),t)}}}function R(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function F(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function V(e,t){N(e,"position","absolute"),N(e,"top",t.top),N(e,"left",t.left),N(e,"width",t.width),N(e,"height",t.height)}function B(e){N(e,"position",""),N(e,"top",""),N(e,"left",""),N(e,"width",""),N(e,"height","")}var z="Sortable"+(new Date).getTime();var U=[],W={initializeByDefault:!0},Z={mount:function(e){for(var t in W)W.hasOwnProperty(t)&&!(t in e)&&(e[t]=W[t]);U.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),U.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var i=e+"Global";U.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][i]&&t[o.pluginName][i](a({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](a({sortable:t},n)))}))},initializePlugins:function(e,t,n,o){for(var a in U.forEach((function(o){var a=o.pluginName;if(e.options[a]||o.initializeByDefault){var i=new o(e,t,e.options);i.sortable=e,i.options=e.options,e[a]=i,r(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(a)){var i=this.modifyOption(e,a,e.options[a]);void 0!==i&&(e.options[a]=i)}},getEventProperties:function(e,t){var n={};return U.forEach((function(o){"function"==typeof o.eventProperties&&r(n,o.eventProperties.call(t[o.pluginName],e))})),n},modifyOption:function(e,t,n){var o;return U.forEach((function(a){e[a.pluginName]&&a.optionListeners&&"function"==typeof a.optionListeners[t]&&(o=a.optionListeners[t].call(e[a.pluginName],n))})),o}};function G(e){var t=e.sortable,n=e.rootEl,o=e.name,i=e.targetEl,l=e.cloneEl,r=e.toEl,s=e.fromEl,c=e.oldIndex,p=e.newIndex,m=e.oldDraggableIndex,h=e.newDraggableIndex,f=e.originalEvent,g=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[z]){var y,b=t.options,w="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||d||u?(y=document.createEvent("Event")).initEvent(o,!0,!0):y=new CustomEvent(o,{bubbles:!0,cancelable:!0}),y.to=r||n,y.from=s||n,y.item=i||n,y.clone=l,y.oldIndex=c,y.newIndex=p,y.oldDraggableIndex=m,y.newDraggableIndex=h,y.originalEvent=f,y.pullMode=g?g.lastPutMode:void 0;var E=a(a({},v),Z.getEventProperties(o,t));for(var C in E)y[C]=E[C];n&&n.dispatchEvent(y),b[w]&&b[w].call(t,y)}}var $=["evt"],X=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,i=function(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(n,$);Z.pluginEvent.bind(Ve)(e,t,a({dragEl:Y,parentEl:J,ghostEl:q,rootEl:Q,nextEl:ee,lastDownEl:te,cloneEl:ne,cloneHidden:oe,dragStarted:ge,putSortable:ce,activeSortable:Ve.active,originalEvent:o,oldIndex:ae,oldDraggableIndex:le,newIndex:ie,newDraggableIndex:re,hideGhostForTarget:je,unhideGhostForTarget:He,cloneNowHidden:function(){oe=!0},cloneNowShown:function(){oe=!1},dispatchSortableEvent:function(e){K({sortable:t,name:e,originalEvent:o})}},i))};function K(e){G(a({putSortable:ce,cloneEl:ne,targetEl:Y,rootEl:Q,oldIndex:ae,oldDraggableIndex:le,newIndex:ie,newDraggableIndex:re},e))}var Y,J,q,Q,ee,te,ne,oe,ae,ie,le,re,se,ce,de,ue,pe,me,he,fe,ge,ve,ye,be,we,Ee=!1,Ce=!1,xe=[],Se=!1,Ne=!1,ke=[],Ie=!1,De=[],Te="undefined"!=typeof document,Le=h,Me=u||d?"cssFloat":"float",Pe=Te&&!f&&!h&&"draggable"in document.createElement("div"),Oe=function(){if(Te){if(d)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ae=function(e,t){var n=N(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=M(e,0,t),i=M(e,1,t),l=a&&N(a),r=i&&N(i),s=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+T(a).width,c=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+T(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&l.float&&"none"!==l.float){var d="left"===l.float?"left":"right";return!i||"both"!==r.clear&&r.clear!==d?"horizontal":"vertical"}return a&&("block"===l.display||"flex"===l.display||"table"===l.display||"grid"===l.display||s>=o&&"none"===n[Me]||i&&"none"===n[Me]&&s+c>o)?"vertical":"horizontal"},_e=function(e){function t(e,n){return function(o,a,i,l){var r=o.options.group.name&&a.options.group.name&&o.options.group.name===a.options.group.name;if(null==e&&(n||r))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,a,i,l),n)(o,a,i,l);var s=(n?o:a).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},o=e.group;o&&"object"==i(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},je=function(){!Oe&&q&&N(q,"display","none")},He=function(){!Oe&&q&&N(q,"display","")};Te&&!f&&document.addEventListener("click",(function(e){if(Ce)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ce=!1,!1}),!0);var Re=function(e){if(Y){e=e.touches?e.touches[0]:e;var t=(a=e.clientX,i=e.clientY,xe.some((function(e){var t=e[z].options.emptyInsertThreshold;if(t&&!P(e)){var n=T(e),o=a>=n.left-t&&a<=n.right+t,r=i>=n.top-t&&i<=n.bottom+t;return o&&r?l=e:void 0}})),l);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[z]._onDragOver(n)}}var a,i,l},Fe=function(e){Y&&Y.parentNode[z]._isOutsideThisEl(e.target)};function Ve(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=r({},t),e[z]=this;var n,o,i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ae(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ve.supportPointer&&"PointerEvent"in window&&!m,emptyInsertThreshold:5};for(var l in Z.initializePlugins(this,e,i),i)!(l in t)&&(t[l]=i[l]);for(var s in _e(t),this)"_"===s.charAt(0)&&"function"==typeof this[s]&&(this[s]=this[s].bind(this));this.nativeDraggable=!t.forceFallback&&Pe,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?v(e,"pointerdown",this._onTapStart):(v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),xe.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),r(this,(o=[],{captureAnimationState:function(){o=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(e){if("none"!==N(e,"display")&&e!==Ve.ghost){o.push({target:e,rect:T(e)});var t=a({},o[o.length-1].rect);if(e.thisAnimationDuration){var n=k(e,!0);n&&(t.top-=n.f,t.left-=n.e)}e.fromRect=t}}))},addAnimationState:function(e){o.push(e)},removeAnimationState:function(e){o.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n);return-1}(o,{target:e}),1)},animateAll:function(e){var t=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof e&&e());var a=!1,i=0;o.forEach((function(e){var n=0,o=e.target,l=o.fromRect,r=T(o),s=o.prevFromRect,c=o.prevToRect,d=e.rect,u=k(o,!0);u&&(r.top-=u.f,r.left-=u.e),o.toRect=r,o.thisAnimationDuration&&j(s,r)&&!j(l,r)&&(d.top-r.top)/(d.left-r.left)==(l.top-r.top)/(l.left-r.left)&&(n=function(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}(d,s,c,t.options)),j(r,l)||(o.prevFromRect=l,o.prevToRect=r,n||(n=t.options.animation),t.animate(o,d,r,n)),n&&(a=!0,i=Math.max(i,n),clearTimeout(o.animationResetTimer),o.animationResetTimer=setTimeout((function(){o.animationTime=0,o.prevFromRect=null,o.fromRect=null,o.prevToRect=null,o.thisAnimationDuration=null}),n),o.thisAnimationDuration=n)})),clearTimeout(n),a?n=setTimeout((function(){"function"==typeof e&&e()}),i):"function"==typeof e&&e(),o=[]},animate:function(e,t,n,o){if(o){N(e,"transition",""),N(e,"transform","");var a=k(this.el),i=a&&a.a,l=a&&a.d,r=(t.left-n.left)/(i||1),s=(t.top-n.top)/(l||1);e.animatingX=!!r,e.animatingY=!!s,N(e,"transform","translate3d("+r+"px,"+s+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),N(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),N(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){N(e,"transition",""),N(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}))}function Be(e,t,n,o,a,i,l,r){var s,c,p=e[z],m=p.options.onMove;return!window.CustomEvent||d||u?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=a||t,s.relatedRect=i||T(t),s.willInsertAfter=r,s.originalEvent=l,e.dispatchEvent(s),m&&(c=m.call(p,s,l)),c}function ze(e){e.draggable=!1}function Ue(){Ie=!1}function We(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function Ze(e){return setTimeout(e,0)}function Ge(e){return clearTimeout(e)}Ve.prototype={constructor:Ve,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ve=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Y):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,a=o.preventOnFilter,i=e.type,l=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,r=(l||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||r,c=o.filter;if(function(e){De.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&De.push(o)}}(n),!Y&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||o.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!m||!r||"SELECT"!==r.tagName.toUpperCase())&&!((r=E(r,o.draggable,n,!1))&&r.animated||te===r)){if(ae=O(r),le=O(r,o.draggable),"function"==typeof c){if(c.call(this,e,r,this))return K({sortable:t,rootEl:s,name:"filter",targetEl:r,toEl:n,fromEl:n}),X("filter",t,{evt:e}),void(a&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=E(s,o.trim(),n,!1))return K({sortable:t,rootEl:o,name:"filter",targetEl:r,fromEl:n,toEl:n}),X("filter",t,{evt:e}),!0}))))return void(a&&e.cancelable&&e.preventDefault());o.handle&&!E(s,o.handle,n,!1)||this._prepareDragStart(e,l,r)}}},_prepareDragStart:function(e,t,n){var o,a=this,i=a.el,l=a.options,r=i.ownerDocument;if(n&&!Y&&n.parentNode===i){var s=T(n);if(Q=i,J=(Y=n).parentNode,ee=Y.nextSibling,te=n,se=l.group,Ve.dragged=Y,de={target:Y,clientX:(t||e).clientX,clientY:(t||e).clientY},he=de.clientX-s.left,fe=de.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Y.style["will-change"]="all",o=function(){X("delayEnded",a,{evt:e}),Ve.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!p&&a.nativeDraggable&&(Y.draggable=!0),a._triggerDragStart(e,t),K({sortable:a,name:"choose",originalEvent:e}),S(Y,l.chosenClass,!0))},l.ignore.split(",").forEach((function(e){I(Y,e.trim(),ze)})),v(r,"dragover",Re),v(r,"mousemove",Re),v(r,"touchmove",Re),v(r,"mouseup",a._onDrop),v(r,"touchend",a._onDrop),v(r,"touchcancel",a._onDrop),p&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Y.draggable=!0),X("delayStart",this,{evt:e}),!l.delay||l.delayOnTouchOnly&&!t||this.nativeDraggable&&(u||d))o();else{if(Ve.eventCanceled)return void this._onDrop();v(r,"mouseup",a._disableDelayedDrag),v(r,"touchend",a._disableDelayedDrag),v(r,"touchcancel",a._disableDelayedDrag),v(r,"mousemove",a._delayedDragTouchMoveHandler),v(r,"touchmove",a._delayedDragTouchMoveHandler),l.supportPointer&&v(r,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(o,l.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Y&&ze(Y),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._disableDelayedDrag),y(e,"touchend",this._disableDelayedDrag),y(e,"touchcancel",this._disableDelayedDrag),y(e,"mousemove",this._delayedDragTouchMoveHandler),y(e,"touchmove",this._delayedDragTouchMoveHandler),y(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):v(document,t?"touchmove":"mousemove",this._onTouchMove):(v(Y,"dragend",this),v(Q,"dragstart",this._onDragStart));try{document.selection?Ze((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(Ee=!1,Q&&Y){X("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",Fe);var n=this.options;!e&&S(Y,n.dragClass,!1),S(Y,n.ghostClass,!0),Ve.active=this,e&&this._appendGhost(),K({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ue){this._lastX=ue.clientX,this._lastY=ue.clientY,je();for(var e=document.elementFromPoint(ue.clientX,ue.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ue.clientX,ue.clientY))!==t;)t=e;if(Y.parentNode[z]._isOutsideThisEl(e),t)do{if(t[z]&&t[z]._onDragOver({clientX:ue.clientX,clientY:ue.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);He()}},_onTouchMove:function(e){if(de){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,a=e.touches?e.touches[0]:e,i=q&&k(q,!0),l=q&&i&&i.a,r=q&&i&&i.d,s=Le&&we&&A(we),c=(a.clientX-de.clientX+o.x)/(l||1)+(s?s[0]-ke[0]:0)/(l||1),d=(a.clientY-de.clientY+o.y)/(r||1)+(s?s[1]-ke[1]:0)/(r||1);if(!Ve.active&&!Ee){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(q){i?(i.e+=c-(pe||0),i.f+=d-(me||0)):i={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");N(q,"webkitTransform",u),N(q,"mozTransform",u),N(q,"msTransform",u),N(q,"transform",u),pe=c,me=d,ue=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!q){var e=this.options.fallbackOnBody?document.body:Q,t=T(Y,!0,Le,!0,e),n=this.options;if(Le){for(we=e;"static"===N(we,"position")&&"none"===N(we,"transform")&&we!==document;)we=we.parentNode;we!==document.body&&we!==document.documentElement?(we===document&&(we=D()),t.top+=we.scrollTop,t.left+=we.scrollLeft):we=D(),ke=A(we)}S(q=Y.cloneNode(!0),n.ghostClass,!1),S(q,n.fallbackClass,!0),S(q,n.dragClass,!0),N(q,"transition",""),N(q,"transform",""),N(q,"box-sizing","border-box"),N(q,"margin",0),N(q,"top",t.top),N(q,"left",t.left),N(q,"width",t.width),N(q,"height",t.height),N(q,"opacity","0.8"),N(q,"position",Le?"absolute":"fixed"),N(q,"zIndex","100000"),N(q,"pointerEvents","none"),Ve.ghost=q,e.appendChild(q),N(q,"transform-origin",he/parseInt(q.style.width)*100+"% "+fe/parseInt(q.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,a=n.options;X("dragStart",this,{evt:e}),Ve.eventCanceled?this._onDrop():(X("setupClone",this),Ve.eventCanceled||((ne=F(Y)).removeAttribute("id"),ne.draggable=!1,ne.style["will-change"]="",this._hideClone(),S(ne,this.options.chosenClass,!1),Ve.clone=ne),n.cloneId=Ze((function(){X("clone",n),Ve.eventCanceled||(n.options.removeCloneOnHide||Q.insertBefore(ne,Y),n._hideClone(),K({sortable:n,name:"clone"}))})),!t&&S(Y,a.dragClass,!0),t?(Ce=!0,n._loopId=setInterval(n._emulateDragOver,50)):(y(document,"mouseup",n._onDrop),y(document,"touchend",n._onDrop),y(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",a.setData&&a.setData.call(n,o,Y)),v(document,"drop",n),N(Y,"transform","translateZ(0)")),Ee=!0,n._dragStartId=Ze(n._dragStarted.bind(n,t,e)),v(document,"selectstart",n),ge=!0,m&&N(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,i,l=this.el,r=e.target,s=this.options,c=s.group,d=Ve.active,u=se===c,p=s.sort,m=ce||d,h=this,f=!1;if(!Ie){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),r=E(r,s.draggable,l,!0),F("dragOver"),Ve.eventCanceled)return f;if(Y.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||h._ignoreWhileAnimating===r)return B(!1);if(Ce=!1,d&&!s.disabled&&(u?p||(o=J!==Q):ce===this||(this.lastPutMode=se.checkPull(this,d,Y,e))&&c.checkPut(this,d,Y,e))){if(i="vertical"===this._getDirection(e,r),t=T(Y),F("dragOverValid"),Ve.eventCanceled)return f;if(o)return J=Q,V(),this._hideClone(),F("revert"),Ve.eventCanceled||(ee?Q.insertBefore(Y,ee):Q.appendChild(Y)),B(!0);var g=P(l,s.draggable);if(!g||function(e,t,n){var o=T(P(n.el,n.options.draggable));return t?e.clientX>o.right+10||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+10}(e,i,this)&&!g.animated){if(g===Y)return B(!1);if(g&&l===e.target&&(r=g),r&&(n=T(r)),!1!==Be(Q,l,Y,t,r,n,e,!!r))return V(),g&&g.nextSibling?l.insertBefore(Y,g.nextSibling):l.appendChild(Y),J=l,U(),B(!0)}else if(g&&function(e,t,n){var o=T(M(n.el,0,n.options,!0));return t?e.clientX<o.left-10||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-10||e.clientY<o.bottom&&e.clientX<o.left}(e,i,this)){var v=M(l,0,s,!0);if(v===Y)return B(!1);if(n=T(r=v),!1!==Be(Q,l,Y,t,r,n,e,!1))return V(),l.insertBefore(Y,v),J=l,U(),B(!0)}else if(r.parentNode===l){n=T(r);var y,b,w,C=Y.parentNode!==l,x=!function(e,t,n){var o=n?e.left:e.top,a=n?e.right:e.bottom,i=n?e.width:e.height,l=n?t.left:t.top,r=n?t.right:t.bottom,s=n?t.width:t.height;return o===l||a===r||o+i/2===l+s/2}(Y.animated&&Y.toRect||t,r.animated&&r.toRect||n,i),k=i?"top":"left",I=L(r,"top","top")||L(Y,"top","top"),D=I?I.scrollTop:void 0;if(ve!==r&&(b=n[k],Se=!1,Ne=!x&&s.invertSwap||C),y=function(e,t,n,o,a,i,l,r){var s=o?e.clientY:e.clientX,c=o?n.height:n.width,d=o?n.top:n.left,u=o?n.bottom:n.right,p=!1;if(!l)if(r&&be<c*a){if(!Se&&(1===ye?s>d+c*i/2:s<u-c*i/2)&&(Se=!0),Se)p=!0;else if(1===ye?s<d+be:s>u-be)return-ye}else if(s>d+c*(1-a)/2&&s<u-c*(1-a)/2)return function(e){return O(Y)<O(e)?1:-1}(t);return(p=p||l)&&(s<d+c*i/2||s>u-c*i/2)?s>d+c/2?1:-1:0}(e,r,n,i,x?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Ne,ve===r),0!==y){var A=O(Y);do{A-=y,w=J.children[A]}while(w&&("none"===N(w,"display")||w===q))}if(0===y||w===r)return B(!1);ve=r,ye=y;var _=r.nextElementSibling,j=!1,H=Be(Q,l,Y,t,r,n,e,j=1===y);if(!1!==H)return 1!==H&&-1!==H||(j=1===H),Ie=!0,setTimeout(Ue,30),V(),j&&!_?l.appendChild(Y):r.parentNode.insertBefore(Y,j?_:r),I&&R(I,0,D-I.scrollTop),J=Y.parentNode,void 0===b||Ne||(be=Math.abs(b-T(r)[k])),U(),B(!0)}if(l.contains(Y))return B(!1)}return!1}function F(s,c){X(s,h,a({evt:e,isOwner:u,axis:i?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:p,fromSortable:m,target:r,completed:B,onMove:function(n,o){return Be(Q,l,Y,t,n,T(n),e,o)},changed:U},c))}function V(){F("dragOverAnimationCapture"),h.captureAnimationState(),h!==m&&m.captureAnimationState()}function B(t){return F("dragOverCompleted",{insertion:t}),t&&(u?d._hideClone():d._showClone(h),h!==m&&(S(Y,ce?ce.options.ghostClass:d.options.ghostClass,!1),S(Y,s.ghostClass,!0)),ce!==h&&h!==Ve.active?ce=h:h===Ve.active&&ce&&(ce=null),m===h&&(h._ignoreWhileAnimating=r),h.animateAll((function(){F("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(r===Y&&!Y.animated||r===l&&!r.animated)&&(ve=null),s.dragoverBubble||e.rootEl||r===document||(Y.parentNode[z]._isOutsideThisEl(e.target),!t&&Re(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function U(){ie=O(Y),re=O(Y,s.draggable),K({sortable:h,name:"change",toEl:l,newIndex:ie,newDraggableIndex:re,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",Re),y(document,"mousemove",Re),y(document,"touchmove",Re)},_offUpEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._onDrop),y(e,"touchend",this._onDrop),y(e,"pointerup",this._onDrop),y(e,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ie=O(Y),re=O(Y,n.draggable),X("drop",this,{evt:e}),J=Y&&Y.parentNode,ie=O(Y),re=O(Y,n.draggable),Ve.eventCanceled||(Ee=!1,Ne=!1,Se=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ge(this.cloneId),Ge(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),m&&N(document.body,"user-select",""),N(Y,"transform",""),e&&(ge&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),q&&q.parentNode&&q.parentNode.removeChild(q),(Q===J||ce&&"clone"!==ce.lastPutMode)&&ne&&ne.parentNode&&ne.parentNode.removeChild(ne),Y&&(this.nativeDraggable&&y(Y,"dragend",this),ze(Y),Y.style["will-change"]="",ge&&!Ee&&S(Y,ce?ce.options.ghostClass:this.options.ghostClass,!1),S(Y,this.options.chosenClass,!1),K({sortable:this,name:"unchoose",toEl:J,newIndex:null,newDraggableIndex:null,originalEvent:e}),Q!==J?(ie>=0&&(K({rootEl:J,name:"add",toEl:J,fromEl:Q,originalEvent:e}),K({sortable:this,name:"remove",toEl:J,originalEvent:e}),K({rootEl:J,name:"sort",toEl:J,fromEl:Q,originalEvent:e}),K({sortable:this,name:"sort",toEl:J,originalEvent:e})),ce&&ce.save()):ie!==ae&&ie>=0&&(K({sortable:this,name:"update",toEl:J,originalEvent:e}),K({sortable:this,name:"sort",toEl:J,originalEvent:e})),Ve.active&&(null!=ie&&-1!==ie||(ie=ae,re=le),K({sortable:this,name:"end",toEl:J,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){X("nulling",this),Q=Y=J=q=ee=ne=te=oe=de=ue=ge=ie=re=ae=le=ve=ye=ce=se=Ve.dragged=Ve.ghost=Ve.clone=Ve.active=null,De.forEach((function(e){e.checked=!0})),De.length=pe=me=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Y&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,a=n.length,i=this.options;o<a;o++)E(e=n[o],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||We(e));return t},sort:function(e,t){var n={},o=this.el;this.toArray().forEach((function(e,t){var a=o.children[t];E(a,this.options.draggable,o,!1)&&(n[e]=a)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(o.removeChild(n[e]),o.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return E(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var o=Z.modifyOption(this,e,t);n[e]=void 0!==o?o:t,"group"===e&&_e(n)},destroy:function(){X("destroy",this);var e=this.el;e[z]=null,y(e,"mousedown",this._onTapStart),y(e,"touchstart",this._onTapStart),y(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(e,"dragover",this),y(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),xe.splice(xe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!oe){if(X("hideClone",this),Ve.eventCanceled)return;N(ne,"display","none"),this.options.removeCloneOnHide&&ne.parentNode&&ne.parentNode.removeChild(ne),oe=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(oe){if(X("showClone",this),Ve.eventCanceled)return;Y.parentNode!=Q||this.options.group.revertClone?ee?Q.insertBefore(ne,ee):Q.appendChild(ne):Q.insertBefore(ne,Y),this.options.group.revertClone&&this.animate(Y,ne),N(ne,"display",""),oe=!1}}else this._hideClone()}},Te&&v(document,"touchmove",(function(e){(Ve.active||Ee)&&e.cancelable&&e.preventDefault()})),Ve.utils={on:v,off:y,css:N,find:I,is:function(e,t){return!!E(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:H,closest:E,toggleClass:S,clone:F,index:O,nextTick:Ze,cancelNextTick:Ge,detectDirection:Ae,getChild:M},Ve.get=function(e){return e[z]},Ve.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Ve.utils=a(a({},Ve.utils),e.utils)),Z.mount(e)}))},Ve.create=function(e,t){return new Ve(e,t)},Ve.version="1.15.0";var $e,Xe,Ke,Ye,Je,qe,Qe=[],et=!1;function tt(){Qe.forEach((function(e){clearInterval(e.pid)})),Qe=[]}function nt(){clearInterval(qe)}var ot,at=H((function(e,t,n,o){if(t.scroll){var a,i=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,r=t.scrollSensitivity,s=t.scrollSpeed,c=D(),d=!1;Xe!==n&&(Xe=n,tt(),$e=t.scroll,a=t.scrollFn,!0===$e&&($e=_(n,!0)));var u=0,p=$e;do{var m=p,h=T(m),f=h.top,g=h.bottom,v=h.left,y=h.right,b=h.width,w=h.height,E=void 0,C=void 0,x=m.scrollWidth,S=m.scrollHeight,k=N(m),I=m.scrollLeft,L=m.scrollTop;m===c?(E=b<x&&("auto"===k.overflowX||"scroll"===k.overflowX||"visible"===k.overflowX),C=w<S&&("auto"===k.overflowY||"scroll"===k.overflowY||"visible"===k.overflowY)):(E=b<x&&("auto"===k.overflowX||"scroll"===k.overflowX),C=w<S&&("auto"===k.overflowY||"scroll"===k.overflowY));var M=E&&(Math.abs(y-i)<=r&&I+b<x)-(Math.abs(v-i)<=r&&!!I),P=C&&(Math.abs(g-l)<=r&&L+w<S)-(Math.abs(f-l)<=r&&!!L);if(!Qe[u])for(var O=0;O<=u;O++)Qe[O]||(Qe[O]={});Qe[u].vx==M&&Qe[u].vy==P&&Qe[u].el===m||(Qe[u].el=m,Qe[u].vx=M,Qe[u].vy=P,clearInterval(Qe[u].pid),0==M&&0==P||(d=!0,Qe[u].pid=setInterval(function(){o&&0===this.layer&&Ve.active._onTouchMove(Je);var t=Qe[this.layer].vy?Qe[this.layer].vy*s:0,n=Qe[this.layer].vx?Qe[this.layer].vx*s:0;"function"==typeof a&&"continue"!==a.call(Ve.dragged.parentNode[z],n,t,e,Je,Qe[this.layer].el)||R(Qe[this.layer].el,n,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&p!==c&&(p=_(p,!1)));et=d}}),30),it=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,a=e.activeSortable,i=e.dispatchSortableEvent,l=e.hideGhostForTarget,r=e.unhideGhostForTarget;if(t){var s=n||a;l();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);r(),s&&!s.el.contains(d)&&(i("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function lt(){}function rt(){}function st(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;ot=t},dragOverValid:function(e){var t=e.completed,n=e.target,o=e.onMove,a=e.activeSortable,i=e.changed,l=e.cancel;if(a.options.swap){var r=this.sortable.el,s=this.options;if(n&&n!==r){var c=ot;!1!==o(n)?(S(n,s.swapClass,!0),ot=n):ot=null,c&&c!==ot&&S(c,s.swapClass,!1)}i(),t(!0),l()}},drop:function(e){var t,n,o,a,i,l,r=e.activeSortable,s=e.putSortable,c=e.dragEl,d=s||this.sortable,u=this.options;ot&&S(ot,u.swapClass,!1),ot&&(u.swap||s&&s.options.swap)&&c!==ot&&(d.captureAnimationState(),d!==r&&r.captureAnimationState(),n=ot,i=(t=c).parentNode,l=n.parentNode,i&&l&&!i.isEqualNode(n)&&!l.isEqualNode(t)&&(o=O(t),a=O(n),i.isEqualNode(l)&&o<a&&a++,i.insertBefore(n,i.children[o]),l.insertBefore(t,l.children[a])),d.animateAll(),d!==r&&r.animateAll())},nulling:function(){ot=null}},r(e,{pluginName:"swap",eventProperties:function(){return{swapItem:ot}}})}lt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=M(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:it},r(lt,{pluginName:"revertOnSpill"}),rt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:it},r(rt,{pluginName:"removeOnSpill"});var ct,dt,ut,pt,mt,ht=[],ft=[],gt=!1,vt=!1,yt=!1;function bt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.avoidImplicitDeselect||(e.options.supportPointer?v(document,"pointerup",this._deselectMultiDrag):(v(document,"mouseup",this._deselectMultiDrag),v(document,"touchend",this._deselectMultiDrag))),v(document,"keydown",this._checkKeyDown),v(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(t,n){var o="";ht.length&&dt===e?ht.forEach((function(e,t){o+=(t?", ":"")+e.textContent})):o=n.textContent,t.setData("Text",o)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;ut=t},delayEnded:function(){this.isMultiDrag=~ht.indexOf(ut)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var o=0;o<ht.length;o++)ft.push(F(ht[o])),ft[o].sortableIndex=ht[o].sortableIndex,ft[o].draggable=!1,ft[o].style["will-change"]="",S(ft[o],this.options.selectedClass,!1),ht[o]===ut&&S(ft[o],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,o=e.dispatchSortableEvent,a=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ht.length&&dt===t&&(wt(!0,n),o("clone"),a()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,o=e.cancel;this.isMultiDrag&&(wt(!1,n),ft.forEach((function(e){N(e,"display","")})),t(),mt=!1,o())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),o=e.cancel;this.isMultiDrag&&(ft.forEach((function(e){N(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),mt=!0,o())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&dt&&dt.multiDrag._deselectMultiDrag(),ht.forEach((function(e){e.sortableIndex=O(e)})),ht=ht.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),yt=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){ht.forEach((function(e){e!==ut&&N(e,"position","absolute")}));var o=T(ut,!1,!0,!0);ht.forEach((function(e){e!==ut&&V(e,o)})),vt=!0,gt=!0}n.animateAll((function(){vt=!1,gt=!1,t.options.animation&&ht.forEach((function(e){B(e)})),t.options.sort&&Et()}))}},dragOver:function(e){var t=e.target,n=e.completed,o=e.cancel;vt&&~ht.indexOf(t)&&(n(!1),o())},revert:function(e){var t=e.fromSortable,n=e.rootEl,o=e.sortable,a=e.dragRect;ht.length>1&&(ht.forEach((function(e){o.addAnimationState({target:e,rect:vt?T(e):a}),B(e),e.fromRect=a,t.removeAnimationState(e)})),vt=!1,function(e,t){ht.forEach((function(n,o){var a=t.children[n.sortableIndex+(e?Number(o):0)];a?t.insertBefore(n,a):t.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,o=e.insertion,a=e.activeSortable,i=e.parentEl,l=e.putSortable,r=this.options;if(o){if(n&&a._hideClone(),gt=!1,r.animation&&ht.length>1&&(vt||!n&&!a.options.sort&&!l)){var s=T(ut,!1,!0,!0);ht.forEach((function(e){e!==ut&&(V(e,s),i.appendChild(e))})),vt=!0}if(!n)if(vt||Et(),ht.length>1){var c=mt;a._showClone(t),a.options.animation&&!mt&&c&&ft.forEach((function(e){a.addAnimationState({target:e,rect:pt}),e.fromRect=pt,e.thisAnimationDuration=null}))}else a._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,o=e.activeSortable;if(ht.forEach((function(e){e.thisAnimationDuration=null})),o.options.animation&&!n&&o.multiDrag.isMultiDrag){pt=r({},t);var a=k(ut,!0);pt.top-=a.f,pt.left-=a.e}},dragOverAnimationComplete:function(){vt&&(vt=!1,Et())},drop:function(e){var t=e.originalEvent,n=e.rootEl,o=e.parentEl,a=e.sortable,i=e.dispatchSortableEvent,l=e.oldIndex,r=e.putSortable,s=r||this.sortable;if(t){var c=this.options,d=o.children;if(!yt)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),S(ut,c.selectedClass,!~ht.indexOf(ut)),~ht.indexOf(ut))ht.splice(ht.indexOf(ut),1),ct=null,G({sortable:a,rootEl:n,name:"deselect",targetEl:ut,originalEvent:t});else{if(ht.push(ut),G({sortable:a,rootEl:n,name:"select",targetEl:ut,originalEvent:t}),t.shiftKey&&ct&&a.el.contains(ct)){var u,p,m=O(ct),h=O(ut);if(~m&&~h&&m!==h)for(h>m?(p=m,u=h):(p=h,u=m+1);p<u;p++)~ht.indexOf(d[p])||(S(d[p],c.selectedClass,!0),ht.push(d[p]),G({sortable:a,rootEl:n,name:"select",targetEl:d[p],originalEvent:t}))}else ct=ut;dt=s}if(yt&&this.isMultiDrag){if(vt=!1,(o[z].options.sort||o!==n)&&ht.length>1){var f=T(ut),g=O(ut,":not(."+this.options.selectedClass+")");if(!gt&&c.animation&&(ut.thisAnimationDuration=null),s.captureAnimationState(),!gt&&(c.animation&&(ut.fromRect=f,ht.forEach((function(e){if(e.thisAnimationDuration=null,e!==ut){var t=vt?T(e):f;e.fromRect=t,s.addAnimationState({target:e,rect:t})}}))),Et(),ht.forEach((function(e){d[g]?o.insertBefore(e,d[g]):o.appendChild(e),g++})),l===O(ut))){var v=!1;ht.forEach((function(e){e.sortableIndex===O(e)||(v=!0)})),v&&i("update")}ht.forEach((function(e){B(e)})),s.animateAll()}dt=s}(n===o||r&&"clone"!==r.lastPutMode)&&ft.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=yt=!1,ft.length=0},destroyGlobal:function(){this._deselectMultiDrag(),y(document,"pointerup",this._deselectMultiDrag),y(document,"mouseup",this._deselectMultiDrag),y(document,"touchend",this._deselectMultiDrag),y(document,"keydown",this._checkKeyDown),y(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==yt&&yt||dt!==this.sortable||e&&E(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;ht.length;){var t=ht[0];S(t,this.options.selectedClass,!1),ht.shift(),G({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvent:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},r(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[z];t&&t.options.multiDrag&&!~ht.indexOf(e)&&(dt&&dt!==t&&(dt.multiDrag._deselectMultiDrag(),dt=t),S(e,t.options.selectedClass,!0),ht.push(e))},deselect:function(e){var t=e.parentNode[z],n=ht.indexOf(e);t&&t.options.multiDrag&&~n&&(S(e,t.options.selectedClass,!1),ht.splice(n,1))}},eventProperties:function(){var e,t=this,n=[],o=[];return ht.forEach((function(e){var a;n.push({multiDragElement:e,index:e.sortableIndex}),a=vt&&e!==ut?-1:vt?O(e,":not(."+t.options.selectedClass+")"):O(e),o.push({multiDragElement:e,index:a})})),{items:(e=ht,function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),clones:[].concat(ft),oldIndicies:n,newIndicies:o}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function wt(e,t){ft.forEach((function(n,o){var a=t.children[n.sortableIndex+(e?Number(o):0)];a?t.insertBefore(n,a):t.appendChild(n)}))}function Et(){ht.forEach((function(e){e!==ut&&e.parentNode&&e.parentNode.removeChild(e)}))}Ve.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):t.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),nt(),tt(),clearTimeout(C),C=void 0},nulling:function(){Je=Xe=$e=et=qe=Ke=Ye=null,Qe.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(o,a);if(Je=e,t||this.options.forceAutoScrollFallback||u||d||m){at(e,this.options,i,t);var l=_(i,!0);!et||qe&&o===Ke&&a===Ye||(qe&&nt(),qe=setInterval((function(){var i=_(document.elementFromPoint(o,a),!0);i!==l&&(l=i,tt()),at(e,n.options,i,t)}),10),Ke=o,Ye=a)}else{if(!this.options.bubbleScroll||_(i,!0)===D())return void tt();at(e,this.options,_(i,!1),!1)}}},r(e,{pluginName:"scroll",initializeByDefault:!0})}),Ve.mount(rt,lt);const Ct=Ve},4153:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const o={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e,a={}){if(a=Object.assign({},o,a),!e||"string"!=typeof e)return e;let i=e.trim();if(void 0!==a.skipLike&&a.skipLike.test(i))return e;if(a.hex&&t.test(i))return Number.parseInt(i,16);{const t=n.exec(i);if(t){const n=t[1],o=t[2];let r=(l=t[3])&&-1!==l.indexOf(".")?("."===(l=l.replace(/0+$/,""))?l="0":"."===l[0]?l="0"+l:"."===l[l.length-1]&&(l=l.substr(0,l.length-1)),l):l;const s=t[4]||t[6];if(!a.leadingZeros&&o.length>0&&n&&"."!==i[2])return e;if(!a.leadingZeros&&o.length>0&&!n&&"."!==i[1])return e;{const t=Number(i),l=""+t;return-1!==l.search(/[eE]/)||s?a.eNotation?t:e:-1!==i.indexOf(".")?"0"===l&&""===r||l===r||n&&l==="-"+r?t:e:o?r===l||n+r===l?t:e:i===l||i===n+l?t:e}}return e}var l}},2177:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=!0,a="Invariant failed";function i(e,t){if(!e){if(o)throw new Error(a);var n="function"==typeof t?t():t;throw new Error(n?a+": "+n:a)}}},9196:e=>{"use strict";e.exports=window.React}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=window.wp.element,{Component:t}=wp.element,o=[{id:"select",label:"Select",iconSvgPath:"M14.872 8.859L3.646 2.072l-.98-.592.231 1.121 2.683 13 .243 1.178.664-1.003 3.038-4.59 5.22-1.417 1.127-.306-1-.604zM4.108 3.52l9.247 5.59-4.274 1.16-.182.05-.104.156-2.479 3.746L4.108 3.52z"},{id:"conditional",label:"Conditional layers (x)",iconSvgPath:"M 4 1.5 C 4 0.6716 4.6715 0 5.5 0 H 11.5 C 12.3284 0 13 0.6716 13 1.5 V 2.5 C 13 3.3284 12.3284 4 11.5 4 H 9 V 6.2928 L 12.7071 10 H 16.5 C 16.7761 10 17 10.2239 17 10.5 V 13.5 C 17 13.7761 16.7761 14 16.5 14 C 16.2239 14 16 13.7761 16 13.5 V 11 H 13.1714 C 13.1508 11.0343 13.1257 11.0666 13.0962 11.0961 L 8.8535 15.3388 C 8.6583 15.534 8.3417 15.534 8.1464 15.3388 L 3.9038 11.0961 C 3.8742 11.0666 3.8491 11.0343 3.8285 11 H 1 C 0.7239 11 0.5 10.7761 0.5 10.5 C 0.5 10.2239 0.7239 10 1 10 H 4.2928 L 8 6.2928 V 4 H 5.5 C 4.6715 4 4 3.3284 4 2.5 V 1.5 Z M 5.5 1 C 5.2238 1 5 1.2239 5 1.5 V 2.5 C 5 2.7761 5.2238 3 5.5 3 H 11.5 C 11.7761 3 12 2.7761 12 2.5 V 1.5 C 12 1.2239 11.7761 1 11.5 1 H 5.5 Z M 8.5 7.2071 L 4.9644 10.7426 L 8.5 14.2781 L 12.0355 10.7426 L 8.5 7.2071 Z"},{id:"rect",label:"Rect",iconSvgPath:"M16 2v14H2V2h14zm0 15h1V1H1v16h15z"},{id:"circle",label:"Circle (d)",iconSvgPath:"m8.76,1c4.28,0,7.76,3.48,7.76,7.76s-3.48,7.76-7.76,7.76S1,13.03,1,8.76,4.48,1,8.76,1m0-1C3.92,0,0,3.92,0,8.76s3.92,8.76,8.76,8.76,8.76-3.92,8.76-8.76S13.59,0,8.76,0h0Z"},{id:"text",label:"Text",iconSvgPath:"M2 5h1V2h5v14H5v1h7v-1H9V2h5v3h1V1H2v4z"},{id:"image",label:"Image (i)",iconSvgPath:"m11.5,9c1.38,0,2.5-1.12,2.5-2.5s-1.12-2.5-2.5-2.5-2.5,1.12-2.5,2.5,1.12,2.5,2.5,2.5Zm1.5-2.5c0,.83-.67,1.5-1.5,1.5s-1.5-.67-1.5-1.5.67-1.5,1.5-1.5,1.5.67,1.5,1.5ZM16,0H0v16h16V0Zm-1,1v14h-1.29L5,6.29,1,10.29V1h14ZM1,15v-3.29l4-4,7.29,7.29H1Z"},{id:"dynamicimage",label:"Content-based image (i)",iconSvgPath:"m11.5,9c1.38,0,2.5-1.12,2.5-2.5s-1.12-2.5-2.5-2.5-2.5,1.12-2.5,2.5,1.12,2.5,2.5,2.5Zm1.5-2.5c0,.83-.67,1.5-1.5,1.5s-1.5-.67-1.5-1.5.67-1.5,1.5-1.5,1.5.67,1.5,1.5Zm3-6.5H0v16h16V0Zm-1,1v14h-1.29L5,6.29,1,10.29V1h14ZM1,15v-3.29l4-4,7.29,7.29H1Zm.92-10.49L3.03.86h1.84l-1.1,3.08h1.47l-3.31,4.29,1.12-3.72h-1.12Z"},{id:"icon",label:"Font Awesome Icon (j)",iconSvgPath:"m18,.64v13.5c-2.53.92-3.29,1.29-4.78,1.29-2.53,0-3.5-1.29-6.03-1.29-.8,0-1.45.16-2.05.32v-2.57c.6-.16,1.25-.32,2.05-.32,2.53,0,3.5,1.29,6.03,1.29.8,0,1.41-.12,2.21-.36V4.14c-.8.24-1.41.36-2.21.36-2.53,0-3.5-1.29-6.03-1.29-2.05,0-3.01.84-4.62,1.17v12.33c0,.72-.56,1.29-1.29,1.29s-1.29-.56-1.29-1.29V1.29C0,.56.56,0,1.29,0s1.29.56,1.29,1.29v.52c1.61-.32,2.57-1.17,4.62-1.17,2.53,0,3.5,1.29,6.03,1.29,1.49,0,2.25-.36,4.78-1.29Z"},{id:"svg",label:"SVG (s)",iconSvgPath:"m1.1.99h9.02l4.02,4.21v5.2h1.05v-5.67L10.45,0H.06v10.4h1.04m-1.1,6.91l.18-1.09c.65.27,1.2.41,1.65.41.29,0,.51-.07.65-.22.12-.13.18-.28.18-.46,0-.16-.06-.29-.18-.38s-.41-.23-.87-.42c-.34-.14-.58-.25-.72-.32s-.27-.15-.39-.24c-.33-.25-.5-.61-.5-1.08,0-.4.11-.76.33-1.06.34-.47.89-.71,1.66-.71.56,0,1.16.1,1.81.31l-.26,1.04c-.39-.14-.68-.24-.87-.28-.19-.05-.4-.07-.61-.07-.24,0-.42.05-.55.16-.13.12-.2.26-.2.44,0,.15.06.27.17.36.11.09.38.22.8.39.42.17.7.3.84.36.14.07.26.15.39.24.33.25.49.64.49,1.15,0,.61-.21,1.07-.62,1.39-.35.26-.85.4-1.49.4s-1.3-.11-1.91-.32Zm6.5.22l-2.16-5.69h1.33l.95,2.55c.24.65.42,1.19.54,1.61.18-.59.36-1.11.53-1.55l.98-2.61h1.27l-2.16,5.69h-1.28Zm8.76-3.18v2.9c-.33.11-.56.18-.69.22-.41.11-.86.16-1.34.16-.94,0-1.65-.24-2.14-.71-.54-.52-.81-1.24-.81-2.17,0-1.07.34-1.87,1.01-2.42.49-.4,1.15-.59,1.98-.59.71,0,1.37.13,1.99.39l-.44,1c-.29-.14-.54-.25-.76-.3-.22-.06-.46-.09-.71-.09-.62,0-1.08.2-1.37.61-.25.34-.37.79-.37,1.35,0,.67.19,1.18.56,1.52.3.27.67.41,1.12.41.26,0,.51-.04.74-.13v-1.14h-.98v-1h2.22Z"},{id:"columns",label:"Columns",iconSvgPath:"M 18 1 H 0 V 17 H 18 Z M 4 16 H 1 V 2 H 4 Z M 13 16 H 5 V 2 H 13 Z M 14 2 H 17 V 16 H 14 V 2 Z"},{id:"container",label:"Container",iconSvgPath:"M0 0 0 2 1 2 1 1 2 1 2 0 0 0M4 0 4 1 6 1 6 0 4 0M8 0 8 1 10 1M10 1 10 0 8 0M12 0 12 1 14 1 14 0 12 0M16 1 16 0M16 0 18 0 18 2 17 2 17 2 17 1 16 1M17 4 18 4 18 6 17 6M17 8 18 8 18 10 17 10M17 12 18 12 18 14 17 14M17 16 18 16 18 18 16 18 16 17 17 17M14 17 14 18 12 18 12 17M10 17 10 18 8 18 8 17M6 17 6 18 4 18 4 17M2 17 2 18 0 18 0 16 1 16 1 17M0 14 0 12 1 12 1 14M1 10 0 10 0 8 1 8M1 6 0 6 0 4 1 4"},{id:"undo",label:"Undo",iconSvgPath:"M 3 9 C 7 5 13 5 17 9 L 16 10 C 12 6 8 6 4 10 H 3 V 9 M 2 6 H 3 V 10 H 7 V 11 H 2 V 6"},{id:"redo",label:"Redo",iconSvgPath:"M 2 9 C 6 5 12 5 16 9 L 16 10 L 15 10 C 11 6 7 6 3 10 V 10 L 2 9 M 13 10 H 16 V 6 H 17 V 11 H 12 V 10"},{id:"lock",label:"Lock",iconSvgPath:"M5 2.5V4H2V2.5C2 1.672 2.672 1 3.5 1 4.328 1 5 1.672 5 2.5zM1 4V2.5C1 1.12 2.12 0 3.5 0 4.88 0 6 1.12 6 2.5V4h.5c.276 0 .5.224.5.5v5c0 .276-.224.5-.5.5h-6c-.276 0-.5-.224-.5-.5v-5c0-.276.224-.5.5-.5H1z",fillRule:"evenodd",width:8,height:10},{id:"lock_open",label:"Lock open",iconSvgPath:"M10 6v1h.5c.276 0 .5.224.5.5v5c0 .276-.224.5-.5.5h-6c-.276 0-.5-.224-.5-.5v-5c0-.276.224-.5.5-.5H9V4.5C9 3.12 10.12 2 11.5 2 12.88 2 14 3.12 14 4.5V6h-1V4.5c0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5V6z",fillRule:"evenodd",width:16,height:16},{id:"bolt",label:"Bolt",iconSvgPath:"M106.739 41.135L47.711 119.699L61.321 64.439L29.656 64.973L42.59 0L80.997 0L65.58 41.17z",fillRule:"evenodd",vBoxWidth:120,vBoxHeight:120,width:16,height:16},{id:"align_left",label:"Align left",iconSvgPath:"M1 13H0V0h1v13zm12-8H3V3h10v2zM3 10h6V8H3v2z",fillRule:"evenodd",width:14,height:14},{id:"align_center",label:"Align center",iconSvgPath:"M6 0H5v3H0v2h5v3H2v2h3v3h1v-3h3V8H6V5h5V3H6V0z",fillRule:"evenodd",width:12,height:14},{id:"align_right",label:"Align right",iconSvgPath:"M13 13h1V0h-1v13zM1 5h10V3H1v2zm10 5H5V8h6v2z",fillRule:"evenodd",width:14,height:14},{id:"align_top",label:"Align top",iconSvgPath:"M5 13V3H3v10h2zm8-12V0H0v1h13zm-3 2v6H8V3h2z",fillRule:"evenodd",width:14,height:14},{id:"align_middle",label:"Align middle",iconSvgPath:"M3 5V0h2v5h3V2h2v3h3v1h-3v3H8V6H5v5H3V6H0V5h3z",fillRule:"evenodd",width:14,height:12},{id:"align_bottom",label:"Align bottom",iconSvgPath:"M5 0v10H3V0h2zm8 12v1H0v-1h13zm-3-2V4H8v6h2z",fillRule:"evenodd",width:14,height:13},{id:"expand",label:"Expand",iconSvgPath:"M 0 0 L 0 4 L 1 4 L 1 1 L 4 1 L 4 0 L 0 0 M 7 0 L 7 1 L 10 1 L 10 0 L 7 0 M 13 0 L 13 1 L 16 1 L 16 0 L 13 0 M 19 1 L 22 1 L 22 4 L 23 4 L 23 0 L 19 0 L 19 1"},{id:"plus",label:"Plus",iconSvgPath:"M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003 6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 7 L 11 11 L 7 11 L 7 13 L 11 13 L 11 17 L 13 17 L 13 13 L 17 13 L 17 11 L 13 11 L 13 7 L 11 7 z",vBoxWidth:24,vBoxHeight:24},{id:"eye",label:"Eye",iconSvgPath:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",vBoxWidth:24,vBoxHeight:24,width:12,height:12},{id:"eye_off",label:"Eye off",iconSvgPath:"M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z",vBoxWidth:24,vBoxHeight:24,width:12,height:12},{id:"duplicate",label:"Duplicate",iconSvgPath:"M112 80h288V56a24 24 0 0 0-24-24H66a34 34 0 0 0-34 34v310a24 24 0 0 0 24 24h24V112a32 32 0 0 1 32-32Z M456 112H136a24 24 0 0 0-24 24v320a24 24 0 0 0 24 24h320a24 24 0 0 0 24-24V136a24 24 0 0 0-24-24Zm-64 200h-80v80h-32v-80h-80v-32h80v-80h32v80h80Z",vBoxWidth:512,vBoxHeight:512,width:16,height:16},{id:"trash",label:"Trash",iconSvgPath:"M296 64h-80a7.91 7.91 0 0 0-8 8v24h96V72a7.91 7.91 0 0 0-8-8Z M292 64h-72a4 4 0 0 0-4 4v28h80V68a4 4 0 0 0-4-4Z M447.55 96H336V48a16 16 0 0 0-16-16H192a16 16 0 0 0-16 16v48H64.45L64 136h33l20.09 314A32 32 0 0 0 149 480h214a32 32 0 0 0 31.93-29.95L415 136h33ZM176 416l-9-256h33l9 256Zm96 0h-32V160h32Zm24-320h-80V68a4 4 0 0 1 4-4h72a4 4 0 0 1 4 4Zm40 320h-33l9-256h33Z",vBoxWidth:512,vBoxHeight:512,width:16,height:16}],a=class extends t{getIconFromId=e=>o.find((t=>t.id===e));render(){const{icon:t,className:n,svgPath:o}=this.props,a=t?this.getIconFromId(t):null,i=a?a.iconSvgPath:o,l=a&&a.width?a.width:"18",r=a&&a.height?a.height:"18",s=a&&a.vBoxWidth?a.vBoxWidth:null,c=a&&a.vBoxWidth?a.vBoxWidth:null;return(0,e.createElement)("div",{className:"safi-icon-container "+n+(this.props.disabled?" --disabled":""),onClick:this.props.onClick,title:this.props.title,disabled:this.props.disabled},(0,e.createElement)("svg",{className:"svg",width:l,height:r,viewBox:`0 0 ${s||l} ${c||r}`,xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:i,fillRule:a?a.fillRule:"nonzero",fillOpacity:"1",fill:"#000",stroke:"none"})))}},{createContext:i}=wp.element,l=i(),{useContext:r}=wp.element,s=t=>{let{tools:n,activeTool:o,toolChanged:a}=t;const i=r(l),s=e=>{const t=e.target.closest(".safi-tool");if(t){const e=t.dataset.tool;a(e)}};return(0,e.createElement)("div",{id:"safi-design-tools",className:"safi-toolbar"},n.map((t=>{const n=!1===i&&t.pro!==i;return(0,e.createElement)("div",{id:"safi-tool-"+t.id,className:"safi-tool safi-icon-container"+(o===t.id?" --active":"")+(n?" --pro":""),"data-tool":t.id,"data-tooltip":t.label,title:t.label,onClick:s,disabled:n},(0,e.createElement)("svg",{className:"svg",width:"20",height:"20",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:t.iconSvgPath,fillRule:"nonzero",fillOpacity:"1",fill:"#000",stroke:"none"})))})))};function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c.apply(this,arguments)}var d=n(6932);class u{static counter={};static generateIDLabel=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const a=t.filter((t=>t.type===e));let i;if(0===a.length)i=0;else{const e=a[0],t=e.id.lastIndexOf("-")+1;i=parseInt(e.id.substr(t))}const l=i+1+n;return{id:e+"-"+l.toString(),label:e.charAt(0).toUpperCase()+e.slice(1)+" "+l.toString()+o}};static getParentId=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(const o of e){if(o.id===t)return n;let e;if(o.children&&(e=u.getParentId(o.children,t,o.id)))return e}return null};static getParent=(e,t,n)=>{const o=u.getParentId(n,e.id);let a="root";return o&&(a=t.find((e=>e.id===o))),a};static deleteElementRecursive=(e,t)=>e.filter((e=>e.id!==t&&(e.children&&e.children.length&&(e.children=u.deleteElementRecursive(e.children,t),e.children.length||delete e.children),!0)));static validateSVG=e=>function(e){if("string"!=typeof e)throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);if(0===(e=e.trim()).length)return!1;if(!0!==d.XMLValidator.validate(e))return!1;let t;const n=new d.XMLParser;try{t=n.parse(e)}catch{return!1}return!!t&&"svg"in t}(e);static validateCSS=e=>{const t=e.split("\n");var n=[],o=[];for(const e of t){if(0===e.length)continue;if(e.indexOf(":")>=0&&";"!==e.slice(-1)){n.push("Missing semi-column: "+e);continue}const t=e.replace(/;\s*$/,"");!1===CSS.supports(t)?n.push('Invalid property "'+e+'"'):o.push(e)}return n.length>0?{valid:!1,value:o.join("\n"),errors:n}:{valid:!0,value:o.join("\n")}};static isProTemplate=e=>{if(!e)return!1;if(e.content.tree.length>2)return!0;const t=e.content.elements,n=["dynamicimage","icon","svg","conditional","condition","columns","container"];return void 0!==t.find((e=>void 0!==n.find((t=>t===e.type))))};static slugify=e=>String(e).normalize("NFKD").replace(/[\u0300-\u036f]/g,"").trim().toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-");static removeKeys=(e,t)=>e!==Object(e)?e:Array.isArray(e)?e.map((e=>u.removeKeys(e,t))):Object.keys(e).filter((e=>!t.includes(e))).reduce(((n,o)=>Object.assign(n,{[o]:u.removeKeys(e[o],t)})),{})}const{applyFilters:p}=wp.hooks,{__}=wp.i18n,{useContext:m,useState:h,useEffect:f}=wp.element,g=t=>{let{type:n,label:o,width:a,height:i,x:r,y:s,angle:c,margin:d,padding:g,border:v,borderRadius:y,isSelected:b,locked:w,hidden:E,tag:C,styles:x,zIndex:S,opacity:N,classes:k,customCss:I,onResizingStart:D,onResizingEnd:T,onRotateStart:L,onRotateEnd:M,onCornerStart:P,onCornerEnd:O,isHighlighted:A,highlightPadding:_,onActionEnd:j,baseInfoHelper:H,...R}=t;const[F,V]=h(!1),[B,z]=h(!1),[U,W]=h(!1),Z=m(l),G=C,$=c?parseFloat(c):0;f((()=>{z(!1)}),[M]),f((()=>{W(!1)}),[O]);const X=(()=>{let e={};return Z&&I&&!0===u.validateCSS(I).valid&&(e=function(e){try{return p("safi-parse-css",e)}catch(e){console.error("Couldn't convert CSS to JS.",e)}}(I)),e})(),K=(()=>{let e={position:"absolute",userSelect:"none",width:(null!==a?a:100)+"px",height:(null!==i?i:100)+"px",top:s||"0px",left:r||"0px",borderWidth:(null!=v&&v.top?v.top:0)+"px "+(null!=v&&v.right?v.right:0)+"px "+(null!=v&&v.bottom?v.bottom:0)+"px "+(null!=v&&v.left?v.left:0)+"px"||null,borderStyle:"solid",borderRadius:(null!=y&&y.topLeft?y.topLeft:0)+"px "+(null!=y&&y.topRight?y.topRight:0)+"px "+(null!=y&&y.bottomRight?y.bottomRight:0)+"px "+(null!=y&&y.bottomLeft?y.bottomLeft:0)+"px"||null,margin:(null!=d&&d.top?d.top:0)+"px "+(null!=d&&d.right?d.right:0)+"px "+(null!=d&&d.bottom?d.bottom:0)+"px "+(null!=d&&d.left?d.left:0)+"px"||null,padding:(null!=g&&g.top?g.top:0)+"px "+(null!=g&&g.right?g.right:0)+"px "+(null!=g&&g.bottom?g.bottom:0)+"px "+(null!=g&&g.left?g.left:0)+"px"||null,zIndex:S||null,opacity:N,boxSizing:"border-box"};return e.transform="rotate("+$+"deg)",e})(),Y=(()=>{let e="safi-object safi-object-"+n;return!0===b&&(e+=" --selected"),!0===w&&(e+=" --locked"),!0===E&&(e+=" --hidden"),!0===_&&(e+=" --show-padding"),e+(null!=R.className?" "+R.className:"")+(null!=k?" "+k:"")})(),J=(e,t)=>{e.stopPropagation(),e.preventDefault();const n={corner:t,x:parseFloat(r),y:parseFloat(s),width:parseFloat(a),height:parseFloat(i)};D(e,n)},q=()=>({width:a+4,height:i+4,left:r-2||-2,top:s-2||-2,width:"calc("+a.toString()+"px + 4px / var(--safi-zoom))",height:"calc("+i.toString()+"px + 4px / var(--safi-zoom))",left:"calc("+r.toString()+"px - 2px / var(--safi-zoom))"||0,top:"calc("+s.toString()+"px - 2px / var(--safi-zoom))"||0,transform:"rotate("+$+"deg)"}),Q=(null==y?void 0:y.topLeft)===(null==y?void 0:y.topRight)&&(null==y?void 0:y.topRight)===(null==y?void 0:y.bottomRight)&&(null==y?void 0:y.bottomRight)===(null==y?void 0:y.bottomLeft)&&(null==y?void 0:y.bottomLeft)===(null==y?void 0:y.topLeft)?null==y?void 0:y.topLeft:null;return(0,e.createElement)("div",{onMouseEnter:()=>V(!0),onMouseLeave:()=>V(!1)},(0,e.createElement)(G,{className:Y,style:{...K,...x,...X},"data-id":R.id},R.children),(F||A)&&!b&&"container"!==n&&(0,e.createElement)("div",{className:"safi-highlight",style:q()}),!w&&b&&"container"!==n&&(0,e.createElement)("div",{className:"safi-handles",style:q()},(0,e.createElement)("div",{className:"safi-handle --handle-top-left",onMouseDown:e=>J(e,"top-left")}),(0,e.createElement)("div",{className:"safi-handle --handle-top",onMouseDown:e=>J(e,"top")}),(0,e.createElement)("div",{className:"safi-handle --handle-top-right",onMouseDown:e=>J(e,"top-right")}),(0,e.createElement)("div",{className:"safi-handle --handle-right",onMouseDown:e=>J(e,"right")}),(0,e.createElement)("div",{className:"safi-handle --handle-bottom-right",onMouseDown:e=>J(e,"bottom-right")}),(0,e.createElement)("div",{className:"safi-handle --handle-bottom",onMouseDown:e=>J(e,"bottom")}),(0,e.createElement)("div",{className:"safi-handle --handle-bottom-left",onMouseDown:e=>J(e,"bottom-left")}),(0,e.createElement)("div",{className:"safi-handle --handle-left",onMouseDown:e=>J(e,"left")}),!0===Z&&(0,e.createElement)("div",{className:"safi-handle --handle-rotate",onMouseDown:(e,t)=>{e.stopPropagation(),e.preventDefault(),z(!0);const n={corner:t,x:parseFloat(r),y:parseFloat(s),width:parseFloat(a),height:parseFloat(i),centerX:parseFloat(r)+parseFloat(a/2),centerY:parseFloat(s)+parseFloat(i/2),angle:$};L(e,n)}},B&&(0,e.createElement)("div",{className:"safi-action-value",style:{transform:"rotate("+(360-parseFloat($))+"deg)"}},parseFloat($).toFixed(2).replace(".00","")+"°")),"circle"!==n&&"icon"!==n&&"svg"!==n&&!0===Z&&(0,e.createElement)("div",{className:"safi-handle --handle-corner",style:null!=y&&y.topLeft&&(null==y?void 0:y.topLeft)===(null==y?void 0:y.topRight)&&(null==y?void 0:y.topRight)===(null==y?void 0:y.bottomRight)&&(null==y?void 0:y.bottomRight)===(null==y?void 0:y.bottomLeft)&&(null==y?void 0:y.bottomLeft)===(null==y?void 0:y.topLeft)?{top:(null==y?void 0:y.topLeft)+5,left:(null==y?void 0:y.topLeft)+5}:{top:5,left:5},onMouseDown:(e,t)=>{e.stopPropagation(),e.preventDefault(),W(!0);const n={x:parseFloat(r),y:parseFloat(s),handleTop:e.target.offsetTop,handleLeft:e.target.offsetLeft};P(e,n)},onMouseEnter:()=>H(__("Drag to round all corners","wpjoli-safi")),onMouseLeave:()=>H("")},U&&Q>=0&&(0,e.createElement)("div",{className:"safi-action-value"},Q))),w&&b&&"container"!==n&&(0,e.createElement)("div",{className:"safi-handles",style:q()}))},v=t=>{const n=!0===t.isHidden?"none":"1px dashed";return(0,e.createElement)(g,c({tag:"div",styles:{zIndex:999999999,backgroundColor:"#0000000a",border:n,boxSizing:"border-box"}},t),t.children)},{__:y}=wp.i18n,{useState:b,useEffect:w}=wp.element,E=t=>{let{text:n,fontSize:o,lineHeight:a,fontFamily:i,infoHelper:l,onTextChanged:r,...s}=t;const[d,u]=b(!1),[p,m]=b(n),[h,f]=b(!1);w((()=>{m(n)}),[n]),w((()=>{"New text"===n&&f(!0)}),[]);const v=a||1,E={...s.styles,display:"flex",fontSize:o+"px",fontFamily:i,lineHeight:v,whiteSpace:"pre-line"},C=()=>!0===d?"Lorem ipsum dolor sit amet earum aut consequatur harum hic illum voluptas":p;return(0,e.createElement)(g,c({},s,{tag:"div",styles:E}),(0,e.createElement)("div",{className:"safi-text-placeholder"+(d?" --lipsum":""),onClick:()=>u(!d),onMouseEnter:()=>l(y("Activate a filler text to help you style","wpjoli-safi")),onMouseLeave:()=>l("")},"Lorem ipsum"),(0,e.createElement)("div",{className:"safi-text-inner",onDoubleClick:()=>{u(!1),f(!0)},onBlur:()=>f(!1),style:""==p?{width:"100%",height:"100%"}:h?{padding:"inherit"}:void 0},!h&&C(),h&&(0,e.createElement)("textarea",{className:"safi-text-edit safi-plain",name:"prop-text-content",id:"safi-text-content",placeholder:"Enter text here...",value:C(),onChange:e=>{const t=e.target.value;m(t),r(t)},onKeyDown:e=>{13===e.keyCode&&!1===e.shiftKey&&e.preventDefault()},onKeyUp:e=>{27===e.keyCode&&(m(n),f(!1)),13===e.keyCode&&!1===e.shiftKey&&(r(p),f(!1))},onBlur:e=>{r(p,!0)},autoFocus:!0,onFocus:e=>e.target.select()})))},C=t=>{let{imageStyles:n,sourceType:o,sourceFrom:a,srcUrl:i,srcMedia:l,srcDynamic:r,srcTemplate:s,fit:d,...u}=t;const p=(()=>{let e=null;switch(o){case"url":var t;e=a&&"unsplash"===a?i+"&q=90&w="+((null===(t=u.canvas)||void 0===t?void 0:t.width)||"").toString():i;break;case"media":e=l;break;case"dynamic":e=r;break;case"template":e=SAFI.options.pluginUrl+"assets/templates/"+s}return e})(),m=null!==o?{...u.styles,backgroundImage:"url("+p+")",backgroundPosition:"center center",backgroundSize:d,backgroundRepeat:"no-repeat"}:{backgroundColor:"gray",backgroundImage:"url("+SAFI.options.pluginUrl+"assets/admin/img/image-placeholder.png)",backgroundPosition:"center center",backgroundSize:"contain",backgroundRepeat:"no-repeat"};return(0,e.createElement)(g,c({},u,{tag:"div",styles:m}))},x=t=>{let{...n}=t;return(0,e.createElement)(g,c({},n,{tag:"div",styles:n.styles}))},S=t=>{let{...n}=t;return(0,e.createElement)(g,c({},n,{tag:"div",styles:n.styles}))},N=t=>{let{...n}=t;const o={...n.styles};return(0,e.createElement)(g,c({},n,{tag:"div",styles:o}),n.children)},{useState:k,useEffect:I}=wp.element,D=t=>{let{width:n,height:o,layout:a,top:i,...l}=t;const r=void 0!==l.children,[s,d]=k(r?l.children:[]);return I((()=>{if(!s.length){const t=a.map((t=>(0,e.createElement)(N,null)));d(t)}}),[s]),(0,e.createElement)(g,c({},l,{tag:"div",styles:l.styles}),l.children)},T=t=>{let{fontSize:n,iconPrefix:o,icon:a,...i}=t;const l=(()=>{let e=i.width;return i.height<i.width&&(e=i.height),{...i.styles,fontSize:e/1.25+"px"}})(),r=a?o+" fa-"+a:"";return(0,e.createElement)(g,c({},i,{tag:"i",className:r,styles:l}))},L=t=>{let{activeChild:n,...o}=t;return(0,e.createElement)("div",null,o.children)},M=t=>{let{isSelected:n,conditionalShow:o,onConditionSelected:a,...i}=t;return(0,e.createElement)("div",null,!0===o&&i.children)},P=(wp.apiFetch,[{value:"first-image",label:"First image from post"},{value:"author-image",label:"Author image"},{value:"site-logo",label:"Site logo"},{value:"acf-image",label:"ACF image"},{value:"youtube",label:"YouTube thumbnail"}]),O=t=>{let{imageStyles:n,sourceType:o,dynImageSource:a,srcUrl:i,srcMedia:l,srcDynamic:r,fit:s,...d}=t;const u=(()=>{if(null!==o)return{...d.styles};{let e=null;return e="url(\"data:image/svg+xml,%3Csvg fill='%23c0c0c0' version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='100px' height='100px' viewBox='0 0 120 120' enable-background='new 0 0 120 120' xml:space='preserve' stroke='%23c0c0c0'%3E%3Cg id='SVGRepo_bgCarrier' stroke-width='0'%3E%3C/g%3E%3Cg id='SVGRepo_tracerCarrier' stroke-linecap='round' stroke-linejoin='round'%3E%3C/g%3E%3Cg id='SVGRepo_iconCarrier'%3E%3Cpolygon points='106.739,41.135 47.711,119.699 61.321,64.439 29.656,64.973 42.59,0 80.997,0 65.58,41.17 '%3E%3C/polygon%3E%3C/g%3E%3C/svg%3E\")",{...d.styles,backgroundColor:"gray",backgroundImage:"url("+SAFI.options.pluginUrl+"assets/admin/img/image-placeholder.png)",backgroundPosition:"center top",backgroundSize:"30px",backgroundRepeat:"no-repeat",backgroundImage:e}}})(),p=(()=>{const e=P.find((e=>e.value===a));return!!e&&e.label})();return(0,e.createElement)(g,c({},d,{tag:"div",styles:u}),(0,e.createElement)("div",{className:"dyn-img-type"},p))},{__:A}=wp.i18n,_=t=>{let{svgCode:n,...o}=t;const a={...o.styles},i=n||"";return(0,e.createElement)(g,c({},o,{tag:"div",styles:a}),i&&(0,e.createElement)("div",{className:"safi-object-child",dangerouslySetInnerHTML:{__html:i}}),!i&&(0,e.createElement)("div",{className:"safi-object-child --info"},A("Import / paste a SVG from the SVG panel","wpjoli-safi")))},{__:j}=wp.i18n,{useState:H,useEffect:R,useContext:F}=wp.element,V=t=>{let{canvas:n,elements:o,tree:a,globalStyles:i,activeTool:r,showGrid:s,toolChanged:c,currentKey:d,selectedElement:u,selectedElementID:p,onCreateElement:m,onSelectElement:h,onChangeElement:f,onColumnsAdded:g,onTriggerSnapshot:y,onConditionalAdded:b,infoHelper:w,onDeselect:k,highlightedLayer:I}=t;const P=F(l),[A,V]=H(!1),[B,z]=H({x:0,y:0,width:0,height:0}),[U,W]=H({x:0,y:0}),[Z,G]=H(!1),[$,X]=H(!1),[K,Y]=H(!1),[J,q]=H(!1),[Q,ee]=H({x:0,y:0}),[te,ne]=H({x:0,y:0}),[oe,ae]=H(!1),[ie,le]=H({x:0,y:0}),[re,se]=H(!1),[ce,de]=H({x:0,y:0,centerX:0,centerY:0}),[ue,pe]=H(!1),[me,he]=H({x:0,y:0,centerX:0,centerY:0}),[fe,ge]=H(!1),[ve,ye]=H(!1),[be,we]=H({corner:null,x:0,y:0,width:0,height:0,angle:0}),[Ee,Ce]=H(!1);let xe,Se,Ne,ke,Ie=(null==n?void 0:n.gridSize)||10;const De=!0;R((()=>{Ie=(null==n?void 0:n.gridSize)||10}),[n]),R((()=>{G(!Z)}),[o]),R((()=>{!1===ue&&ye(!ve)}),[ue]),R((()=>{!1===re&&ge(!fe)}),[re]),R((()=>{null!=d&&Re(d)}),[d]);let Te=0;const Le=e=>{const t=document.getElementById("safi-canvas"),o=(null==n?void 0:n.zoom)||1;var a=t.getBoundingClientRect();return{x:Math.round((e.clientX-a.left)/o),y:Math.round((e.clientY-a.top)/o)}},Me=e=>{const t=document.getElementById("safi-canvas"),o=(null==n?void 0:n.zoom)||1;var a=t.getBoundingClientRect(),i=Math.round((e.clientX-a.left)/o),l=Math.round((e.clientY-a.top)/o);let r=i,s=l;return!0!==e.ctrlKey&&!0!==e.metaKey||(r=Pe(r),s=Pe(s),i<n.width+10&&i>n.width-10?r=n.width:i<10&&i>-10&&(r=0),l<n.height+10&&l>n.height-10?s=n.height:l<10&&l>-10&&(s=0),i<n.width/2+10&&i>n.width/2-10&&(r=n.width/2),l<n.height/2+10&&l>n.height/2-10&&(s=n.height/2)),{x:r,y:s}},Pe=e=>Ie*Math.round(e/Ie),Oe=(e,t)=>{var n;return e.some((function e(o){var a;return(null===(a=o.props)||void 0===a?void 0:a.id)===t?(n=o,!0):Array.isArray(o.props.children)&&o.props.children.some(e)})),n},Ae=function(e){if(1==(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){let t=document.elementsFromPoint(e.clientX,e.clientY);if(t&&(t=t.filter((e=>e.classList.contains("safi-object")&&e.classList.contains("--selected")))),t.length>0)return t[0].dataset.id}if(e.target.classList.contains("safi-object-child"))return e.target.parentNode.dataset.id;if(e.target.classList.contains("safi-object"))return e.target.dataset.id;{const t=e.target.closest(".safi-object");if(t)return t.dataset.id}return!1},_e=(()=>{let e="initial";return"select"!==r&&(e="crosshair"),{color:"#000",backgroundColor:null==n?void 0:n.backgroundColor,width:(null==n?void 0:n.width)+"px",height:(null==n?void 0:n.height)+"px",cursor:e,backgroundSize:Ie+"px "+Ie+"px"}})(),je=function(e){f(p,{text:e},arguments.length>1&&void 0!==arguments[1]&&arguments[1])},He=(e,t,a)=>{if(!e)return;let i,l={...e};"columns"!==l.type&&Te++,l.zIndex=Te,l.canvas=n,l.key=e.id,l.onResizingStart=(e,t)=>((e,t)=>{le(Se),we(t),ae(!0),y()})(0,t),P&&(l.onRotateStart=(e,t)=>((e,t)=>{de(Se),we(t),se(!0),y()})(0,t),l.onCornerStart=(e,t)=>((e,t)=>{he(Se),we(t),pe(!0),y()})(0,t),l.onRotateEnd=fe,l.onCornerEnd=ve),l.infoHelper=w,l.baseInfoHelper=w,e.id==p&&(l.isSelected=!0),e.id==I&&(l.isHighlighted=!0);const r=e.type.toLowerCase();return"text"===r?(l.onTextChanged=je,i=wp.element.createElement(E,l)):"image"===r?i=wp.element.createElement(C,l):"rect"===r?i=wp.element.createElement(x,l):"circle"===r?i=wp.element.createElement(S,l):"dynamicimage"===r?i=wp.element.createElement(O,l):"icon"===r?i=wp.element.createElement(T,l):"svg"===r?i=wp.element.createElement(_,l):"columns"===r?i=wp.element.createElement(D,l):"conditional"===r?i=wp.element.createElement(L,l):"condition"===r?(l.conditionalShow=a.props.activeChild===l.id,i=wp.element.createElement(M,l)):"container"===r&&(i=wp.element.createElement(N,l)),null!==t&&"object"==typeof i&&(i.props.children=t.slice(0).reverse().map((e=>{const t=o.find((t=>t.id==e.id)),n=e.hasOwnProperty("children")?e.children:null;return He(t,n,i)}))),i};(()=>{if(!a||!a.length)return;Te=0;const e=a.slice(0).reverse().map((e=>{const t=o.find((t=>t.id==e.id)),n=e.hasOwnProperty("children")?e.children:null;return He(t,n)}));xe=e})();const Re=e=>{if(null==e||"keyup"!==e.type)return;if("text"===e.target.type||"textarea"===e.target.type||"number"===e.target.type)return;let t,n=1;if(!0===e.shiftKey?n=10:!0!==e.ctrlKey&&!0!==e.metaKey||(n=100),p&&-1===p.indexOf("container")){var o;if(-1===[37,38,39,40].findIndex((t=>t===e.keyCode)))return!1;if("object"==typeof xe&&(t=Oe(xe,p)),!0===(null===(o=t)||void 0===o?void 0:o.props.locked))return!1;let a;switch(e.keyCode){case 38:a={y:t.props.y-1*n};break;case 40:a={y:t.props.y+1*n};break;case 39:a={x:t.props.x+1*n};break;case 37:a={x:t.props.x-1*n}}f(p,a)}},Fe={"--safi-zoom":null==n?void 0:n.zoom,transform:"scale("+(null==n?void 0:n.zoom)+")",width:5*((null==n?void 0:n.width)||1200)+"px",height:5*((null==n?void 0:n.height)||624)+"px"},Ve=null==n?void 0:n.height,Be=null==n?void 0:n.width,ze=(()=>{let e=[];return s&&e.push("--show-grid"),ue&&e.push("--is-cornering"),e.join(" ")})();return(0,e.createElement)("div",{id:"safi-canvas-wrap",tabIndex:"0",onClick:e=>k(e),onMouseDown:e=>{if(0!==e.button)return;if("textarea"===e.target.type)return;X(!0);const t=Me(e);if(q(t),"conditional"!==r){if("select"===r){const n=Ae(e,!0);if(n===p&&-1===n.indexOf("container")&&"object"==typeof xe){let e=Oe(xe,n);if(!0===e.props.locked)return!1;Y(!0),ee(t),ne({x:e.props.x,y:e.props.y}),y()}}"select"!==r&&"columns"!==r&&(V(!0),W(t),z({x:t.x,y:t.y,width:0,height:0}),y())}},onMouseMove:e=>{var t,o;if("textarea"!==e.target.type)if(Se=Me(e),"select"===r&&!0===K){e.preventDefault();const a=Le(e),i=a.x-Q.x,l=a.y-Q.y;Ne={x:te.x+i,y:te.y+l},w(j("Hold Ctrl to snap to grid / Hold Shift to move along a fixed axis","wpjoli-safi")),!0===e.shiftKey&&(w(j("Hold Ctrl to snap to grid","wpjoli-safi")),Ne=Math.abs(l)>Math.abs(i)?{x:te.x,y:te.y+l}:{x:te.x+i,y:te.y}),!0!==e.ctrlKey&&!0!==e.metaKey||(Ne={x:(o=Ne.x,o<n.width/2+10&&o>n.width/2-10?n.width/2:Ie*Math.round(o/Ie)),y:(t=Ne.y,t<n.height/2+10&&t>n.height/2-10?n.height/2:Ie*Math.round(t/Ie))}),f(p,Ne)}else if("select"!==r&&!0===A){const t=Me(e);let n=t.x-U.x,o=t.y-U.y,a=n,i=o;w(j("Hold Shift to keep an even ratio","wpjoli-safi")),!0===e.shiftKey&&(a=Math.min(n,o),i=Math.min(n,o)),z({x:U.x,y:U.y,width:a||n,height:i||o})}else if(!0===re&&ce){w(j("Hold Ctrl to snap rotation by 15° step /  Shift: 5° / Alt: 1°","wpjoli-safi"));const t=Le(e);var a=ce.x-be.centerX,i=ce.y-be.centerY,l=t.x-be.centerX,s=t.y-be.centerY,c=Math.atan2(a*s-i*l,a*l+i*s)*(180/Math.PI);const n=e=>{for(;e>360;)e-=360;return e<0&&(e+=360),e};let o=0;if(e.ctrlKey||e.metaKey?o=15:e.shiftKey?o=5:e.altKey?o=1:ke={angle:n(be.angle+c)},e.ctrlKey||e.metaKey||e.shiftKey||e.altKey){var d=Math.round((be.angle+c)/o)*o;ke={angle:n(d)}}f(p,ke,!1)}else if(!0===ue&&me)w(j("Hold Ctrl to snap corner radius by grid size / Hold Shift to snap corner radius by 4px","wpjoli-safi")),a=Le(e).x-(be.x+5),e.ctrlKey||e.metaKey?a=(e=>{const t=Ie;return t*Math.round(e/t)})(a):e.shiftKey&&(a=(e=>4*Math.round(e/4))(a)),a<0&&(a=0),ke={borderRadius:{topLeft:a,topRight:a,bottomRight:a,bottomLeft:a}},f(p,ke,!1);else if(!0===oe&&ie){Me(e);let t=Se.x-(be.width+be.x),n=Se.y-(be.height+be.y),o=Se.x-be.x,a=Se.y-be.y,i=0,l=0;w(j("Hold Ctrl to snap to grid / Hold Alt to resize from center.","wpjoli-safi")),(e.ctrlKey||e.metaKey)&&(i=be.x%Ie,l=be.y%Ie);const r=t=>!0===e.altKey?t:0,s=t=>!0===e.altKey?2*t:t;if("top-left"===be.corner)ke={x:Se.x,y:Se.y,height:be.height-s(a),width:be.width-s(o)};else if("top"===be.corner)ke={y:Se.y,height:be.height-s(a)};else if("top-right"===be.corner)ke={y:Se.y,x:be.x-r(t),width:be.width+s(t),height:be.height-s(a)};else if("right"===be.corner)ke={x:be.x-r(t),width:be.width+s(t)};else if("bottom-right"===be.corner)if(w(j("Hold Ctrl to snap to grid / Hold Shift to maintain aspect ratio / Hold Alt to resize from center","wpjoli-safi")),!0===e.shiftKey){const o=((e,t,n,o)=>{var a=Math.min(n/e,o/t);return{width:e*a,height:t*a}})(be.width,be.height,be.width+s(t),be.height+s(n)),a=!0===e.altKey?(o.width-be.width)/2:r(t),i=!0===e.altKey?(o.height-be.height)/2:r(n);ke={x:be.x-a,y:be.y-i,width:o.width,height:o.height}}else ke={x:be.x-r(t),y:be.y-r(n),width:be.width+s(t),height:be.height+s(n)};else"bottom"===be.corner?ke={y:be.y-r(n),height:be.height+s(n)}:"bottom-left"===be.corner?ke={x:Se.x,y:be.y-r(n),width:be.width-s(o),height:be.height+s(n)}:"left"===be.corner&&(ke={x:Se.x,width:be.width-s(o)});f(p,ke)}},onMouseUp:e=>{if(0===!e.button)return;const t=Me(e),n=t.x-J.x,o=t.y-J.y,a=!1!==J&&(0!==n||0!==o);if(w(""),"conditional"!==r){if("select"!==r&&!0===A){const t=Me(e),n=t.x-U.x,o=t.y-U.y;let a=n,i=o;if(!0===e.shiftKey&&(a=Math.min(n,o),i=Math.min(n,o)),n>0&&o>0){const e={x:U.x,y:U.y,width:a||n,height:i||o};m(e)}}if("select"!==r&&(V(!1),z({x:0,y:0,width:0,height:0})),!0===$&&"select"===r&&!0!==a&&!0!==oe&&!0!==re){const t=Ae(e);!1!==t?(h(t),w(j("Press Alt + D to duplicate layer.","wpjoli-safi"))):1==!oe&&1==!re&&(h(null),w(""))}"select"===r&&!0===K&&(f(p,Ne,De),Y(!1)),!0===oe&&(f(p,ke,De),ae(!1)),!0===re&&(f(p,ke,De),se(!1)),!0===ue&&(f(p,ke,De),pe(!1)),X(!1)}else b()}},(0,e.createElement)("div",{id:"safi-canvas-outer",style:Fe},(0,e.createElement)("div",{id:"safi-canvas",style:_e,className:ze,tabIndex:"1",onKeyDown:e=>{"textarea"!==e.target.type&&-1!==[37,38,39,40].findIndex((t=>t===e.keyCode))&&e.preventDefault()}},s&&(0,e.createElement)("div",{id:"safi-center-line-h",className:"safi-center-line"}),s&&(0,e.createElement)("div",{id:"safi-center-line-v",className:"safi-center-line"}),(0,e.createElement)("style",null,i),"conditional"===r&&(0,e.createElement)("div",{id:"safi-condition-overlay",style:{opacity:0}},(0,e.createElement)("div",{id:"safi-condition-area",className:"safi-area",onClick:e=>{"safi-area"!==e.target.id&&"safi-area-label"!==e.target.id||Ce(!0)}},(0,e.createElement)("span",null,"Click to add a new conditional layer"))),o&&xe,(0,e.createElement)(v,{isHidden:!A,x:B.x||0,y:B.y||0,width:B.width||0,height:B.height||0})),(0,e.createElement)("div",{className:"canvas-outer-background --top",style:{position:"absolute",height:2*Ve},onClick:e=>k(e)}),(0,e.createElement)("div",{className:"canvas-outer-background --right",style:{width:2*Be,height:Ve},onClick:e=>k(e)}),(0,e.createElement)("div",{className:"canvas-outer-background --bottom",style:{height:2*Ve},onClick:e=>k(e)}),(0,e.createElement)("div",{className:"canvas-outer-background --left",style:{width:2*Be,height:Ve},onClick:e=>k(e)})))},{useState:B}=wp.element,z=t=>{let{id:n,collapsible:o,activeElement:a,canvas:i,onCanvasChange:l,...r}=t;const[s,c]=B(!1);return(0,e.createElement)("div",{id:"safi-sidebar-"+n,className:"safi-sidebar"+(s?" --collapsed":"")},(0,e.createElement)("div",{className:"safi-sidebar-content --safi-scroll-thin"},r.children),!0===o&&(0,e.createElement)("div",{className:"safi-sidebar-footer"},(0,e.createElement)("div",{id:"safi-sidebar-toggle",onClick:()=>c(!s)},(0,e.createElement)("span",{className:"material-icons"},s?"chevron_right":"chevron_left"))))},{useState:U,useEffect:W}=wp.element,{ColorPicker:Z}=wp.components,G=t=>{let{color:n,alpha:o,onColorChange:a,onColorChangeComplete:i,onTriggerSnapshot:l,...r}=t;const[s,c]=U(n),[d,u]=U(!1);return W((()=>{c(n)}),[n]),(0,e.createElement)("div",{className:"safi-input"},(0,e.createElement)("div",{className:"safi-colorpicker--container"},(0,e.createElement)("div",{className:"color-sample",onClick:()=>{u(!d)},style:{backgroundColor:s}}),(0,e.createElement)("div",{className:"color-hex"},(0,e.createElement)("input",{type:"text",className:"color-hex-input",value:s||"unset"})),d?(0,e.createElement)("div",{style:{backgroundColor:"white",position:"absolute",zIndex:"2",right:"calc(100% + 10px)",top:"calc(50% - 180px)"}},(0,e.createElement)("div",{className:"overlayCP",style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:()=>{u(!1)}}),(0,e.createElement)(Z,{color:s||void 0,onChange:e=>{c(e),a&&a(e)},onMouseDown:e=>{l()},onMouseUp:e=>{i&&i(s)},enableAlpha:!0,defaultValue:"#000"})):null,(0,e.createElement)("span",{title:"Clear",className:"safi-box-control-icon icon-clear dashicons",onMouseDown:()=>{i&&i(void 0)}})))},{useContext:$,useState:X,useEffect:K}=wp.element,Y=t=>{let{isOpen:n,...o}=t;const a=$(l),i=!1===a||void 0===n||n,[r,s]=X(i),c=!0===o.disabled&&!1===a;return K((()=>{s(!1===a||void 0===n||n)}),[n]),(0,e.createElement)("div",{id:o.id,className:"safi-panel"+(c?" --pro":"")+(!1===o.isCollapsible?"":" --is-collapsible")+(r?" --opened":""),disabled:o.disabled},!o.noHeader&&(0,e.createElement)("div",{className:"safi-panel-header",onClick:e=>{if(!1===o.isCollapsible)return!1;s(!r)}},(0,e.createElement)("div",{className:"safi-panel-name"},o.name)),r&&(0,e.createElement)("div",{className:"safi-panel-content"},o.children))},{useState:J,useEffect:q,useContext:Q}=wp.element,ee=t=>{let{canvas:n,onCanvasDataChange:o}=t;const a=Q(l),[i,r]=J(n),[s,c]=J(!1),[d,u]=J(null==(null==n?void 0:n.globalCss)?"":n.globalCss);let p;return q((()=>{r(n)}),[n]),(0,e.createElement)(Y,{header:!0,name:"Global CSS",disabled:!1===a},(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("label",{htmlFor:"prop-css"},(0,e.createElement)("span",null,"Write your custom styles here and use them throughout the template.")),(0,e.createElement)("textarea",{name:"prop-css",className:"safi-plain",id:"safi-global-css",placeholder:".my-class{\r margin: 10px;\r backdrop-filter: blur(10px);\r\n...\r\n}",value:d,onChange:e=>{const t=e.target.value;p=!0,u(t)},rows:20,onBlur:e=>(e=>{let t={...i};t.globalCss=e,o(t)})(e.target.value)}),!1!==s&&(0,e.createElement)("ol",{className:"css-errors"},s.map((t=>(0,e.createElement)("li",null,t))))))))},{useState:te,useEffect:ne,useContext:oe}=wp.element,ae=t=>{let{canvas:n,onCanvasDataChange:o,onTriggerSnapshot:a}=t;const i=oe(l),[r,s]=te(n);ne((()=>{s(n)}),[n]);const c=()=>{const e=r.templateName;e?e.length>50?alert("A name cannot be longer than 50 characters"):o(r):alert("A name is required")};return(0,e.createElement)("div",null,(0,e.createElement)(Y,{header:!0,name:"Template name"},(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("input",{type:"text",id:"safi-tpl-name",className:"safi-plain --stealth",autoComplete:"false",name:"safi-tpl-name",value:null==r?void 0:r.templateName,onChange:e=>{e.target.value;let t={...r};t.templateName=e.target.value,s(t)},onKeyUp:e=>{13===e.keyCode&&c()},onBlur:c}))))),(0,e.createElement)(Y,{header:!0,name:"Background"},(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)(G,{color:(null==r?void 0:r.backgroundColor)||null,onColorChange:e=>{let t={...r};t.backgroundColor=e,s(t),o(t,!1)},onColorChangeComplete:e=>{let t={...r},n=e||"#ffffff";t.backgroundColor=n,s(t),o(t,!0)},onTriggerSnapshot:()=>a()}))))),(0,e.createElement)(Y,{header:!0,name:"Template size"},(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("label",{htmlFor:"propW"},(0,e.createElement)("span",null,"W"),(0,e.createElement)("input",{className:"safi-plain --stealth",type:"number",name:"propW",id:"propW",value:null==r?void 0:r.width,onChange:e=>{let t={...r};t.width=parseInt(e.target.value),!i&&t.width>1200&&(alert("Max width is 1200. Upgrade to Pro for max width up to 5000"),t.width=1200),s(t)},onBlur:()=>o(r)})))),(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("label",{htmlFor:"propH"},(0,e.createElement)("span",null,"H"),(0,e.createElement)("input",{className:"safi-plain --stealth",type:"number",name:"propH",id:"propH",value:null==r?void 0:r.height,onChange:e=>{let t={...r};t.height=parseInt(e.target.value),!i&&t.height>800&&(alert("Max width is 800. Upgrade to Pro for max width up to 5000"),t.height=800),s(t)},onBlur:()=>o(r)})))))),(0,e.createElement)(Y,{header:!0,name:"Grid size"},(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("input",{className:"safi-plain --stealth",type:"number",name:"",id:"",value:null==r?void 0:r.gridSize,onChange:e=>{let t={...r};t.gridSize=parseInt(e.target.value),s(t),o(t,!1)},onBlur:()=>o(r)}))))),(0,e.createElement)(ee,{canvas:r,onCanvasDataChange:e=>o(e)}))};var ie=n(6941);const{Component:le}=wp.element,re=class extends le{render(){return(0,e.createElement)("span",{class:"material-icons safi",onClick:this.props.onIconClick},this.props.icon)}},{__:se}=wp.i18n,{useState:ce,useEffect:de}=wp.element,ue=t=>{let{elements:n,tree:o,selectedLayer:i,onLayerDragged:l,onOrderChanged:r,onLayerSelected:s,onHovering:d,onElementDataChange:p,onAddNewCondition:m,isMouseDown:h,infoHelper:f,onDuplicateLayer:g,onDeleteLayer:v,...y}=t;const[b,w]=ce(o||[]),[E,C]=ce(i),[x,S]=ce(!1),[N,k]=ce(null),I={animation:150,fallbackOnBody:!0,swapThreshold:.65,ghostClass:"ghost",group:"shared"};de((()=>{n&&JSON.stringify(b)!==JSON.stringify(o)&&w(o),i!==E&&C(i)}),[o,i]);const D=(e,t,n)=>{for(let o in e)e[o]=e[o],"root"===n?e=t:e[o].id===n?e[o].children=t:e[o].children&&D(e[o].children,t,n);return e.filter((e=>void 0!==e))},T=(e,t)=>{if(t){const n=D(b,e,t);w(n);const o=n.map((e=>u.removeKeys(e,["selected","chosen"])));r(o,!0)}},L=e=>{if(e.target.closest(".safi-layer-controls"))return;const t=e.target.closest(".safi-layer").dataset.layerId;t&&(s(t),C(t))},M=function(t,o){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return;let l=["safi-layer",E==t.id.toLowerCase()?"--selected":"","--layer-"+t.type.toLowerCase(),t.locked?"--locked":"",t.dynamic?"--dynamic":"",t.collapsed?"--collapsed":"",t.hidden?"--invisible":"",!1!==x?"--is-editing":""];return(0,e.createElement)("div",{key:t.id.toLowerCase(),className:l.filter((e=>""!==e)).join(" "),"data-layer-id":t.id.toLowerCase(),"data-layer-label":!0,draggable:"true",onClick:L,onMouseOver:e=>{e.target.closest(".safi-layer").dataset.layerId==t.id.toLowerCase()&&d(t.id.toLowerCase())},onMouseOut:()=>{d(null)}},(0,e.createElement)("div",{className:"safi-layer-container",title:t.label,onMouseOver:()=>f(se("Double click to rename layer / Drag and drop to rearrange the order.","wpjoli-safi")),onMouseLeave:()=>f("")},("conditional"===t.type||"columns"===t.type)&&(0,e.createElement)("div",{onClick:()=>p(t.id.toLowerCase(),{collapsed:!t.collapsed})},(0,e.createElement)(re,{icon:t.collapsed?"expand_more":"expand_less"})),(0,e.createElement)(a,{className:"safi-layer-icon",icon:t.type.toLowerCase()}),x!==t.id.toLowerCase()&&(0,e.createElement)("div",{className:"safi-layer-label",onDoubleClick:()=>P(t)},t.label),x===t.id.toLowerCase()&&(0,e.createElement)("div",{className:"safi-layer-label-edit"},(0,e.createElement)("input",{type:"text",autoFocus:!0,onFocus:e=>e.target.select(),value:N,onChange:e=>k(e.target.value),onKeyDown:e=>O(e,t),onBlur:e=>A(e,t)})),(0,e.createElement)("div",{className:"safi-layer-controls"},"container"!==t.type&&"columns"!==t.type&&"conditional"!==t.type&&"condition"!==t.type&&(0,e.createElement)("div",{className:"safi-layer-control safi-eye",onClick:()=>p(t.id.toLowerCase(),{hidden:!t.hidden}),title:t.hidden?se("Unhide","wpjoli-safi"):se("Hide","wpjoli-safi")},(0,e.createElement)(a,{className:"safi-layer-icon",icon:t.hidden?"eye_off":"eye"})),"container"!==t.type&&"columns"!==t.type&&"conditional"!==t.type&&"condition"!==t.type&&(0,e.createElement)("div",{className:"safi-layer-control safi-lock",onClick:()=>p(t.id.toLowerCase(),{locked:!t.locked}),title:t.locked?se("Unlock layer","wpjoli-safi"):se("Lock position & disable on-canvas selection","wpjoli-safi")},(0,e.createElement)(a,{className:"safi-layer-icon",icon:t.locked?"lock":"lock_open"})),("text"===t.type||"image"===t.type||"icon"===t.type||"svg"===t.type)&&(0,e.createElement)("div",{className:"safi-layer-control safi-dynamic",onClick:()=>p(t.id.toLowerCase(),{dynamic:!t.dynamic}),title:t.dynamic?se("Make static","wpjoli-safi"):se("Make dynamic","wpjoli-safi")},(0,e.createElement)(a,{className:"safi-layer-icon",icon:(t.dynamic,"bolt")})),"conditional"===t.type&&(0,e.createElement)("div",{className:"safi-condition-add",onClick:()=>m(t.id.toLowerCase()),title:"Add a new condition"},(0,e.createElement)(a,{className:"safi-layer-icon",icon:"plus"})))),((t,o,a)=>{let i={};return null===o||"container"!==t.type&&"columns"!==t.type&&"conditional"!==t.type&&"condition"!==t.type||(i={children:o.map((e=>{const t=n.find((t=>t.id.toLowerCase()==e.id.toLowerCase())),o=e.hasOwnProperty("children")?e.children:null;return M(t,o)}))}),"container"===t.type||"condition"===t.type?(0,e.createElement)(ie.ReactSortable,c({className:"safi-layer-children"},I,{list:null!==o?o:[],setList:(e,t,n)=>{n.dragging&&n.dragging.props&&JSON.stringify(n.dragging.props.list)!==JSON.stringify(e)&&t&&T(e,t.options.parent)},parent:a?"root":t.id.toLowerCase()},i)):"columns"===t.type||"conditional"===t.type?(0,e.createElement)("div",c({className:"safi-layer-children",parent:a?"root":t.id.toLowerCase()},i)):void 0})(t,o,i),(!o||!(null!=o&&o.length))&&("condition"===t.type||"container"===t.type)&&(0,e.createElement)("div",{className:"safi-layer-tip"}," Drop layers here"))},P=e=>{S(e.id.toLowerCase()),k(e.label)},O=(e,t)=>{if(27===e.keyCode&&S(!1),13===e.keyCode){if(!N||""==N)return alert("Label cannot be empty"),!1;S(!1),p(t.id.toLowerCase(),{label:N})}},A=(e,t)=>{if(!N||""==N)return alert("Label cannot be empty"),!1;N&&""!==N&&(p(t.id.toLowerCase(),{label:N}),S(!1))};return(0,e.createElement)("div",null,!o.length&&(0,e.createElement)("div",{className:"no-layers flex flex-center",disabled:!0},se("Select a tool to create a layer !","wpjoli-safi")),(0,e.createElement)(ie.ReactSortable,c({id:"safi-layers"},I,{list:o,setList:(e,t)=>{t&&T(e,"root")}}),o.map((e=>{const t=n.find((t=>t.id.toLowerCase()==e.id.toLowerCase())),o=e.hasOwnProperty("children")?e.children:null;if(t)return M(t,o,!0)}))))},{useState:pe,useEffect:me}=wp.element,{__:he}=wp.i18n,fe=t=>{var n;let{element:o,onStyleUpdate:a,isMouseDown:i,onTriggerSnapshot:l,...r}=t;const[s,c]=pe(o);return me((()=>{c(o)}),[o]),(0,e.createElement)(Y,{header:!0,name:r.name||"Background color"},(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)(G,{color:(null===(n=s.styles)||void 0===n?void 0:n.backgroundColor)||null,onColorChange:e=>{a(s.id,"backgroundColor",e)},onColorChangeComplete:e=>{a(s.id,"backgroundColor",e,!0)},onTriggerSnapshot:()=>l()})))))};var ge=n(9196);const ve={fit:(0,e.createElement)("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M18.25 4C20.3211 4 22 5.67893 22 7.75V16.25C22 18.3211 20.3211 20 18.25 20H5.75C3.67893 20 2 18.3211 2 16.25V7.75C2 5.67893 3.67893 4 5.75 4H18.25ZM18.25 5.5H5.75C4.50736 5.5 3.5 6.50736 3.5 7.75V16.25C3.5 17.4926 4.50736 18.5 5.75 18.5H18.25C19.4926 18.5 20.5 17.4926 20.5 16.25V7.75C20.5 6.50736 19.4926 5.5 18.25 5.5ZM18.25 13C18.6642 13 19 13.3358 19 13.75V15C19 16.1046 18.1046 17 17 17H15.75C15.3358 17 15 16.6642 15 16.25C15 15.8358 15.3358 15.5 15.75 15.5H17C17.2761 15.5 17.5 15.2761 17.5 15V13.75C17.5 13.3358 17.8358 13 18.25 13ZM5.75 13C6.16421 13 6.5 13.3358 6.5 13.75V15C6.5 15.2761 6.72386 15.5 7 15.5H8.25C8.66421 15.5 9 15.8358 9 16.25C9 16.6642 8.66421 17 8.25 17H7C5.89543 17 5 16.1046 5 15V13.75C5 13.3358 5.33579 13 5.75 13ZM7 7H8.25C8.66421 7 9 7.33579 9 7.75C9 8.1297 8.71785 8.44349 8.35177 8.49315L8.25 8.5H7C6.75454 8.5 6.55039 8.67688 6.50806 8.91012L6.5 9V10.25C6.5 10.6642 6.16421 11 5.75 11C5.3703 11 5.05651 10.7178 5.00685 10.3518L5 10.25V9C5 7.94564 5.81588 7.08183 6.85074 7.00549L7 7ZM17 7C18.1046 7 19 7.89543 19 9V10.25C19 10.6642 18.6642 11 18.25 11C17.8358 11 17.5 10.6642 17.5 10.25V9C17.5 8.72386 17.2761 8.5 17 8.5H15.75C15.3358 8.5 15 8.16421 15 7.75C15 7.33579 15.3358 7 15.75 7H17Z",fill:"#212121"})),fitHeight:(0,e.createElement)("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M13.2197 6.78115C12.9534 6.51488 12.9292 6.09822 13.1471 5.80461L13.2197 5.72049L15.5871 3.35039C15.7128 3.14201 15.9629 3 16.2509 3C16.503 3 16.726 3.10886 16.862 3.27578L16.9148 3.35073L19.282 5.72049L19.3546 5.80461C19.5482 6.0656 19.5506 6.42381 19.3618 6.6872L19.282 6.78115L19.1979 6.85377C18.9369 7.04742 18.5787 7.04981 18.3153 6.86094L18.2213 6.78115L17 5.56V9.34383L16.9931 9.43288C16.9434 9.75319 16.6296 10 16.2499 10C15.8702 10 15.5565 9.75305 15.5068 9.43272L15.5 9.34367V5.56L14.2803 6.78115L14.1962 6.85377C13.9026 7.07162 13.4859 7.04742 13.2197 6.78115Z",fill:"#212121"}),(0,e.createElement)("path",{d:"M13.2226 17.2188C13.4889 16.9526 13.9055 16.9284 14.1991 17.1462L14.2832 17.2188L15.5029 18.44V14.6563C15.5029 14.2939 15.8386 14 16.2528 14C16.6325 14 16.9464 14.2468 16.9961 14.5671L17.0029 14.6562V18.44L18.2242 17.2188C18.4905 16.9526 18.9072 16.9284 19.2008 17.1462L19.2849 17.2188C19.5512 17.4851 19.5754 17.9018 19.3575 18.1954L19.2849 18.2795L16.9177 20.6493C16.7921 20.8578 16.5419 21 16.2538 21C15.9658 21 15.7157 20.858 15.59 20.6496L13.2226 18.2795C12.9297 17.9866 12.9297 17.5117 13.2226 17.2188Z",fill:"#212121"}),(0,e.createElement)("path",{d:"M6.25 3.99219C5.00736 3.99219 4 4.99955 4 6.24219V17.7422C4 18.9848 5.00736 19.9922 6.25 19.9922H10.25C10.6642 19.9922 11 19.6564 11 19.2422C11 18.828 10.6642 18.4922 10.25 18.4922H6.25C5.83579 18.4922 5.5 18.1564 5.5 17.7422V6.24219C5.5 5.82797 5.83579 5.49219 6.25 5.49219H10.25C10.6642 5.49219 11 5.1564 11 4.74219C11 4.32797 10.6642 3.99219 10.25 3.99219H6.25Z",fill:"#212121"})),fitWidth:(0,e.createElement)("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M20 6.24219C20 4.99955 18.9926 3.99219 17.75 3.99219H6.25C5.00736 3.99219 4 4.99955 4 6.24219V10.2422C4 10.6564 4.33579 10.9922 4.75 10.9922C5.16421 10.9922 5.5 10.6564 5.5 10.2422V6.24219C5.5 5.82797 5.83579 5.49219 6.25 5.49219H17.75C18.1642 5.49219 18.5 5.82797 18.5 6.24219V10.2422C18.5 10.6564 18.8358 10.9922 19.25 10.9922C19.6642 10.9922 20 10.6564 20 10.2422V6.24219Z",fill:"#212121"}),(0,e.createElement)("path",{d:"M17.2188 13.2197C17.4851 12.9534 17.9018 12.9292 18.1954 13.1471L18.2795 13.2197L20.6496 15.5871C20.858 15.7128 21 15.9629 21 16.2509C21 16.503 20.8911 16.726 20.7242 16.862L20.6493 16.9148L18.2795 19.282L18.1954 19.3546C17.9344 19.5482 17.5762 19.5506 17.3128 19.3618L17.2188 19.282L17.1462 19.1979C16.9526 18.9369 16.9502 18.5787 17.1391 18.3153L17.2188 18.2213L18.44 17H14.6562L14.5671 16.9931C14.2468 16.9434 14 16.6296 14 16.2499C14 15.8702 14.247 15.5565 14.5673 15.5068L14.6563 15.5H18.44L17.2188 14.2803L17.1462 14.1962C16.9284 13.9026 16.9526 13.4859 17.2188 13.2197Z",fill:"#212121"}),(0,e.createElement)("path",{d:"M6.78115 13.2226C7.04742 13.4889 7.07162 13.9055 6.85377 14.1991L6.78115 14.2832L5.56 15.5029H9.34367C9.7061 15.5029 10 15.8386 10 16.2528C10 16.6325 9.75319 16.9464 9.43288 16.9961L9.34383 17.0029H5.56L6.78115 18.2242C7.04742 18.4905 7.07162 18.9072 6.85377 19.2008L6.78115 19.2849C6.51488 19.5512 6.09822 19.5754 5.80461 19.3575L5.72049 19.2849L3.35072 16.9177C3.14219 16.7921 3 16.5419 3 16.2538C3 15.9658 3.14201 15.7157 3.35039 15.59L5.72049 13.2226C6.01338 12.9297 6.48826 12.9297 6.78115 13.2226Z",fill:"#212121"})),alignHorizontalLeft:(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none"},(0,e.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.375 1.625C3.78921 1.625 4.125 1.96079 4.125 2.375L4.125 22.375C4.125 22.7892 3.78921 23.125 3.375 23.125C2.96079 23.125 2.625 22.7892 2.625 22.375L2.625 2.375C2.625 1.96079 2.96079 1.625 3.375 1.625Z",fill:"#1C274C"}),(0,e.createElement)("path",{d:"M7.375 7.875C7.375 6.94038 7.375 6.47308 7.57596 6.125C7.70761 5.89697 7.89697 5.70761 8.125 5.57596C8.47308 5.375 8.94038 5.375 9.875 5.375H18.875C19.8096 5.375 20.2769 5.375 20.625 5.57596C20.853 5.70761 21.0424 5.89697 21.174 6.125C21.375 6.47308 21.375 6.94038 21.375 7.875C21.375 8.80962 21.375 9.27692 21.174 9.625C21.0424 9.85303 20.853 10.0424 20.625 10.174C20.2769 10.375 19.8096 10.375 18.875 10.375L9.875 10.375C8.94038 10.375 8.47308 10.375 8.125 10.174C7.89697 10.0424 7.70761 9.85303 7.57596 9.625C7.375 9.27692 7.375 8.80962 7.375 7.875Z",fill:"#1C274C"}),(0,e.createElement)("path",{d:"M7.375 16.875C7.375 15.9404 7.375 15.4731 7.57596 15.125C7.70761 14.897 7.89697 14.7076 8.125 14.576C8.47308 14.375 8.94038 14.375 9.875 14.375L15.875 14.375C16.8096 14.375 17.2769 14.375 17.625 14.576C17.853 14.7076 18.0424 14.897 18.174 15.125C18.375 15.4731 18.375 15.9404 18.375 16.875C18.375 17.8096 18.375 18.2769 18.174 18.625C18.0424 18.853 17.853 19.0424 17.625 19.174C17.2769 19.375 16.8096 19.375 15.875 19.375H9.875C8.94038 19.375 8.47308 19.375 8.125 19.174C7.89697 19.0424 7.70761 18.853 7.57596 18.625C7.375 18.2769 7.375 17.8096 7.375 16.875Z",fill:"#1C274C"})),alignHorizontalCenter:(0,e.createElement)("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M19 7.5C19 6.56538 19 6.09808 18.799 5.75C18.6674 5.52197 18.478 5.33261 18.25 5.20096C17.9019 5 17.4346 5 16.5 5L12.75 5L12.75 2C12.75 1.58579 12.4142 1.25 12 1.25C11.5858 1.25 11.25 1.58579 11.25 2L11.25 5L7.5 5C6.56538 5 6.09808 5 5.75 5.20096C5.52197 5.33261 5.33261 5.52197 5.20096 5.75C5 6.09807 5 6.56538 5 7.5C5 8.43461 5 8.90192 5.20096 9.25C5.33261 9.47803 5.52197 9.66739 5.75 9.79904C6.09808 10 6.56538 10 7.5 10H11.25L11.25 14H9.5C8.56538 14 8.09808 14 7.75 14.201C7.52197 14.3326 7.33261 14.522 7.20096 14.75C7 15.0981 7 15.5654 7 16.5C7 17.4346 7 17.9019 7.20096 18.25C7.33261 18.478 7.52197 18.6674 7.75 18.799C8.09808 19 8.56538 19 9.5 19H11.25L11.25 22C11.25 22.4142 11.5858 22.75 12 22.75C12.4142 22.75 12.75 22.4142 12.75 22L12.75 19H14.5C15.4346 19 15.9019 19 16.25 18.799C16.478 18.6674 16.6674 18.478 16.799 18.25C17 17.9019 17 17.4346 17 16.5C17 15.5654 17 15.0981 16.799 14.75C16.6674 14.522 16.478 14.3326 16.25 14.201C15.9019 14 15.4346 14 14.5 14H12.75L12.75 10H16.5C17.4346 10 17.9019 10 18.25 9.79904C18.478 9.66739 18.6674 9.47803 18.799 9.25C19 8.90192 19 8.43462 19 7.5Z",fill:"#1C274C"})),alignHorizontalRight:(0,e.createElement)("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.625 1.625C20.2108 1.625 19.875 1.96079 19.875 2.375V22.375C19.875 22.7892 20.2108 23.125 20.625 23.125C21.0392 23.125 21.375 22.7892 21.375 22.375V2.375C21.375 1.96079 21.0392 1.625 20.625 1.625Z",fill:"#1C274C"}),(0,e.createElement)("path",{d:"M16.625 7.875C16.625 6.94038 16.625 6.47308 16.424 6.125C16.2924 5.89697 16.103 5.70761 15.875 5.57596C15.5269 5.375 15.0596 5.375 14.125 5.375L5.125 5.375C4.19038 5.375 3.72308 5.375 3.375 5.57596C3.14697 5.70761 2.95761 5.89697 2.82596 6.125C2.625 6.47307 2.625 6.94038 2.625 7.875C2.625 8.80961 2.625 9.27692 2.82596 9.625C2.95761 9.85303 3.14697 10.0424 3.375 10.174C3.72308 10.375 4.19038 10.375 5.125 10.375L14.125 10.375C15.0596 10.375 15.5269 10.375 15.875 10.174C16.103 10.0424 16.2924 9.85303 16.424 9.625C16.625 9.27692 16.625 8.80962 16.625 7.875Z",fill:"#1C274C"}),(0,e.createElement)("path",{d:"M16.625 16.875C16.625 15.9404 16.625 15.4731 16.424 15.125C16.2924 14.897 16.103 14.7076 15.875 14.576C15.5269 14.375 15.0596 14.375 14.125 14.375L8.125 14.375C7.19038 14.375 6.72308 14.375 6.375 14.576C6.14697 14.7076 5.95761 14.897 5.82596 15.125C5.625 15.4731 5.625 15.9404 5.625 16.875C5.625 17.8096 5.625 18.2769 5.82596 18.625C5.95761 18.853 6.14697 19.0424 6.375 19.174C6.72308 19.375 7.19038 19.375 8.125 19.375H14.125C15.0596 19.375 15.5269 19.375 15.875 19.174C16.103 19.0424 16.2924 18.853 16.424 18.625C16.625 18.2769 16.625 17.8096 16.625 16.875Z",fill:"#1C274C"})),alignVerticalTop:(0,e.createElement)("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.25 3.75C1.25 4.16421 1.58579 4.5 2 4.5H22C22.4142 4.5 22.75 4.16421 22.75 3.75C22.75 3.33579 22.4142 3 22 3H2C1.58579 3 1.25 3.33579 1.25 3.75Z",fill:"#1C274C"}),(0,e.createElement)("path",{d:"M7.5 7.75C6.56538 7.75 6.09808 7.75 5.75 7.95096C5.52197 8.08261 5.33261 8.27197 5.20096 8.5C5 8.84808 5 9.31538 5 10.25L5 19.25C5 20.1846 5 20.6519 5.20096 21C5.33261 21.228 5.52197 21.4174 5.75 21.549C6.09808 21.75 6.56538 21.75 7.5 21.75C8.43462 21.75 8.90192 21.75 9.25 21.549C9.47803 21.4174 9.66739 21.228 9.79904 21C10 20.6519 10 20.1846 10 19.25V10.25C10 9.31538 10 8.84808 9.79904 8.5C9.66739 8.27197 9.47803 8.08261 9.25 7.95096C8.90192 7.75 8.43462 7.75 7.5 7.75Z",fill:"#1C274C"}),(0,e.createElement)("path",{d:"M16.5 7.75C15.5654 7.75 15.0981 7.75 14.75 7.95096C14.522 8.08261 14.3326 8.27197 14.201 8.5C14 8.84808 14 9.31538 14 10.25V16.25C14 17.1846 14 17.6519 14.201 18C14.3326 18.228 14.522 18.4174 14.75 18.549C15.0981 18.75 15.5654 18.75 16.5 18.75C17.4346 18.75 17.9019 18.75 18.25 18.549C18.478 18.4174 18.6674 18.228 18.799 18C19 17.6519 19 17.1846 19 16.25V10.25C19 9.31538 19 8.84808 18.799 8.5C18.6674 8.27197 18.478 8.08261 18.25 7.95096C17.9019 7.75 17.4346 7.75 16.5 7.75Z",fill:"#1C274C"})),alignVerticalCenter:(0,e.createElement)("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M7.5 5C6.56538 5 6.09808 5 5.75 5.20096C5.52197 5.33261 5.33261 5.52197 5.20096 5.75C5 6.09808 5 6.56538 5 7.5L5 11.25H2C1.58579 11.25 1.25 11.5858 1.25 12C1.25 12.4142 1.58579 12.75 2 12.75H5L5 16.5C5 17.4346 5 17.9019 5.20096 18.25C5.33261 18.478 5.52197 18.6674 5.75 18.799C6.09808 19 6.56538 19 7.5 19C8.43462 19 8.90192 19 9.25 18.799C9.47803 18.6674 9.66739 18.478 9.79904 18.25C10 17.9019 10 17.4346 10 16.5V12.75L14 12.75V14.5C14 15.4346 14 15.9019 14.201 16.25C14.3326 16.478 14.522 16.6674 14.75 16.799C15.0981 17 15.5654 17 16.5 17C17.4346 17 17.9019 17 18.25 16.799C18.478 16.6674 18.6674 16.478 18.799 16.25C19 15.9019 19 15.4346 19 14.5V12.75L22 12.75C22.4142 12.75 22.75 12.4142 22.75 12C22.75 11.5858 22.4142 11.25 22 11.25L19 11.25V9.5C19 8.56538 19 8.09808 18.799 7.75C18.6674 7.52197 18.478 7.33261 18.25 7.20096C17.9019 7 17.4346 7 16.5 7C15.5654 7 15.0981 7 14.75 7.20096C14.522 7.33261 14.3326 7.52197 14.201 7.75C14 8.09808 14 8.56538 14 9.5V11.25H10V7.5C10 6.56538 10 6.09808 9.79904 5.75C9.66739 5.52197 9.47803 5.33261 9.25 5.20096C8.90192 5 8.43462 5 7.5 5Z",fill:"#1C274C"})),alignVerticalBottom:(0,e.createElement)("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.25 21C1.25 20.5858 1.58579 20.25 2 20.25H22C22.4142 20.25 22.75 20.5858 22.75 21C22.75 21.4142 22.4142 21.75 22 21.75H2C1.58579 21.75 1.25 21.4142 1.25 21Z",fill:"#1C274C"}),(0,e.createElement)("path",{d:"M7.5 17C6.56538 17 6.09808 17 5.75 16.799C5.52197 16.6674 5.33261 16.478 5.20096 16.25C5 15.9019 5 15.4346 5 14.5L5 5.5C5 4.56538 5 4.09808 5.20096 3.75C5.33261 3.52197 5.52197 3.33261 5.75 3.20096C6.09808 3 6.56538 3 7.5 3C8.43462 3 8.90192 3 9.25 3.20096C9.47803 3.33261 9.66739 3.52197 9.79904 3.75C10 4.09808 10 4.56538 10 5.5V14.5C10 15.4346 10 15.9019 9.79904 16.25C9.66739 16.478 9.47803 16.6674 9.25 16.799C8.90192 17 8.43462 17 7.5 17Z",fill:"#1C274C"}),(0,e.createElement)("path",{d:"M16.5 17C15.5654 17 15.0981 17 14.75 16.799C14.522 16.6674 14.3326 16.478 14.201 16.25C14 15.9019 14 15.4346 14 14.5V8.5C14 7.56538 14 7.09808 14.201 6.75C14.3326 6.52197 14.522 6.33261 14.75 6.20096C15.0981 6 15.5654 6 16.5 6C17.4346 6 17.9019 6 18.25 6.20096C18.478 6.33261 18.6674 6.52197 18.799 6.75C19 7.09808 19 7.56538 19 8.5V14.5C19 15.4346 19 15.9019 18.799 16.25C18.6674 16.478 18.478 16.6674 18.25 16.799C17.9019 17 17.4346 17 16.5 17Z",fill:"#1C274C"})),fontSize:(0,e.createElement)("svg",{fill:"#000000",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),(0,e.createElement)("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.createElement)("g",{id:"SVGRepo_iconCarrier"}," ",(0,e.createElement)("path",{d:"M17,12 L17,17 L17.5,17 C17.7761424,17 18,17.2238576 18,17.5 C18,17.7761424 17.7761424,18 17.5,18 L15.5,18 C15.2238576,18 15,17.7761424 15,17.5 C15,17.2238576 15.2238576,17 15.5,17 L16,17 L16,12 L14,12 L14,12.5 C14,12.7761424 13.7761424,13 13.5,13 C13.2238576,13 13,12.7761424 13,12.5 L13,11.5 C13,11.2238576 13.2238576,11 13.5,11 L19.5,11 C19.7761424,11 20,11.2238576 20,11.5 L20,12.5 C20,12.7761424 19.7761424,13 19.5,13 C19.2238576,13 19,12.7761424 19,12.5 L19,12 L17,12 Z M10,6 L10,17 L11.5,17 C11.7761424,17 12,17.2238576 12,17.5 C12,17.7761424 11.7761424,18 11.5,18 L7.5,18 C7.22385763,18 7,17.7761424 7,17.5 C7,17.2238576 7.22385763,17 7.5,17 L9,17 L9,6 L5,6 L5,7.5 C5,7.77614237 4.77614237,8 4.5,8 C4.22385763,8 4,7.77614237 4,7.5 L4,5.5 C4,5.22385763 4.22385763,5 4.5,5 L14.5,5 C14.7761424,5 15,5.22385763 15,5.5 L15,7.5 C15,7.77614237 14.7761424,8 14.5,8 C14.2238576,8 14,7.77614237 14,7.5 L14,6 L10,6 Z"})," ")),lineHeight:(0,e.createElement)("svg",{version:"1.0",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 64 64","enable-background":"new 0 0 64 64",space:"preserve",fill:"#000000"},(0,e.createElement)("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),(0,e.createElement)("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.createElement)("g",{id:"SVGRepo_iconCarrier"}," ",(0,e.createElement)("g",null," ",(0,e.createElement)("polyline",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-miterlimit":"10",points:"36,24 44,1 45,1 53,24 "})," ",(0,e.createElement)("line",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-miterlimit":"10",x1:"38",y1:"17",x2:"51",y2:"17"})," ")," ",(0,e.createElement)("line",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-miterlimit":"10",x1:"27",y1:"28",x2:"61",y2:"28"})," ",(0,e.createElement)("g",null," ",(0,e.createElement)("polyline",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-miterlimit":"10",points:"36,57 44,34 45,34 53,57 "})," ",(0,e.createElement)("line",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-miterlimit":"10",x1:"38",y1:"50",x2:"51",y2:"50"})," ")," ",(0,e.createElement)("line",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-miterlimit":"10",x1:"27",y1:"61",x2:"61",y2:"61"})," ",(0,e.createElement)("polyline",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-linejoin":"bevel","stroke-miterlimit":"10",points:"5,55 12,62 19,55 "})," ",(0,e.createElement)("polyline",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-linejoin":"bevel","stroke-miterlimit":"10",points:"19,34 12,27 5,34 "})," ",(0,e.createElement)("g",null," ",(0,e.createElement)("line",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-miterlimit":"10",x1:"12",y1:"62",x2:"12",y2:"27"})," ")," "))},{Component:ye}=wp.element,be=class extends ye{constructor(e){super(e),this.renderSegments=this.renderSegments.bind(this),this.onChange=this.onChange.bind(this),this.isSVG=!0===this.props.svg}componentDidUpdate(e){e.selectedSegment!==this.props.selectedSegment&&this.setState({selectedSegment:this.props.selectedSegment})}onChange(e){const t=this.props.segments[e].value;this.props.onButtonClick&&this.props.onButtonClick(t),this.props.onChangeSegment&&"radio"===this.props.buttonType&&this.props.onChangeSegment(t)}renderSegments=()=>this.props.segments.map(((t,n)=>{const o=t.id?t.id:t.value;return(0,e.createElement)("div",{key:n,id:"segmented-button-"+o,className:"segmented-button","aria-disabled":!!t.isDisabled,"data-value":t.value,title:t.title,onClick:()=>this.onChange(n)},this.isSVG&&ve[t.icon],!this.isSVG&&(0,e.createElement)(re,{icon:t.icon}))}));render(){return(0,e.createElement)("div",{className:"safi-input"},(0,e.createElement)("div",{className:"safi-segmented-buttons--container"},this.renderSegments()))}},{useState:we,useEffect:Ee}=wp.element,{__:Ce}=wp.i18n,xe=t=>{let{element:n,elements:o,tree:a,canvas:i,...l}=t;const[r,s]=we(n);Ee((()=>{s(n)}),[n]);const c=function(e){let t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h",r=u.getParent(n,o,a);if("h"===l?t={hAlign:e}:"v"===l&&(t={vAlign:e}),"root"===r&&(r={x:0,y:0,width:i.width,height:i.height}),"h"===l)switch(e){case"left":t.x=0;break;case"center":t.x=0+r.width/2-n.width/2;break;case"right":t.x=0+r.width-n.width}else if("v"===l)switch(e){case"top":t.y=0;break;case"center":t.y=0+r.height/2-n.height/2;break;case"bottom":t.y=0+r.height-n.height}d(t)},d=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=r.id;n&&l.onElementDataChange(n,e,t)};return(0,e.createElement)(Y,{header:!0,name:"Layer"},(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)(be,{svg:!0,segments:[{title:Ce("Align left","wpjoli-safi"),value:"left",icon:"alignHorizontalLeft",id:"align-h-left"},{title:Ce("Align center horizontally","wpjoli-safi"),value:"center",icon:"alignHorizontalCenter",id:"align-h-center"},{title:Ce("Align right","wpjoli-safi"),value:"right",icon:"alignHorizontalRight",id:"align-h-right"}],onButtonClick:e=>{c(e,"h")}}))),(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)(be,{svg:!0,segments:[{title:Ce("Align top","wpjoli-safi"),value:"top",icon:"alignVerticalTop",id:"align-v-top"},{title:Ce("Align center vertically","wpjoli-safi"),value:"center",icon:"alignVerticalCenter",id:"align-v-center"},{title:Ce("Align bottom","wpjoli-safi"),value:"bottom",icon:"alignVerticalBottom",id:"align-v-bottom"}],onButtonClick:e=>{c(e,"v")}})))),(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)(be,{svg:!0,segments:[{title:Ce("Fit to container","wpjoli-safi"),value:"fit",icon:"fit"},{title:Ce("Fit height to container","wpjoli-safi"),value:"fit_height",icon:"fitHeight"},{title:Ce("Fit width to container","wpjoli-safi"),value:"fit_width",icon:"fitWidth"}],onButtonClick:e=>{if(!e)return;const t=u.getParent(n,o,a);let l={};"fit"!==e&&"fit_width"!==e||("root"===t?(l.x=0,l.width=i.width):(l.x=0,"container"===t.type?l.width=t.width:l.width=i.width)),"fit"!==e&&"fit_height"!==e||("root"===t?(l.y=0,l.height=i.height):(l.y=0,"container"===t.type?l.height=t.height:l.height=i.height)),d(l)}})))))},{useState:Se,useEffect:Ne,useContext:ke}=wp.element,Ie=t=>{let{element:n,onElementDataChange:o,...a}=t;const i=ke(l),[r,s]=Se(n);Ne((()=>{s(n)}),[n]);const c=e=>{const t={opacity:e.target.value/100};m(t,!1)},d=e=>{const t={opacity:e.target.value/100};m(t)},u=e=>{const t={angle:e.target.value};m(t,!1)},p=e=>{const t={angle:e.target.value};m(t)},m=e=>{const t=r.id;t&&o(t,e)};return(0,e.createElement)(Y,{header:!0,name:"Properties"},(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("label",{htmlFor:"propX",title:"Position from the left"},(0,e.createElement)("span",null,"X"),(0,e.createElement)("input",{className:"safi-plain --stealth",disabled:r.locked,type:"number",name:"propX",id:"propX",value:r.x,onChange:e=>m({x:parseFloat(e.target.value)})})))),(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("label",{htmlFor:"propY"},(0,e.createElement)("span",null,"Y"),(0,e.createElement)("input",{className:"safi-plain --stealth",disabled:r.locked,type:"number",name:"propY",id:"propY",value:r.y,onChange:e=>m({y:parseFloat(e.target.value)})}))))),(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("label",{htmlFor:"propW"},(0,e.createElement)("span",null,"W"),(0,e.createElement)("input",{className:"safi-plain --stealth",disabled:r.locked,type:"number",name:"propW",id:"propW",value:r.width,onChange:e=>m({width:parseFloat(e.target.value)})})))),(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("label",{htmlFor:"propH"},(0,e.createElement)("span",null,"H"),(0,e.createElement)("input",{className:"safi-plain --stealth",disabled:r.locked,type:"number",name:"propH",id:"propH",value:r.height,onChange:e=>m({height:parseFloat(e.target.value)})}))))),(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("label",{htmlFor:"propOpacity"},(0,e.createElement)("span",null,"Opacity"),(0,e.createElement)("input",{className:"safi-plain --stealth",style:{width:60},type:"number",step:1,min:"0",max:"100",name:"propOpacity",id:"propOpacity",value:100*r.opacity,onChange:c,onBlur:d})),(0,e.createElement)("input",{type:"range",min:"0",max:"100",value:100*r.opacity,onChange:c,onBlur:d,title:"Opacity"})))),i&&(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("label",{htmlFor:"propAngle"},(0,e.createElement)("span",null,"Rotation"),(0,e.createElement)("input",{style:{width:60},type:"number",min:"0",max:"360",name:"propAngle",id:"propAngle",value:r.angle,onChange:u,onBlur:p})),(0,e.createElement)("input",{type:"range",min:"0",max:"360",step:1,value:r.angle,onChange:u,onBlur:p,title:"Angle"})))))},{Component:De}=wp.element,Te=class extends De{constructor(e){super(e),this.state={selectedSegment:e.selectedSegment||-1},this.renderSegments=this.renderSegments.bind(this),this.onChange=this.onChange.bind(this)}componentDidUpdate(e){e.selectedSegment!==this.props.selectedSegment&&this.setState({selectedSegment:this.props.selectedSegment})}onChange(e){const t=this.props.segments[e].value;this.props.onChangeSegment&&this.props.onChangeSegment(t)}renderSegments=()=>{const{type:t}=this.props;return this.props.segments.map(((n,o)=>{const a=n.id?n.id:n.value,i=t&&"text"==t?(0,e.createElement)("span",null,n.label):(0,e.createElement)(re,{icon:n.icon});return(0,e.createElement)("div",{key:o,id:"segmented-button-"+a,className:"segmented-button"+(this.state.selectedSegment===n.value?" --selected":""),"aria-disabled":!!n.isDisabled,"data-value":n.value,onClick:()=>this.onChange(o)},i)}))};render(){return(0,e.createElement)("div",{className:"safi-input"},(0,e.createElement)("div",{className:"safi-segmented-buttons--container"},this.renderSegments()))}},{useState:Le,useEffect:Me,useContext:Pe}=wp.element,Oe=[{value:"{{title}}",label:"Post title"},{value:"{{author}}",label:"Post author"},{value:"{{category}}",label:"Post category"},{value:"{{post_type}}",label:"Post type"},{value:"{{meta:meta_name}}",label:"Meta"},{value:"{{date:format}}",label:"Date"},{value:"{{domain}}",label:"Site domain"}],Ae=[{value:"{{acf:field}}",label:"ACF Field"},{value:"{{yoast_focus_kw}}",label:"Yoast SEO focus keyphrase"},{value:"{{rankmath_focus_kw}}",label:"RankMath SEO focus keyword"},{value:"{{my_function()}}",label:"Custom function"}],_e=t=>{let{value:n,...o}=t;const a=Pe(l)?[...Oe,...Ae]:Oe,[i,r]=Le(!1),[s,c]=Le(o.list||a),[d,u]=Le(n||null),[p,m]=Le(null),[h,f]=Le("Select a field");Me((()=>{!0===i&&document.querySelector(".safi-popover-container").focus()}),[i]);const[g,v]=Le(!1);return Me((()=>{v(!0)}),[]),Me((()=>{if(d&&!0===d.includes("{{acf:")){const e=window.SAFI.acfFields||[];m(e),f("Select an ACF field")}else m(null),f("Select a field")}),[g,d]),(0,e.createElement)("div",null,p&&(0,e.createElement)("div",null,(0,e.createElement)("select",{id:"dyn-options",className:"safi-plain",onChange:e=>{const t=e.target.value;if("0"==t)return!1;if(d&&!0===d.includes("{{acf:")){const e="{{acf:"+t+"}}";u(e),o.onTextSelected&&o.onTextSelected(e)}}},(0,e.createElement)("option",{value:"0"},h),(()=>{if(p&&p.length>0)return p.map((t=>{const n=d.slice(0,-2).replace("{{acf:","");return(0,e.createElement)("option",{value:t.value,selected:t.value===n},t.label)}))})())),(0,e.createElement)("div",{className:"safi-popover-wrap"},o.children,(0,e.createElement)("div",{id:"dynamic-text-dropdown",className:"safi-popover-toggle",title:"Insert content-based text"},(0,e.createElement)(re,{icon:i?"expand_less":"expand_more",onIconClick:e=>{r(!i)}})),(0,e.createElement)("div",{className:"safi-popover-container"+(i?"":" --hidden"),tabIndex:"0"},s.map(((t,n)=>(0,e.createElement)("div",{className:"safi-dropdown-item flex","data-value":t.value,onClick:()=>(e=>{const t=s[e].value;u(t),o.onTextSelected&&o.onTextSelected(t),r(!i)})(n)},(0,e.createElement)("div",{className:"dropdown-label"},t.label),(0,e.createElement)("div",{className:"dropdown-code"},t.value)))))))},{__:je}=wp.i18n,{useState:He,useEffect:Re,useContext:Fe,useRef:Ve}=wp.element,Be=t=>{let{value:n,onFontChange:o,onFontPreview:a,googleFonts:i,...r}=t;const s=Fe(l),[c,d]=He(!1),[u,p]=He(""),[m,h]=He(n),[f,g]=He(n),v=Ve([]);let y=null;y=i.map((e=>({value:e,label:e,type:"gf"})));let b=[{id:1,label:"Standard Fonts",attrid:"safi-fonts-std",type:"std",options:[{value:"Arial",label:"Arial, sans serif"},{value:"Arial Black",label:"Arial Black, sans serif"},{value:"Comic Sans MS",label:"Comic Sans MS, cursive"},{value:"Courier",label:"Courier, monospace"},{value:"Georgia",label:"Georgia, serif"},{value:"Garamond",label:"Garamond, serif"},{value:"Impact",label:"Impact, sans-serif"},{value:"Lucida Console",label:"Lucida Console, monospace"},{value:"Lucida Sans Unicode",label:"Lucida Sans Unicode, sans-serif"},{value:"MS Sans Serif",label:"MS Sans Serif, sans-serif"},{value:"Tahoma",label:"Tahoma, sans-serif"},{value:"Times New Roman",label:"Times New Roman, serif"},{value:"Trebuchet MS",label:"Trebuchet MS, sans-serif"},{value:"Verdana",label:"Verdana, sans-serif"}]},{id:2,label:(e=>s?e:e+" (Pro)")("Google fonts"),options:[],type:"gf",attrid:"safi-fonts-gf"}];s&&(b[1].options=y);const w=Ve(),E=Ve(!1),C=Ve();Re((()=>{!0===c?(document.querySelector(".safi-popover-container"),I.current.focus(),C.current=k,s&&(w.current=setInterval(x,250)),window.addEventListener("click",C.current)):(s&&(clearInterval(w.current),w.current=null),window.removeEventListener("click",C.current),C.current=null)}),[c]),Re((()=>()=>{clearInterval(w.current),window.removeEventListener("click",C.current),C.current=null}),[]),Re((()=>{h(n)}),[n]);const x=function(){if(!1===(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&!1===E.current)return;const e=E.current,t=document.getElementById("safi-fonts-gf"),n=t.offsetTop+t.offsetHeight;E.current;let o=(e.target.scrollHeight-n-(e.target.scrollHeight-e.target.scrollTop))/30,a=o+e.target.offsetHeight/30;o<0&&(o=0),a<0&&(a=0);const i=Math.floor(o),l=Math.floor(a);let r=[];for(let e=i;e<=l;e++){const t=b[1].options[e].value;r.push(t)}r=r.filter((e=>!1===v.current.includes(e))),v.current=[...new Set([...v.current,...r])],!r.length>0||WebFont.load({google:{families:r}})},S=e=>{a(e)},N=e=>{"text"!==e.target.type&&d(!c)},k=e=>{null===e.target.closest(".safi-font-picker")&&d(!1)},I=Ve(null);return(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"safi-popover-wrap safi-font-picker",onClick:N},(0,e.createElement)("div",{className:"safi-selected-font",style:{fontFamily:null!==m?m:"initial",display:c?"none":"initial"}},m),(0,e.createElement)("input",{type:"text",id:"safi-font-filter",value:u,onChange:e=>{const t=e.target.value;if(p(t),!s)return;let n=b[1].options.filter((e=>""===t||-1!==e.value.search(new RegExp(t,"i")))).slice(0,10).map((e=>e.value));t.length<2||(n=n.filter((e=>!1===v.current.includes(e))),v.current=[...new Set([...v.current,...n])],!n.length>0||WebFont.load({google:{families:n}}))},placeholder:je("Search font...","wpjoli-safi"),ref:I,style:{display:c?"initial":"none"}}),(0,e.createElement)("div",{id:"font-picker-dropdown",className:"safi-popover-toggle",title:"Insert content-based text"},(0,e.createElement)(re,{icon:c?"expand_less":"expand_more",onIconClick:N})),(0,e.createElement)("div",{className:"safi-popover-container"+(c?"":" --hidden"),tabIndex:"0",onScroll:e=>{E.current=e,setTimeout((()=>{E.current=!1}),500)},onMouseLeave:()=>S({font:f})},b.map((t=>{const n=t.options.filter((e=>""===u||-1!==e.value.search(new RegExp(u,"i"))));return(0,e.createElement)("div",{className:"safi-group"},(0,e.createElement)("span",{id:t.attrid,htmlFor:"",className:"safi-group-label flex flex-center"},t.label),n.map((n=>(0,e.createElement)("div",{className:"safi-dropdown-item flex items-center",title:n.label,"data-value":n.value,"data-type":t.type,style:{fontFamily:null!==n.value?n.value:"initial"},onClick:()=>{return e={type:t.type,font:n.value},h(e.font),o(e),void d(!1);var e},onMouseEnter:()=>S({font:n.value})},(0,e.createElement)("div",{className:"dropdown-label"},n.label)))),!s&&"gf"===t.type&&(0,e.createElement)("a",{href:window.SAFI.gopro_url,target:"_blank",className:"flex flex-center",style:{marginBottom:"16px"}},(0,e.createElement)("button",{id:"safi-go-pro",className:"safi-tb-btn safi-btn-primary"},je("Upgrade to Pro now !","wpjoli-safi"))))})))))},{__:ze}=wp.i18n,{useState:Ue,useEffect:We,useContext:Ze}=wp.element,Ge=[{value:"100",label:"ExtraLight"},{value:"200",label:"Thin"},{value:"300",label:"Light"},{value:"400",label:"Regular"},{value:"500",label:"Medium"},{value:"600",label:"SemiBold"},{value:"700",label:"Bold"},{value:"800",label:"ExtraBold"},{value:"900",label:"Black"}],$e=[{value:"normal",label:"Normal"},{value:"uppercase",label:"Uppercase"},{value:"lowercase",label:"Lowercase"},{value:"capitalize",label:"Capitalize"}],Xe=t=>{var n;let{element:o,isMouseDown:a,onTriggerSnapshot:i,...r}=t;const[s,c]=Ue(o),[d,u]=Ue(!1),[p,m]=Ue(null==o.text?"":o.text),h=Ze(l);r.googleFonts.map((e=>({value:e,label:e,type:"gf"})));We((()=>{c(o),m(null==o.text?"":o.text)}),[o]);const f=function(e){g({fontFamily:e,fontType:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null},!(arguments.length>2&&void 0!==arguments[2])||arguments[2])},g=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=o.id;n&&r.onElementDataChange(n,e,t)},v=o.fontSize?o.fontSize:null,y=o.lineHeight?o.lineHeight:1;return(0,e.createElement)(Y,{header:!0,name:"Text"},(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)(_e,{value:p,onTextSelected:e=>{g({label:e,text:e})}},(0,e.createElement)("textarea",{cols:"30",rows:"5",className:"safi-plain",name:"prop-text-content",id:"safi-text-content",placeholder:"My text",value:p,onChange:e=>{const t=e.target.value;u(!0),m(t),g({label:t,text:t},!1)},onBlur:e=>{const t={text:e.target.value};d?(u(!1),g(t,!0)):i(!1)},onFocus:()=>i()}))))),(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-input"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)(Be,{value:o.fontFamily,onFontChange:e=>{!0===h&&(e.hasOwnProperty("type")&&"gf"==e.type?WebFont.load({google:{families:[e.font+":100,200,300,400,500,600,700,800,900"]},active:function(){f(e.font,e.type)}}):f(e.font)),!0!==h&&f(e.font)},onFontPreview:e=>{!0===h&&(e.hasOwnProperty("type")&&"gf"==e.type?f(e.font,e.type,!1):f(e.font,null,!1)),!0!==h&&f(e.font,null,!1)},googleFonts:r.googleFonts}))))),(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)(G,{color:(null===(n=s.styles)||void 0===n?void 0:n.color)||null,onColorChange:e=>{r.onStyleUpdate(s.id,"color",e)},onColorChangeComplete:e=>{r.onStyleUpdate(s.id,"color",e,!0)},onTriggerSnapshot:()=>i()})))),(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("label",{htmlFor:"propFontSize"},(0,e.createElement)("span",{className:"svg-icon"},ve.fontSize),(0,e.createElement)("input",{type:"number",className:"safi-plain --stealth",name:"propFontSize",id:"propFontSize",value:v,lang:"en",step:"1",onChange:e=>g({fontSize:parseFloat(e.target.value)})})))),(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("label",{htmlFor:"propLineHeight"},(0,e.createElement)("span",{className:"svg-icon"},ve.lineHeight),(0,e.createElement)("input",{type:"number",className:"safi-plain --stealth",name:"propLineHeight",id:"propLineHeight",value:y,lang:"en",step:"0.1",onChange:e=>g({lineHeight:parseFloat(e.target.value)})}))))),(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-input"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("label",{htmlFor:"safi-font-weight"},ze("Font weight","wpjoli-safi")),(0,e.createElement)("select",{id:"safi-font-weight",className:"safi-plain --stealth",onChange:e=>{r.onStyleUpdate(o.id,"fontWeight",e.target.value)}},Ge.map((t=>(0,e.createElement)("option",{value:t.value,selected:t.value===s.styles.fontWeight},t.label))))))),(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-input"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("label",{htmlFor:"safi-font-transform"},ze("Text transform","wpjoli-safi")),(0,e.createElement)("select",{id:"safi-text-transform",className:"safi-plain --stealth",onChange:e=>{let t=e.target.value;"normal"===t&&(t=null),r.onStyleUpdate(o.id,"textTransform",t)},placeholder:"Text transform..."},$e.map((t=>(0,e.createElement)("option",{value:t.value,selected:t.value===s.styles.textTransform},t.label)))))))),(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)(Te,{segments:[{id:"text-align-left",value:"start",icon:"format_align_left"},{id:"text-align-center",value:"center",icon:"format_align_center"},{id:"text-align-right",value:"end",icon:"format_align_right"}],selectedSegment:s.styles.justifyContent||-1,onChangeSegment:e=>{const t=e===o.styles.justifyContent?null:e;let n="left";"start"===t?n="left":"center"===t?n="center":"end"===t&&(n="right"),r.onStylesUpdate(o.id,{justifyContent:t,textAlign:n})}}))),(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)(Te,{segments:[{id:"text-align-bottom",value:"end",icon:"vertical_align_bottom"},{id:"text-align-middle",value:"center",icon:"vertical_align_center"},{id:"text-align-top",value:"start",icon:"vertical_align_top"}],selectedSegment:s.styles.alignItems||-1,onChangeSegment:e=>{const t=e===o.styles.alignItems?null:e;r.onStyleUpdate(o.id,"alignItems",t)}})))))},{useState:Ke,useEffect:Ye,useContext:Je}=wp.element,qe=t=>{let{element:n,...o}=t;const a=Je(l),[i,r]=Ke(n),[s,c]=Ke(!1),[d,p]=Ke(null==n.classes?"":n.classes),[m,h]=Ke(null==n.customCss?"":n.customCss);let f;Ye((()=>{r(n),p(null==n.classes?"":n.classes),h(null==n.customCss?"":n.customCss)}),[n]);const g=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=i.id;n&&o.onElementDataChange(n,e,t)};return(0,e.createElement)(Y,{header:!0,name:"Custom CSS",disabled:!1===a},(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("label",{htmlFor:"prop-classes"},(0,e.createElement)("span",null,"Custom classes")),(0,e.createElement)("input",{type:"text",className:"safi-plain",name:"prop-classes",id:"safi-custom-classes",placeholder:"class1 class2...",value:d,onChange:e=>{const t=e.target.value;p(t),g({classes:e.target.value})}})))),(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("label",{htmlFor:"prop-css"},(0,e.createElement)("span",null,"Custom CSS")),(0,e.createElement)("textarea",{name:"prop-css",className:"safi-plain",id:"safi-custom-css",placeholder:"margin: 10px;\r\nbackdrop-filter: blur(10px);\r\n...",value:m,onChange:e=>{const t=e.target.value,n=u.validateCSS(t);c(!0!==n.valid&&n.errors),f=!0,h(t),!0===n.valid&&g({customCss:t})},onBlur:e=>g({customCss:e.target.value})}),!1!==s&&(0,e.createElement)("ol",{className:"css-errors"},s.map((t=>(0,e.createElement)("li",null,t))))))))},{__:Qe}=wp.i18n,{useState:et,useEffect:tt}=wp.element,nt=t=>{let{id:n,label:o,value:a,property:i,unit:l,units:r,noNegatives:s,dimensions:c,onChange:d,onMouseEnter:u,onMouseLeave:p}=t;const m=a?c.map((e=>a[e.value])):null;let h=1;null!==m&&(h=[...new Set(m)].length);const f=a||{},[g,v]=et(f),[y,b]=et("px"),[w,E]=et(!(h>1));tt((()=>{}),[g,y]);const C=(0,e.createElement)("ul",{onMouseEnter:u,onMouseLeave:p},c.map((t=>{const n=f.hasOwnProperty(t.value)?f[t.value]:0,a="safi-box-control_"+o+"_"+t.label;return(0,e.createElement)("li",null,(0,e.createElement)("input",{className:"safi-box-control-input",id:a,type:"number",value:n,"data-dimension":t.label,onChange:e=>((e,t)=>{let n={...g},o=e.target.value;!0===s&&o<0&&(o=0),""!==o&&(!0===w?(n={},c.map((e=>n[e.value]=parseFloat(o)))):n[t]=parseFloat(o)),v(n),d(n)})(e,t.value)}),(0,e.createElement)("label",{className:"safi-box-control-label",for:a},t.label))})));return(0,e.createElement)("div",{id:n},(0,e.createElement)("div",{className:"safi-label-container"},(0,e.createElement)("label",null,o)),(0,e.createElement)("div",{className:"safi-box-control-container"},C,(0,e.createElement)("span",{title:"Lock",className:"safi-box-control-icon icon-lock dashicons"+(w?" --is-locked":""),onMouseDown:e=>{e.stopPropagation(),E(!w)}}),(0,e.createElement)("span",{title:"Clear",className:"safi-box-control-icon icon-clear dashicons",onMouseDown:()=>{v(null),d(null)}})))},{__:ot}=wp.i18n,{useState:at,useEffect:it,useContext:lt}=wp.element,rt=t=>{let{element:n,onStyleUpdate:o,onTriggerSnapshot:a,...i}=t;const r=lt(l),[s,c]=at(n);it((()=>{c(n)}),[n]);const d=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=s.id;n&&i.onElementDataChange(n,e,t)};return(0,e.createElement)(Y,{header:!0,name:i.name||"Border",disabled:!1===r,isOpen:null!=s.border||null!=s.borderRadius||null!=s.borderColor},(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)(G,{color:s.styles.borderColor,onColorChange:e=>{o(s.id,"borderColor",e)},onColorChangeComplete:e=>{o(s.id,"borderColor",e,!0)},onTriggerSnapshot:()=>a()})))),(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)(nt,{id:"safi-box-control--border",label:ot("Border width","smart-auto-featured-image"),value:s.border||null,dimensions:[{label:ot("top","smart-auto-featured-image"),value:"top"},{label:ot("right","smart-auto-featured-image"),value:"right"},{label:ot("bottom","smart-auto-featured-image"),value:"bottom"},{label:ot("left","smart-auto-featured-image"),value:"left"}],noNegatives:!0,onChange:e=>d({border:e})})))),(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)(nt,{id:"safi-box-control--border-radius",label:ot("Border radius","smart-auto-featured-image"),value:s.borderRadius||null,dimensions:[{label:ot("top-left","smart-auto-featured-image"),value:"topLeft"},{label:ot("top-right","smart-auto-featured-image"),value:"topRight"},{label:ot("bot-right","smart-auto-featured-image"),value:"bottomRight"},{label:ot("bot-left","smart-auto-featured-image"),value:"bottomLeft"}],noNegatives:!0,onChange:e=>d({borderRadius:e})})))))};function st({width:e,height:t}){return e/t}function ct(e,t=0){const n=10**t;return Math.round((e+Number.EPSILON)*n)/n}class dt{constructor(e){this.comparator=e,this.heap=[],this.n=0}greater(e,t){return this.comparator(this.heap[e],this.heap[t])<0}swap(e,t){const n=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=n}swim(e){let t=e,n=Math.floor(t/2);for(;t>1&&this.greater(n,t);)this.swap(n,t),t=n,n=Math.floor(t/2)}sink(e){let t=e,n=2*t;for(;n<=this.n&&(n<this.n&&this.greater(n,n+1)&&(n+=1),this.greater(t,n));)this.swap(t,n),t=n,n=2*t}push(e){this.n+=1,this.heap[this.n]=e,this.swim(this.n)}pop(){if(0===this.n)return;this.swap(1,this.n),this.n-=1;const e=this.heap.pop();return this.sink(1),e}size(){return this.n}}function ut(e,t,n,o){return(t-(e.length-1)*n-2*o*e.length)/e.reduce(((e,t)=>e+st(t)),0)}function pt(e,t,n,o,a,i,l){const r=e.slice(t,n),s=ut(r,o,i,l);return s>0?(s-a)**2*r.length:void 0}function mt({photos:e,layoutOptions:t}){const{spacing:n,padding:o,containerWidth:a,targetRowHeight:i,rowConstraints:l}=t,r=function({photos:e,targetRowHeight:t,containerWidth:n}){return ct(n/t/e.reduce(((e,t)=>Math.min(st(t),e)),Number.MAX_VALUE))+2}({photos:e,containerWidth:a,targetRowHeight:i}),s=function({photos:e,layoutOptions:t,targetRowHeight:n,limitNodeSearch:o,rowConstraints:a}){return i=>{var l,r;const{containerWidth:s,spacing:c,padding:d}=t,u=new Map;u.set(i,0);const p=null!=(l=null==a?void 0:a.minPhotos)?l:1,m=Math.min(o,null!=(r=null==a?void 0:a.maxPhotos)?r:1/0);for(let t=i+p;t<e.length+1&&!(t-i>m);t+=1){const o=pt(e,i,t,s,n,c,d);if(void 0===o)break;u.set(t,o)}return u}}({photos:e,layoutOptions:t,targetRowHeight:i,limitNodeSearch:r,rowConstraints:l}),c=function(e,t,n){const o=function(e,t,n){const o=new Map,a=new Set,i=new Map;i.set(t,0);const l=new dt((r=e=>e.weight,(e,t)=>r(t)-r(e)));var r;for(l.push({id:t,weight:0});l.size()>0;){const{id:t,weight:n}=l.pop();if(!a.has(t)){const r=e(t);a.add(t),r.forEach(((e,a)=>{const r=n+e,s=o.get(a),c=i.get(a);(void 0===c||c>r&&(c/r>1.005||void 0!==s&&s<t))&&(i.set(a,r),l.push({id:a,weight:r}),o.set(a,t))}))}}return i.has(n)?o:void 0}(e,t,n);return o?function(e,t){const n=[];for(let o=t;void 0!==o;o=e.get(o))n.push(o);return n.reverse()}(o,n):void 0}(s,0,e.length);if(void 0===c)return;const d=[];for(let t=1;t<c.length;t+=1){const i=e.map(((e,t)=>({photo:e,index:t}))).slice(c[t-1],c[t]),l=ut(i.map((({photo:e})=>e)),a,n,o);d.push(i.map((({photo:e,index:t},n)=>({photo:e,layout:{height:l,width:l*st(e),index:t,photoIndex:n,photosCount:i.length}}))))}return d}function ht(...e){return[...e].filter((e=>Boolean(e))).join(" ")}function ft(e,{width:t,photosCount:n},{spacing:o,padding:a,containerWidth:i}){const l=o*(n-1)+2*a*n;return`calc((${e} - ${l}px) / ${ct((i-l)/t,5)})`}function gt(e,t){return"rows"!==t.layout?`calc(100% - ${2*t.padding}px)`:ft("100%",e,t)}function vt(e,t,n){var o,a;return ft(null!=(a=null==(o=e.match(/calc\((.*)\)/))?void 0:o[1])?a:e,t,n)}function yt(e,t,n){let o,a;const i=e.srcSet||e.images;return i&&i.length>0&&(o=i.concat(i.find((({width:t})=>t===e.width))?[]:[{src:e.src,width:e.width,height:e.height}]).sort(((e,t)=>e.width-t.width)).map((e=>`${e.src} ${e.width}w`)).join(", ")),n.sizes?a=(n.sizes.sizes||[]).map((({viewport:e,size:o})=>`${e} ${vt(o,t,n)}`)).concat(vt(n.sizes.size,t,n)).join(", "):o&&(a=`${Math.ceil(t.width/n.containerWidth*100)}vw`),{srcSet:o,sizes:a}}function bt(e){var t,n;const{photo:o,layout:a,layoutOptions:i,imageProps:{style:l,className:r,...s}={},renderPhoto:c}=e,{onClick:d}=i,u={display:"block",boxSizing:"content-box",width:gt(a,i),height:"auto",aspectRatio:`${o.width} / ${o.height}`,...i.padding?{padding:`${i.padding}px`}:null,...("columns"===i.layout||"masonry"===i.layout)&&a.photoIndex<a.photosCount-1?{marginBottom:`${i.spacing}px`}:null,...d?{cursor:"pointer"}:null,...l},p=d?e=>{d({event:e,photo:o,index:a.index})}:void 0,m={src:o.src,alt:null!=(t=o.alt)?t:"",title:o.title,onClick:p,style:u,className:ht("react-photo-album--photo",r),loading:"lazy",decoding:"async",...yt(o,a,i),...s},h=e=>{const{src:t,alt:n,srcSet:o,sizes:a,style:i,...l}=m;return ge.createElement("img",{alt:n,...o?{srcSet:o,sizes:a}:null,src:t,style:(null==e?void 0:e.wrapped)?{display:"block",width:"100%",height:"100%"}:i,...l})},f=(({display:e,boxSizing:t,width:n,aspectRatio:o,padding:a,marginBottom:i,cursor:l})=>({display:e,boxSizing:t,width:n,aspectRatio:o,padding:a,marginBottom:i,cursor:l}))(u);return ge.createElement(ge.Fragment,null,null!=(n=null==c?void 0:c({photo:o,layout:a,layoutOptions:i,imageProps:m,renderDefaultPhoto:h,wrapperStyle:f}))?n:h())}function wt({rowContainerProps:e,children:t}){return ge.createElement("div",{...e},t)}function Et(e){const{layoutOptions:t,rowIndex:n,rowsCount:o,renderRowContainer:a,rowContainerProps:{style:i,className:l,...r}={},children:s}=e,c={className:ht("react-photo-album--row",l),style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"flex-start",justifyContent:"space-between",...n<o-1?{marginBottom:`${t.spacing}px`}:null,...i},...r};return ge.createElement(ge.Fragment,null,(null!=a?a:wt)({layoutOptions:t,rowIndex:n,rowsCount:o,rowContainerProps:c,children:s}))}function Ct(e){const{photos:t,layoutOptions:n,renderPhoto:o,renderRowContainer:a,componentsProps:i}=e,l=mt({photos:t,layoutOptions:n});return l?ge.createElement(ge.Fragment,null,l.map(((e,t)=>ge.createElement(Et,{key:`row-${t}`,layoutOptions:n,rowIndex:t,rowsCount:l.length,renderRowContainer:a,rowContainerProps:null==i?void 0:i.rowContainerProps},e.map((({photo:e,layout:t})=>ge.createElement(bt,{key:e.key||e.src,photo:e,layout:t,layoutOptions:n,renderPhoto:o,imageProps:null==i?void 0:i.imageProps}))))))):null}function xt({path:e,photos:t,containerWidth:n,columnsGaps:o,columnsRatios:a,spacing:i,padding:l}){const r=[],s=a.reduce(((e,t)=>e+t),0);for(let c=0;c<e.length-1;c+=1){const d=t.map(((e,t)=>({photo:e,index:t}))).slice(e[c],e[c+1]),u=a.reduce(((e,t,n)=>e+(o[c]-o[n])*t),0),p=(n-(e.length-2)*i-2*(e.length-1)*l-u)*a[c]/s;r.push(d.map((({photo:e,index:t},n)=>({photo:e,layout:{width:p,height:p/st(e),index:t,photoIndex:n,photosCount:d.length}}))))}return r}function St({photos:e,layoutOptions:t,targetColumnWidth:n}){const{columns:o,spacing:a,padding:i,containerWidth:l}=t,r=[],s=[];if(e.length<=o){const t=e.length>0?e.reduce(((e,t)=>e+st(t)),0)/e.length:1;for(let n=0;n<o;n+=1)r[n]=2*i,s[n]=n<e.length?st(e[n]):t;return{columnsGaps:r,columnsRatios:s,columnsModel:xt({path:Array.from({length:o+1}).map(((t,n)=>Math.min(n,e.length))),photos:e,columnsRatios:s,columnsGaps:r,containerWidth:l,spacing:a,padding:i})}}const c=(e.reduce(((e,t)=>e+n/st(t)),0)+a*(e.length-o)+2*i*e.length)/o,d=function({photos:e,spacing:t,padding:n,targetColumnWidth:o,targetColumnHeight:a}){return i=>{const l=[],r=1.5*a;let s=o/st(e[i])+2*n;for(let c=i+1;c<e.length+1&&(l.push({neighbor:c,weight:(a-s)**2}),!(s>r||c===e.length));c+=1)s+=o/st(e[c])+t+2*n;return l}}({photos:e,targetColumnWidth:n,targetColumnHeight:c,spacing:a,padding:i}),u=(p=d,m=o,h=0,f=e.length,function(e,t,n){const o=[n];for(let a=n,i=t;i>0;i-=1)a=e.get(a)[i].node,o.push(a);return o.reverse()}(function(e,t,n,o){const a=new Map,i=new Set;i.add(n);for(let n=0;n<t;n+=1){const l=[...i.keys()];i.clear(),l.forEach((l=>{const r=n>0?a.get(l)[n].weight:0;e(l).forEach((({neighbor:e,weight:s})=>{let c=a.get(e);c||(c=[],a.set(e,c));const d=r+s,u=c[n+1];(!u||u.weight>d&&(u.weight/d>1.0001||l<u.node))&&(c[n+1]={node:l,weight:d}),n<t-1&&e!==o&&i.add(e)}))}))}return a}(p,m,h,f),m,f));var p,m,h,f;for(let t=0;t<u.length-1;t+=1){const n=e.slice(u[t],u[t+1]);r[t]=a*(n.length-1)+2*i*n.length,s[t]=1/n.reduce(((e,t)=>e+1/st(t)),0)}return{columnsGaps:r,columnsRatios:s,columnsModel:xt({path:u,photos:e,columnsRatios:s,columnsGaps:r,containerWidth:l,spacing:a,padding:i})}}function Nt(e){const{photos:t,layoutOptions:n}=e,{columns:o,spacing:a,padding:i,containerWidth:l}=n,r=(l-a*(o-1)-2*i*o)/o,{columnsGaps:s,columnsRatios:c,columnsModel:d}=St({photos:t,layoutOptions:n,targetColumnWidth:r});return d.findIndex((e=>e.findIndex((({layout:{width:e,height:t}})=>e<0||t<0))>=0))>=0?o>1?Nt({photos:t,layoutOptions:{...n,columns:o-1}}):void 0:{columnsModel:d,columnsGaps:s,columnsRatios:c}}function kt({photos:e,layoutOptions:t}){return Nt({photos:e,layoutOptions:t})}function It({columnContainerProps:e,children:t}){return ge.createElement("div",{...e},t)}function Dt(e){const{layoutOptions:t,columnIndex:n,columnsCount:o,columnsGaps:a,columnsRatios:i}=e,{layout:l,spacing:r,padding:s}=t;if("masonry"===l||!a||!i)return`calc((100% - ${r*(o-1)}px) / ${o})`;const c=i.reduce(((e,t)=>e+t),0);return`calc((100% - ${ct((o-1)*r+2*o*s+i.reduce(((e,t,o)=>e+(a[n]-a[o])*t),0),3)}px) * ${ct(i[n]/c,5)} + ${2*s}px)`}function Tt(e){const{layoutOptions:t,renderColumnContainer:n,children:o,columnContainerProps:{style:a,className:i,...l}={},...r}=e,s={className:ht("react-photo-album--column",i),style:{display:"flex",flexDirection:"column",flexWrap:"nowrap",alignItems:"flex-start",width:Dt(e),justifyContent:"columns"===t.layout?"space-between":"flex-start",...a},...l};return ge.createElement(ge.Fragment,null,(null!=n?n:It)({layoutOptions:t,columnContainerProps:s,children:o,...r}))}function Lt(e){const{photos:t,layoutOptions:n,renderPhoto:o,renderColumnContainer:a,componentsProps:i}=e,l=kt({photos:t,layoutOptions:n});if(!l)return null;const{columnsModel:r,columnsRatios:s,columnsGaps:c}=l;return ge.createElement(ge.Fragment,null,r.map(((e,t)=>ge.createElement(Tt,{key:`column-${t}`,layoutOptions:n,columnIndex:t,columnsCount:r.length,columnsGaps:c,columnsRatios:s,renderColumnContainer:a,columnContainerProps:null==i?void 0:i.columnContainerProps},e.map((({photo:e,layout:t})=>ge.createElement(bt,{key:e.key||e.src,photo:e,layout:t,layoutOptions:n,renderPhoto:o,imageProps:null==i?void 0:i.imageProps})))))))}function Mt(e){const{photos:t,layoutOptions:n}=e,{columns:o,spacing:a,padding:i,containerWidth:l}=n,r=(l-a*(o-1)-2*i*o)/o;if(r<=0)return o>1?Mt({...e,layoutOptions:{...n,columns:o-1}}):void 0;const s=[];for(let e=0;e<o;e+=1)s[e]=0;return t.reduce(((e,t,n)=>{const o=s.reduce(((e,t,n)=>t<s[e]-1?n:e),0);return s[o]=s[o]+r/st(t)+a+2*i,e[o].push({photo:t,index:n}),e}),Array.from({length:o}).map((()=>[]))).map((e=>e.map((({photo:t,index:n},o)=>({photo:t,layout:{width:r,height:r/st(t),index:n,photoIndex:o,photosCount:e.length}})))))}function Pt(e){const{photos:t,layoutOptions:n,renderPhoto:o,renderColumnContainer:a,componentsProps:i}=e,l=Mt({photos:t,layoutOptions:n});return l?ge.createElement(ge.Fragment,null,l.map(((e,t)=>ge.createElement(Tt,{key:`masonry-column-${t}`,layoutOptions:n,columnsCount:l.length,columnIndex:t,renderColumnContainer:a,columnContainerProps:null==i?void 0:i.columnContainerProps},e.map((({photo:e,layout:t})=>ge.createElement(bt,{key:e.key||e.src,photo:e,layout:t,layoutOptions:n,renderPhoto:o,imageProps:null==i?void 0:i.imageProps}))))))):null}function Ot({containerProps:e,children:t,containerRef:n}){return ge.createElement("div",{ref:n,...e},t)}function At(e){const{layout:t,renderContainer:n,children:o,containerRef:a,containerProps:{style:i,className:l,...r}={}}=e,s={className:ht("react-photo-album",`react-photo-album--${t}`,l),style:{display:"flex",flexWrap:"nowrap",justifyContent:"space-between",flexDirection:"rows"===t?"column":"row",...i},...r};return ge.createElement(ge.Fragment,null,(null!=n?n:Ot)({containerProps:s,containerRef:a,layout:t,children:o}))}function _t(e,{newContainerWidth:t,newScrollbarWidth:n}){const{containerWidth:o,scrollbarWidth:a}=e;return void 0!==o&&void 0!==a&&void 0!==t&&void 0!==n&&t>o&&t-o<=20&&n<a?{containerWidth:o,scrollbarWidth:n}:o!==t||a!==n?{containerWidth:t,scrollbarWidth:n}:e}function jt(e,t){let n=null==e?void 0:e.clientWidth;if(void 0!==n&&t&&t.length>0){const e=[...t.filter((e=>e>0))].sort(((e,t)=>t-e));e.push(Math.floor(e[e.length-1]/2));const o=n;n=e.find(((t,n)=>t<=o||n===e.length-1))}return n}const Ht=Object.freeze([1200,600,300,0]);function Rt(e,t){return"function"==typeof e?e(t):e}function Ft(e,t){return void 0!==e?Rt(e,t):void 0}function Vt(e,t,n,o=0){const a=Ft(e,t);return Math.round(Math.max(void 0===a?function(e,t){const n=Ht.findIndex((e=>e<=t));return Rt(e[n>=0?n:0],t)}(n,t):a,o))}function Bt(e){const{photos:t,layout:n,renderContainer:o,defaultContainerWidth:a,breakpoints:i}=e,{containerRef:l,containerWidth:r}=function(e,t){const[{containerWidth:n},o]=ge.useReducer(_t,{containerWidth:t}),a=ge.useRef(null),i=ge.useRef();return{containerRef:ge.useCallback((t=>{var n;null==(n=i.current)||n.disconnect(),i.current=void 0,a.current=t;const l=()=>o({newContainerWidth:jt(a.current,e),newScrollbarWidth:window.innerWidth-document.documentElement.clientWidth});l(),t&&"undefined"!=typeof ResizeObserver&&(i.current=new ResizeObserver(l),i.current.observe(t))}),[e]),containerWidth:n}}(function(e){const t=ge.useRef(e);return e&&t.current&&e.join()===t.current.join()||(t.current=e),t.current}(i),a);if(!n||!["rows","columns","masonry"].includes(n)||!Array.isArray(t))return null;const s=function(e,t){return"function"==typeof e?e(t):e}(e.componentsProps,r);return ge.createElement(At,{layout:n,containerRef:l,renderContainer:o,containerProps:null==s?void 0:s.containerProps},r?function(e,t,n){const{photos:o,layout:a,renderPhoto:i,renderRowContainer:l,renderColumnContainer:r}=e,s=function({layout:e,onClick:t,containerWidth:n,targetRowHeight:o,rowConstraints:a,columns:i,spacing:l,padding:r,sizes:s}){return{layout:e,onClick:t,containerWidth:n,columns:Vt(i,n,[5,4,3,2],1),spacing:Vt(l,n,[20,15,10,5]),padding:Vt(r,n,[0,0,0,0,0]),targetRowHeight:Vt(o,n,[e=>e/5,e=>e/4,e=>e/3,e=>e/2]),rowConstraints:Ft(a,n),sizes:s}}({containerWidth:t,...e}),c={photos:o,renderPhoto:i,componentsProps:n};return"rows"===a?ge.createElement(Ct,{layoutOptions:s,renderRowContainer:l,...c}):"columns"===a?ge.createElement(Lt,{layoutOptions:s,renderColumnContainer:r,...c}):ge.createElement(Pt,{layoutOptions:s,renderColumnContainer:r,...c})}(e,r,s):null)}const{useState:zt,useEffect:Ut,useContext:Wt}=wp.element,Zt=t=>{let{isVisible:n,onSelect:o,onClose:a,canvas:i,...r}=t;const s=Wt(l),[c,d]=zt(!1),[u,p]=zt(""),[m,h]=zt(1),[f,g]=zt(null),[v,y]=zt([]),[b,w]=zt("Search");Ut((()=>{b>0&&setTimeout((()=>w(b-1)),1e3),0===b&&w("Search")}),[b]);const E="https://api.wpjoli.com/wp-json",C={display:n?"flex":"none"},x=()=>{var e,t;d(!0);let n={Accept:"application/json","X-Safi-User-Id":(null===(e=window.SAFI)||void 0===e||null===(t=e.license)||void 0===t?void 0:t.user_id)||0,"Content-Type":"application/json"};var o,a;!0===s&&(n["X-Safi-License-Id"]=(null===(o=window.SAFI)||void 0===o||null===(a=o.license)||void 0===a?void 0:a.id)||0,n["X-Safi-Unsplash"]=!0);const i={method:"POST",headers:n,body:JSON.stringify({search:u,page:m})};fetch(E+"/safi-api/v1/unsplash/search",i).then((e=>e.json())).then((e=>{d(!1),y(m>1?[...v,...e.unsplash.results]:e.unsplash.results);const t=e.unsplash.total_pages;g(t),t>m&&h(m+1),!0!==s&&w(10)})).catch((e=>{console.error("An error occured",e),alert("An error occured, try again."),d(!1)}))},S=(()=>{const e=v.map((e=>({src:e.urls.small,width:e.width,height:e.height,title:e.description,author:e.user.name,author_profile:e.user.url})));return console.log(v.map((e=>e.urls.regular))),e})(),N=b>=0;return(0,e.createElement)("div",{id:"safi-unsplash-browser",className:"safi-image-browser-wrap",style:C},(0,e.createElement)("div",{className:"safi-image-browser"},(0,e.createElement)("div",{className:"safi-ib-header"},(0,e.createElement)("h3",null,"Photos by ",(0,e.createElement)("a",{href:"https://unsplash.com/?utm_source=smart-auto-featured-image&utm_medium=referral&utm_campaign=api-credit",target:"_blank"},"Unsplash")),(0,e.createElement)("div",{className:"safi-unsplash-search-area"},(0,e.createElement)("input",{type:"text",name:"",id:"safi-unsplash-search",className:"safi-plain",placeholder:"Mountains",value:u,onChange:e=>{h(1),g(null),p(e.target.value)},onKeyDown:e=>{13===e.keyCode&&x()},autoFocus:!0,autoComplete:"off",disabled:c||N}),(0,e.createElement)("button",{className:"button",value:"Search",onClick:x,disabled:c||N||!u.length},b>0?b:"Search")),(0,e.createElement)("div",{className:"safi-close ",onClick:a},(0,e.createElement)(re,{icon:"close"}))),(0,e.createElement)("div",{className:"safi-ib-body --safi-scroll-thin"},(0,e.createElement)("div",{className:"safi-overlay overlay-unsplash"+(c?" --showing":"")},(0,e.createElement)("span",{className:"safi-loader"})),(0,e.createElement)(Bt,{photos:S,layout:"rows",spacing:3,targetRowHeight:150,onClick:e=>{let{index:t}=e;(e=>{if(!(e>=0))return!1;const t=v[e];if(t){const e=i.width;o({src:t.urls.raw,width:e,height:Math.round(t.height*e/t.width),originalHeight:t.height,originalWidth:t.width}),(e=>{var t,n;const o={method:"POST",headers:{Accept:"application/json","X-Safi-License-Id":(null===(t=window.SAFI)||void 0===t||null===(n=t.license)||void 0===n?void 0:n.id)||0,"Content-Type":"application/json"},body:JSON.stringify({photo_id:e})};fetch(E+"/safi-api/v1/unsplash/download",o).then((e=>e.json())).then((e=>{})).catch((e=>{alert("An error occured, try again.")}))})(t.id)}})(t)},renderPhoto:t=>{let{photo:n,wrapperStyle:o,renderDefaultPhoto:a}=t;return(0,e.createElement)("div",{className:"safi-ib-thumb",style:{position:"relative",...o}},a({wrapped:!0}),n.author&&(0,e.createElement)("div",{className:"safi-ib-thumb-author"},(0,e.createElement)("a",{href:n.author_profile+"?utm_source=smart-auto-featured-image&utm_medium=referral",target:"_blank"},n.author)))}}),!0!==s&&(0,e.createElement)("div",{className:"safi-ib-pro-notice"},(0,e.createElement)("ul",null,(0,e.createElement)("li",null,"Unlimited results"),(0,e.createElement)("li",null,"Unrestricted searches*"),(0,e.createElement)("li",null,"HD + HQ image quality")),(0,e.createElement)("a",{className:"button",target:"_blank",href:"https://wpjoli.com/smart-auto-featured-image/"},"Get Pro Now"),(0,e.createElement)("p",{style:{fontSize:"10px",fontStyle:"italic",color:"#ffffff80"}},"*Free users are restricted to one search per 10 seconds to keep a smooth experience for both free and pro users.")),s&&m<f&&(0,e.createElement)("button",{onClick:x},"More"))))},{__:Gt}=wp.i18n,{useState:$t,useEffect:Xt,useContext:Kt,useRef:Yt}=wp.element,Jt=t=>{let{element:n,canvas:o,propDataChanged:a,...i}=t;const r=Kt(l),[s,c]=$t(n),[d,u]=$t(!1),[p,m]=$t(!1),h=Yt(null);Xt((()=>{c(n)}),[n]);const f=e=>e?e.substring(e.lastIndexOf("/")+1):"",g=(()=>{let e=["safi-image-selector"];return null!==s.sourceType&&e.push("--image-selected"),e.join(" ")})();return(0,e.createElement)("div",{id:"safi-image-selector",className:g},null===s.sourceType&&(0,e.createElement)("p",null,Gt("Select a source","wpjoli-safi")),null===s.sourceType&&(0,e.createElement)("div",{className:"safi-image-sources flex justify-center"},(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"uploader"},(0,e.createElement)("button",{ref:h,id:"safi-media-library-open",className:"button safi-tb-btn",value:"Upload",onClick:()=>{var e=window.safiWpMedia;const t=()=>{var n=e.state().get("selection").first().toJSON();if(n){if("image"!==n.type)return alert("Selected file must be an image !"),!1;const o={sourceType:"media",srcMedia:n.url,originalHeight:n.height,originalWidth:n.width};a(o),e.off("select",t)}};return e.on("select",t),e.open(),!1}},Gt("Media Library","wpjoli-safi")))),(0,e.createElement)("div",null,(0,e.createElement)("button",{id:"btn-browse-unsplash",className:"button safi-tb-btn",value:"Browse Unsplash",onClick:()=>u(!d)},"Unsplash"),(0,e.createElement)(Zt,{isVisible:d,onSelect:e=>{const t={sourceType:"url",sourceFrom:"unsplash",srcUrl:e.src,originalHeight:e.originalHeight,originalWidth:e.originalWidth};a(t),u(!1)},canvas:o,onClose:()=>u(!1)})),(0,e.createElement)("div",null,(0,e.createElement)("button",{id:"btn-image-from-url",className:"button safi-tb-btn"+(!1===r?" --pro":""),value:"Image from URL",onClick:()=>m(!p),disabled:!1===r},"URL"))),p&&(0,e.createElement)("input",{type:"text",name:"",id:"safi-img-url",placeholder:"https://...",onKeyDown:e=>(e=>{if(13===e.keyCode){const t=e.target.value;(e=>{try{return Boolean(new URL(e))}catch(e){return!1}})(t)?(a({sourceType:"url",srcUrl:t}),m(!1)):alert("Invalid URL")}})(e),autoFocus:!0}),(0,e.createElement)("div",{className:"safi-image-name"},(()=>{if("media"===s.sourceType)return(0,e.createElement)("div",null,s.srcMedia&&(0,e.createElement)("img",{src:s.srcMedia,className:"safi-image-picker-thumb",title:f(s.srcMedia)||""}));if("url"===s.sourceType){let t=null;return t=s.sourceFrom&&"unsplash"===s.sourceFrom?s.srcUrl+"&q=90&w="+((null==o?void 0:o.width)||"").toString():s.srcUrl,(0,e.createElement)("div",null,t&&(0,e.createElement)("img",{src:t,className:"safi-image-picker-thumb",title:f(s.srcUrl)||""}))}})(),null!==s.sourceType&&(0,e.createElement)("div",{className:"flex flex-1 flex-center"},(0,e.createElement)("button",{className:"button safi-tb-btn",value:"Change image",onClick:e=>{a({sourceType:null})}},"Change image"))))},{__:qt}=wp.i18n,{useState:Qt,useEffect:en,useRef:tn,useContext:nn}=wp.element,on=[{value:null,label:"None"},{value:"contain",label:"Contain"},{value:"cover",label:"Cover"},{value:"fill",label:"Fill"},{value:"scale-down",label:"Scale down"}],an=t=>{let{element:n,canvas:o,...a}=t;nn(l);const[i,r]=Qt(n);en((()=>{r(n)}),[n]);const s=e=>{const t=i.id;t&&a.onElementDataChange(t,e)};return(0,e.createElement)(Y,{header:!0,name:"Image"},(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)(Jt,{element:i,canvas:o,propDataChanged:s})))),(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-input"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)("label",{htmlFor:"safi-image-fit-select"},qt("Image fit","wpjoli-safi")),(0,e.createElement)("select",{id:"safi-image-fit-select",className:"safi-plain --stealth",onChange:e=>{const t={fit:e.target.value};s(t)}},on.map((t=>(0,e.createElement)("option",{value:t.value,selected:t.value===i.fit},t.label)))))))))};class ln{static base={type:null,id:null,label:null,x:0,y:0,angle:0,opacity:1,align:null,classes:null,customCss:null,hidden:!1,locked:!1,hAlign:null,vAlign:null};static defaults={text:Object.assign({},ln.base,{type:"text",text:"New text",fontSize:"40",lineHeight:1,fontType:null,fontFamily:"Arial",styles:{display:"flex",backgroundColor:"",color:"#000000",fontWeight:"400",textAlign:null}}),icon:Object.assign({},ln.base,{type:"icon",iconPrefix:"fa",icon:"face-grin",styles:{display:"flex",color:"#8c53ff",justifyContent:"center",alignItems:"center"}}),conditional:Object.assign({},ln.base,{type:"conditional",activeChild:null,collapsed:!1}),condition:Object.assign({},ln.base,{type:"condition",compareWith:null,compareOperator:"equals",compareValue:""}),columns:Object.assign({},ln.base,{type:"columns",styles:{}}),container:Object.assign({},ln.base,{type:"container",styles:{backgroundColor:"transparent"}}),rect:Object.assign({},ln.base,{type:"rect",styles:{backgroundColor:"#ffeea0"}}),circle:Object.assign({},ln.base,{type:"circle",styles:{backgroundColor:"#ffeea0",borderRadius:"100%"}}),image:Object.assign({},ln.base,{type:"image",sourceType:null,fit:"cover",styles:{},imageStyles:{width:"100%",height:"100%",borderRadius:"inherit",userSelect:"none",pointerEvents:"none",objectPosition:"inherit"}}),dynamicimage:Object.assign({},ln.base,{type:"dynamicimage",dynImageSource:"first-image",sourceType:null,fit:"cover",styles:{},imageStyles:{width:"100%",height:"100%",borderRadius:"inherit",userSelect:"none",pointerEvents:"none",objectPosition:"inherit"}}),svg:Object.assign({},ln.base,{type:"svg",styles:{}})}}const{useState:rn,useEffect:sn}=wp.element,{__:cn}=wp.i18n,dn=t=>{let{element:n,onElementDataChange:o,...a}=t;const[i,l]=rn(n);sn((()=>{l(n)}),[n]);const r=e=>{const t=i.id;t&&o(t,e)};return(0,e.createElement)(Y,{header:!0,name:"Padding",isOpen:null!=i.padding||null!=i.margin},(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)(nt,{id:"safi-box-control--padding",value:i.padding||null,dimensions:[{label:cn("top","smart-auto-featured-image"),value:"top"},{label:cn("right","smart-auto-featured-image"),value:"right"},{label:cn("bottom","smart-auto-featured-image"),value:"bottom"},{label:cn("left","smart-auto-featured-image"),value:"left"}],noNegatives:!0,onChange:e=>r({padding:e}),onMouseEnter:e=>{r({highlightPadding:!0})},onMouseLeave:e=>{r({highlightPadding:void 0})}})))))},{useState:un,useEffect:pn}=wp.element,mn=t=>{let{tools:n,isActive:o,onSwitch:a}=t;const[i,l]=un(o||!1),r=()=>{l(!i),a(!i)};return pn((()=>{l(o)}),[o]),(0,e.createElement)("div",{id:"safi-grid",className:"safi-toolbar"},n.map((t=>(0,e.createElement)("div",{className:"safi-tool safi-icon-container"+(i?" --active":""),"data-tool":t.id,"data-tooltip":t.label,title:t.label,onClick:r},(0,e.createElement)("svg",{className:"svg",width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:t.iconSvgPath,fillRule:"nonzero",fillOpacity:"1",fill:"#000",stroke:"none"}))))))},{useReducer:hn}=wp.element,fn="SET_STATE",gn="SET_STATE_SNAPSHOT",vn="SET_TREE",yn="SET_ELEMENTS",bn="SET_CANVAS",wn="RESET_STATE",En="UNDO",Cn="REDO",xn=(e,t)=>{const{past:n,present:o,future:a,presentSnapshot:i}=e;let l=o;null!==i&&(l=t.history?i:o);const r=t.history?[...n,l]:n,s=t.history?null:i;switch(t.type){case wn:return{past:[],present:null,presentSnapshot:null,future:[]};case bn:return{past:r,present:{...o,canvas:t.data},presentSnapshot:s,future:[]};case vn:return{past:r,present:{...o,tree:t.data},presentSnapshot:s,future:[]};case yn:return{past:r,present:{...o,elements:t.data},presentSnapshot:s,future:[]};case fn:return{past:r,present:t.data,presentSnapshot:s,future:[]};case gn:return{past:n,present:o,presentSnapshot:!1===t.data?null:{...o},future:[]};case En:return{past:n.slice(0,n.length-1),present:n[n.length-1],presentSnapshot:null,future:[o,...a]};case Cn:return{past:[...n,o],present:a[0],presentSnapshot:null,future:a.slice(1)};default:throw new Error}},{useState:Sn}=wp.element,Nn=t=>{let{icons:n,onSelectIcon:o,...a}=t;const[i,l]=Sn("");return(0,e.createElement)("div",{className:"safi-icon-control"},(0,e.createElement)("input",{type:"text",className:"safi-plain safi-filter-icons",name:"prop-classes",id:"safi-custom-classes",placeholder:"Search icons...",value:i,onChange:e=>{const t=e.target.value;l(t)}}),(0,e.createElement)("div",{className:"safi-fa-icon-picker--container --safi-scroll-thin"},n.filter((e=>e.search.terms.filter((e=>e.toLowerCase().includes(i.toLowerCase()))).length>0||e.label.toLowerCase().includes(i.toLowerCase()))).map(((t,n)=>{const a=void 0!==t.styles.find((e=>"brands"===e))?"fa-brands":"fa";return(0,e.createElement)("div",{key:n,className:"fail-item","data-icon-unicode":t.unicode,onClick:()=>{return e=a,n=t.key,void o(e,n);var e,n}},(0,e.createElement)("i",{className:a+" fa-"+t.key}),(0,e.createElement)("div",{className:"fail-id"},t.label))}))))},{__:kn}=wp.i18n,{useState:In,useEffect:Dn,useContext:Tn,useRef:Ln}=wp.element,Mn=t=>{let{element:n,propDataChanged:o,...a}=t;Tn(l);const[i,r]=In(!1),[s,c]=In(null==n.svgCode?"":n.svgCode);let d;return Dn((()=>{c(null==n.svgCode?"":n.svgCode)}),[n]),(0,e.createElement)("div",{className:"safi-svg-picker"},(0,e.createElement)("input",{className:"custom-file-input",type:"file",name:"svg-upload",id:"",accept:".svg",onChange:e=>{let t=null;if(void 0!==e.target.files[0]&&(t=e.target.files[0]),void 0===t)return alert("Please select a file."),!1;const n=new FileReader;n.onload=function(e){var t=n.result;o({svgCode:t})},n.readAsText(t),n.addEventListener("error",(()=>{console.error(`Error occurred reading file: ${t.name}`)}))}}),(0,e.createElement)("textarea",{name:"prop-css",className:"safi-plain",id:"safi-svg-code",placeholder:"<svg>....</svg> (Paste your svg here)",value:s,onChange:e=>{const t=e.target.value,n=u.validateSVG(t);r(!0!==n&&["Invalid SVG"]),d=!0,c(t),!0===n&&o({svgCode:t},!1)},onBlur:e=>o({svgCode:e.target.value})}),!1!==i&&(0,e.createElement)("ol",{className:"css-errors"},i.map((t=>(0,e.createElement)("li",null,t)))))};var Pn,On,An,jn=n(5697),Hn=function(){return Hn=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Hn.apply(this,arguments)},Rn={onActivate:jn.func,onAddUndo:jn.func,onBeforeAddUndo:jn.func,onBeforeExecCommand:jn.func,onBeforeGetContent:jn.func,onBeforeRenderUI:jn.func,onBeforeSetContent:jn.func,onBeforePaste:jn.func,onBlur:jn.func,onChange:jn.func,onClearUndos:jn.func,onClick:jn.func,onContextMenu:jn.func,onCommentChange:jn.func,onCopy:jn.func,onCut:jn.func,onDblclick:jn.func,onDeactivate:jn.func,onDirty:jn.func,onDrag:jn.func,onDragDrop:jn.func,onDragEnd:jn.func,onDragGesture:jn.func,onDragOver:jn.func,onDrop:jn.func,onExecCommand:jn.func,onFocus:jn.func,onFocusIn:jn.func,onFocusOut:jn.func,onGetContent:jn.func,onHide:jn.func,onInit:jn.func,onKeyDown:jn.func,onKeyPress:jn.func,onKeyUp:jn.func,onLoadContent:jn.func,onMouseDown:jn.func,onMouseEnter:jn.func,onMouseLeave:jn.func,onMouseMove:jn.func,onMouseOut:jn.func,onMouseOver:jn.func,onMouseUp:jn.func,onNodeChange:jn.func,onObjectResizeStart:jn.func,onObjectResized:jn.func,onObjectSelected:jn.func,onPaste:jn.func,onPostProcess:jn.func,onPostRender:jn.func,onPreProcess:jn.func,onProgressState:jn.func,onRedo:jn.func,onRemove:jn.func,onReset:jn.func,onSaveContent:jn.func,onSelectionChange:jn.func,onSetAttrib:jn.func,onSetContent:jn.func,onShow:jn.func,onSubmit:jn.func,onUndo:jn.func,onVisualAid:jn.func,onSkinLoadError:jn.func,onThemeLoadError:jn.func,onModelLoadError:jn.func,onPluginLoadError:jn.func,onIconsLoadError:jn.func,onLanguageLoadError:jn.func,onScriptsLoad:jn.func,onScriptsLoadError:jn.func},Fn=Hn({apiKey:jn.string,id:jn.string,inline:jn.bool,init:jn.object,initialValue:jn.string,onEditorChange:jn.func,value:jn.string,tagName:jn.string,cloudChannel:jn.string,plugins:jn.oneOfType([jn.string,jn.array]),toolbar:jn.oneOfType([jn.string,jn.array]),disabled:jn.bool,textareaName:jn.string,tinymceScriptSrc:jn.oneOfType([jn.string,jn.arrayOf(jn.string),jn.arrayOf(jn.shape({src:jn.string,async:jn.bool,defer:jn.bool}))]),rollback:jn.oneOfType([jn.number,jn.oneOf([!1])]),scriptLoading:jn.shape({async:jn.bool,defer:jn.bool,delay:jn.number})},Rn),Vn=function(e){return"function"==typeof e},Bn=function(e){return e in Rn},zn=function(e){return e.substr(2)},Un=function(e,t,n,o,a){return function(t,n,o,a,i,l,r){var s=Object.keys(i).filter(Bn),c=Object.keys(l).filter(Bn),d=s.filter((function(e){return void 0===l[e]})),u=c.filter((function(e){return void 0===i[e]}));d.forEach((function(e){var t=zn(e),n=r[t];o(t,n),delete r[t]})),u.forEach((function(o){var a=function(t,n){return function(o){var a;return null===(a=t(n))||void 0===a?void 0:a(o,e)}}(t,o),i=zn(o);r[i]=a,n(i,a)}))}(a,e.on.bind(e),e.off.bind(e),0,t,n,o)},Wn=0,Zn=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++Wn+String(t)},Gn=function(e){return null!==e&&("textarea"===e.tagName.toLowerCase()||"input"===e.tagName.toLowerCase())},$n=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},Xn=function(e,t){void 0!==e&&(null!=e.mode&&"object"==typeof e.mode&&"function"==typeof e.mode.set?e.mode.set(t):e.setMode(t))},Kn=function(){return Kn=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Kn.apply(this,arguments)},Yn=function(e,t,n){var o,a,i=e.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=t.id,i.src=t.src,i.async=null!==(o=t.async)&&void 0!==o&&o,i.defer=null!==(a=t.defer)&&void 0!==a&&a;var l=function(){i.removeEventListener("load",l),i.removeEventListener("error",r),n(t.src)},r=function(e){i.removeEventListener("load",l),i.removeEventListener("error",r),n(t.src,e)};i.addEventListener("load",l),i.addEventListener("error",r),e.head&&e.head.appendChild(i)},Jn=(Pn=[],On=function(e){var t=Pn.find((function(t){return t.getDocument()===e}));return void 0===t&&(t=function(e){var t={},n=function(e,n){var o=t[e];o.done=!0,o.error=n;for(var a=0,i=o.handlers;a<i.length;a++)(0,i[a])(e,n);o.handlers=[]};return{loadScripts:function(o,a,i){var l=function(e){return void 0!==i?i(e):console.error(e)};if(0!==o.length)for(var r=0,s=!1,c=function(e,t){s||(t?(s=!0,l(t)):++r===o.length&&a())},d=0,u=o;d<u.length;d++){var p=u[d],m=t[p.src];if(m)m.done?c(p.src,m.error):m.handlers.push(c);else{var h=Zn("tiny-");t[p.src]={id:h,src:p.src,done:!1,error:null,handlers:[c]},Yn(e,Kn({id:h},p),n)}}else l(new Error("At least one script must be provided"))},deleteScripts:function(){for(var n,o=0,a=Object.values(t);o<a.length;o++){var i=a[o],l=e.getElementById(i.id);null!=l&&"SCRIPT"===l.tagName&&(null===(n=l.parentNode)||void 0===n||n.removeChild(l))}t={}},getDocument:function(){return e}}}(e),Pn.push(t)),t},{loadList:function(e,t,n,o,a){var i=function(){return On(e).loadScripts(t,o,a)};n>0?setTimeout(i,n):i()},reinitialize:function(){for(var e=Pn.pop();null!=e;e=Pn.pop())e.deleteScripts()}}),qn=function(e){var t=e;return t&&t.tinymce?t.tinymce:null},Qn=(An=function(e,t){return An=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},An(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}An(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),eo=function(){return eo=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},eo.apply(this,arguments)},to=function(e){function t(t){var n,o,a,i=e.call(this,t)||this;return i.rollbackTimer=void 0,i.valueCursor=void 0,i.rollbackChange=function(){var e=i.editor,t=i.props.value;e&&t&&t!==i.currentContent&&e.undoManager.ignore((function(){if(e.setContent(t),i.valueCursor&&(!i.inline||e.hasFocus()))try{e.selection.moveToBookmark(i.valueCursor)}catch(e){}})),i.rollbackTimer=void 0},i.handleBeforeInput=function(e){if(void 0!==i.props.value&&i.props.value===i.currentContent&&i.editor&&(!i.inline||i.editor.hasFocus()))try{i.valueCursor=i.editor.selection.getBookmark(3)}catch(e){}},i.handleBeforeInputSpecial=function(e){"Enter"!==e.key&&"Backspace"!==e.key&&"Delete"!==e.key||i.handleBeforeInput(e)},i.handleEditorChange=function(e){var t=i.editor;if(t&&t.initialized){var n=t.getContent();void 0!==i.props.value&&i.props.value!==n&&!1!==i.props.rollback&&(i.rollbackTimer||(i.rollbackTimer=window.setTimeout(i.rollbackChange,"number"==typeof i.props.rollback?i.props.rollback:200))),n!==i.currentContent&&(i.currentContent=n,Vn(i.props.onEditorChange)&&i.props.onEditorChange(n,t))}},i.handleEditorChangeSpecial=function(e){"Backspace"!==e.key&&"Delete"!==e.key||i.handleEditorChange(e)},i.initialise=function(e){var t,n,o;void 0===e&&(e=0);var a=i.elementRef.current;if(a)if(function(e){if(!("isConnected"in Node.prototype)){for(var t=e,n=e.parentNode;null!=n;)n=(t=n).parentNode;return t===e.ownerDocument}return e.isConnected}(a)){var l=qn(i.view);if(!l)throw new Error("tinymce should have been loaded into global scope");var r,s,c=eo(eo({},i.props.init),{selector:void 0,target:a,readonly:i.props.disabled,inline:i.inline,plugins:(r=null===(t=i.props.init)||void 0===t?void 0:t.plugins,s=i.props.plugins,$n(r).concat($n(s))),toolbar:null!==(n=i.props.toolbar)&&void 0!==n?n:null===(o=i.props.init)||void 0===o?void 0:o.toolbar,setup:function(e){i.editor=e,i.bindHandlers({}),i.inline&&!Gn(a)&&e.once("PostRender",(function(t){e.setContent(i.getInitialValue(),{no_events:!0})})),i.props.init&&Vn(i.props.init.setup)&&i.props.init.setup(e)},init_instance_callback:function(e){var t,n,o=i.getInitialValue();i.currentContent=null!==(t=i.currentContent)&&void 0!==t?t:e.getContent(),i.currentContent!==o&&(i.currentContent=o,e.setContent(o),e.undoManager.clear(),e.undoManager.add(),e.setDirty(!1));var a=null!==(n=i.props.disabled)&&void 0!==n&&n;Xn(i.editor,a?"readonly":"design"),i.props.init&&Vn(i.props.init.init_instance_callback)&&i.props.init.init_instance_callback(e)}});i.inline||(a.style.visibility=""),Gn(a)&&(a.value=i.getInitialValue()),l.init(c)}else if(0===e)setTimeout((function(){return i.initialise(1)}),1);else{if(!(e<100))throw new Error("tinymce can only be initialised when in a document");setTimeout((function(){return i.initialise(e+1)}),100)}},i.id=i.props.id||Zn("tiny-react"),i.elementRef=ge.createRef(),i.inline=null!==(a=null!==(n=i.props.inline)&&void 0!==n?n:null===(o=i.props.init)||void 0===o?void 0:o.inline)&&void 0!==a&&a,i.boundHandlers={},i}return Qn(t,e),Object.defineProperty(t.prototype,"view",{get:function(){var e,t;return null!==(t=null===(e=this.elementRef.current)||void 0===e?void 0:e.ownerDocument.defaultView)&&void 0!==t?t:window},enumerable:!1,configurable:!0}),t.prototype.componentDidUpdate=function(e){var t,n,o=this;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(e),this.editor.initialized)){if(this.currentContent=null!==(t=this.currentContent)&&void 0!==t?t:this.editor.getContent(),"string"==typeof this.props.initialValue&&this.props.initialValue!==e.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if("string"==typeof this.props.value&&this.props.value!==this.currentContent){var a=this.editor;a.undoManager.transact((function(){var e;if(!o.inline||a.hasFocus())try{e=a.selection.getBookmark(3)}catch(e){}var t=o.valueCursor;if(a.setContent(o.props.value),!o.inline||a.hasFocus())for(var n=0,i=[e,t];n<i.length;n++){var l=i[n];if(l)try{a.selection.moveToBookmark(l),o.valueCursor=l;break}catch(e){}}}))}if(this.props.disabled!==e.disabled){var i=null!==(n=this.props.disabled)&&void 0!==n&&n;Xn(this.editor,i?"readonly":"design")}}},t.prototype.componentDidMount=function(){var e,t,n,o,a,i=this;null!==qn(this.view)?this.initialise():Array.isArray(this.props.tinymceScriptSrc)&&0===this.props.tinymceScriptSrc.length?null===(t=(e=this.props).onScriptsLoadError)||void 0===t||t.call(e,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array.")):(null===(n=this.elementRef.current)||void 0===n?void 0:n.ownerDocument)&&Jn.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),null!==(a=null===(o=this.props.scriptLoading)||void 0===o?void 0:o.delay)&&void 0!==a?a:0,(function(){var e,t;null===(t=(e=i.props).onScriptsLoad)||void 0===t||t.call(e),i.initialise()}),(function(e){var t,n;null===(n=(t=i.props).onScriptsLoadError)||void 0===n||n.call(t,e)}))},t.prototype.componentWillUnmount=function(){var e=this,t=this.editor;t&&(t.off(this.changeEvents(),this.handleEditorChange),t.off(this.beforeInputEvent(),this.handleBeforeInput),t.off("keypress",this.handleEditorChangeSpecial),t.off("keydown",this.handleBeforeInputSpecial),t.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach((function(n){t.off(n,e.boundHandlers[n])})),this.boundHandlers={},t.remove(),this.editor=void 0)},t.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},t.prototype.changeEvents=function(){var e,t,n;return(null===(n=null===(t=null===(e=qn(this.view))||void 0===e?void 0:e.Env)||void 0===t?void 0:t.browser)||void 0===n?void 0:n.isIE())?"change keyup compositionend setcontent CommentChange":"change input compositionend setcontent CommentChange"},t.prototype.beforeInputEvent=function(){return window.InputEvent&&"function"==typeof InputEvent.prototype.getTargetRanges?"beforeinput SelectionChange":"SelectionChange"},t.prototype.renderInline=function(){var e=this.props.tagName,t=void 0===e?"div":e;return ge.createElement(t,{ref:this.elementRef,id:this.id})},t.prototype.renderIframe=function(){return ge.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},t.prototype.getScriptSources=function(){var e,t,n=null===(e=this.props.scriptLoading)||void 0===e?void 0:e.async,o=null===(t=this.props.scriptLoading)||void 0===t?void 0:t.defer;if(void 0!==this.props.tinymceScriptSrc)return"string"==typeof this.props.tinymceScriptSrc?[{src:this.props.tinymceScriptSrc,async:n,defer:o}]:this.props.tinymceScriptSrc.map((function(e){return"string"==typeof e?{src:e,async:n,defer:o}:e}));var a=this.props.cloudChannel,i=this.props.apiKey?this.props.apiKey:"no-api-key";return[{src:"https://cdn.tiny.cloud/1/".concat(i,"/tinymce/").concat(a,"/tinymce.min.js"),async:n,defer:o}]},t.prototype.getInitialValue=function(){return"string"==typeof this.props.initialValue?this.props.initialValue:"string"==typeof this.props.value?this.props.value:""},t.prototype.bindHandlers=function(e){var t=this;if(void 0!==this.editor){Un(this.editor,e,this.props,this.boundHandlers,(function(e){return t.props[e]}));var n=function(e){return void 0!==e.onEditorChange||void 0!==e.value},o=n(e),a=n(this.props);!o&&a?(this.editor.on(this.changeEvents(),this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):o&&!a&&(this.editor.off(this.changeEvents(),this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},t.propTypes=Fn,t.defaultProps={cloudChannel:"6"},t}(ge.Component);const{__:no}=wp.i18n,{useState:oo,useEffect:ao,useContext:io,useRef:lo}=wp.element,ro=wp.apiFetch,so=t=>{var n;let{imageQuality:o,previewData:a,showPreview:i,onPreviewLoaded:r,onPreviewClose:s,onImageCreated:c,onImageURLCreated:d,featuredImageGenerated:u,faIcons:p,...m}=t;const h=io(l),[f,g]=oo(!1),[v,y]=oo(!1),[b,w]=oo(!1),[E,C]=oo(null),[x,S]=oo([]),[N,k]=oo(null),[I,D]=oo({}),[T,L]=oo(""),[M,P]=oo(0),[O,A]=oo((null==a?void 0:a.template)||null),[_,j]=oo(window.SAFI.options.imageFormat),[H,R]=oo(window.SAFI.options.imageQuality),[F,V]=oo(window.SAFI.options.imageHD),[B,z]=oo((null===(n=window.SAFI.credits)||void 0===n?void 0:n.count)||0),U=(null==a||null===(W=a.template)||void 0===W||null===(Z=W.content)||void 0===Z||null===(G=Z.canvas)||void 0===G?void 0:G.width)>2500||(null==a||null===($=a.template)||void 0===$||null===(X=$.content)||void 0===X||null===(K=X.canvas)||void 0===K?void 0:K.height)>2500;var W,Z,G,$,X,K;ao((()=>{!0===i&&Y(!0),U&&V(!1)}),[]),ao((()=>{!0===i||!1===i&&w(!1)}),[i]),ao((()=>{g(!1)}),[u]),ao((()=>{!0===i&&Y()}),[F]),ao((()=>{!0===i&&O&&Y()}),[O]);const Y=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ro({path:"/safi/v1/featured-image/preview",method:"POST",data:{template:JSON.stringify(O),data:a.data,options:{hd:F}}}).then((t=>{const n=O.content.canvas.width.toString(),o=O.content.canvas.height.toString(),a=500/O.content.canvas.width;D({width:n,height:o});const i={width:n+"px",height:o+"px",transform:"scale("+a.toString()+")"};L(i),C(t.html),!0===e&&S(t.dynamicFields);const l=1/a;let r=t.html.replace("</style>\x3c!--SAFIEOS--\x3e",".root-container.rcp::after {\n                content: '';\n                position: absolute;\n                z-index: 999999999999;\n                background: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPgogICAgPGRlZnM+CiAgICAgICAgPHBhdHRlcm4gaWQ9InRleHRzdHJpcGUiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHdpZHRoPSI1NjAiIGhlaWdodD0iMTAwIiBwYXR0ZXJuVHJhbnNmb3JtPSJyb3RhdGUoLTQ1KSI+IDx0ZXh0IHk9IjgwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjIwIiBmaWxsPSIjMDAwMDAwMjAiPndwam9saS5jb20gLSBzbWFydCBhdXRvIGZlYXR1cmVkIGltYWdlIC0gcHJldmlldyAtIDwvdGV4dD4gPC9wYXR0ZXJuPgogICAgICAgIDxwYXR0ZXJuIGlkPSJ0ZXh0c3RyaXBlMiIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgd2lkdGg9IjU2MCIgaGVpZ2h0PSIxMDAiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSgtNDUpIj4gPHRleHQgeT0iMzAiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjAiIGZpbGw9IiNmZmZmZmYyMCI+d3Bqb2xpLmNvbSAtIHNtYXJ0IGF1dG8gZmVhdHVyZWQgaW1hZ2UgLSBwcmV2aWV3IC0gPC90ZXh0PiA8L3BhdHRlcm4+CiAgICA8L2RlZnM+CiAgICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI3RleHRzdHJpcGUpIiAvPgogICAgPHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCN0ZXh0c3RyaXBlMikiIC8+Cjwvc3ZnPg==\");\n                width: "+n+"px !important;\n                height: "+o+"px !important;\n                transform: scale("+l.toString()+");\n              }</style>\x3c!--SAFIEOS--\x3e");r=r.replace('class="root-container','class="root-container rcp'),k(r),w(!0)})).catch((e=>{console.error("An error occured",e),alert(no("An error occured, try again.","wpjoli-safi")),w(!1),g(!1),y(!1),s(!0)}))};let J=async()=>{g(!0),P(1);let e=document.getElementById("iframe-preview"),t=document.createElement("canvas");t.width=1*(null==I?void 0:I.width),t.height=1*(null==I?void 0:I.height),e.contentWindow.document.body.querySelector(".root-container").classList.remove("rcp"),e.contentWindow.document.body.append(t);const n={useCORS:!0,width:h?t.width:Math.min(t.width,1200),height:h?t.height:Math.min(t.height,800),canvas:t,scale:1};html2canvas(e.contentWindow.document.body,n).then((function(e){var t=e.toDataURL("image/jpeg",o);P(2),c(t),g(!0)}))};h&&(J=async()=>{g(!0),P(1);const e={width:null==I?void 0:I.width,height:null==I?void 0:I.height,imageFormat:_,imageQuality:H,imageHD:F};let t={Accept:"application/json","X-Safi-License":window.SAFI.license.hash,"X-Safi-License-Id":window.SAFI.license.id,"X-Safi-User-Id":window.SAFI.license.user_id||window.SAFI.license.trial_user_id,"Content-Type":"application/json"};window.SAFI.install&&null!==window.SAFI.install&&(t["X-Safi-Install"]=window.SAFI.install);const n={method:"POST",headers:t,body:JSON.stringify({html:E,options:e})};fetch("https://api.wpjoli.com/wp-json/safi-api/v1/featured-image/generate",n).then((e=>e.json())).then((t=>{if(t.fileurl)try{P(2),d(t,N,e)}catch(e){g(!1)}else t.message&&alert(t.message),g(!1)})).catch((e=>{console.log("An error occured. Try again.",e),alert("An error occured. Please try again. If the problem persists, contact support."),g(!1)}))});const q=h?B+"/"+window.SAFI.credits_max:"",Q=(()=>{var t;const n=null==O||null===(t=O.content)||void 0===t?void 0:t.elements;if(!n)return null;const o=n.filter((e=>e.dynamic&&!0===e.dynamic));return o.length?o.map((t=>{if(t)return(t=>{var n,o;if(!t)return;let i=["safi-preview-dynamic-field","--field-"+t.type];const l=lo(null),r=null==a?void 0:a.template.content.elements.findIndex((e=>e.id==t.id));return(0,e.createElement)("div",{key:t.id,id:"#safi-mce-"+t.id,className:i.filter((e=>""!==e)).join(" "),"data-layer-id":t.id},(0,e.createElement)("label",{htmlFor:t.id},t.label),"text"===t.type&&(0,e.createElement)("div",null,(0,e.createElement)(to,{id:"safi-text-editor-"+t.id,key:t.id,onInit:(e,t)=>l.current=t,initialValue:null==a?void 0:a.template.content.elements[r].text,value:null===(n=x[t.id])||void 0===n?void 0:n.content,init:{menubar:!1,inline:!0,forced_root_block:!1,height:150,plugins:["textcolor"],toolbar:"forecolor | bold italic underline strikethrough",body_class:"safi-dynamic-fields"},onEditorChange:(e,n)=>((e,t,n,o)=>{const a=e;let i;if("text"===o){if("object"!=typeof x||0===x.length)return;let t=JSON.parse(JSON.stringify(x));t[n].content=e,S(t),i={text:a},te(n,i)}})(e,0,t.id,t.type)})),"image"===t.type&&(0,e.createElement)(Jt,{element:t,canvas:null==O||null===(o=O.content)||void 0===o?void 0:o.canvas,propDataChanged:e=>ee(t.id,e)}),"svg"===t.type&&(0,e.createElement)(Mn,{element:t,propDataChanged:e=>ee(t.id,e)}),"icon"===t.type&&(0,e.createElement)(Nn,{element:t,icons:p,onSelectIcon:(e,n)=>((e,t,n)=>{te(e,{iconPrefix:t,icon:n})})(t.id,e,n)}))})(t)})):null})(),ee=(e,t)=>{te(e,t)},te=(e,t)=>{let n=JSON.parse(JSON.stringify(O));const o=n.content.elements.findIndex((t=>t.id==e));if(-1===o)return;const a={...n.content.elements[o],...t};n.content.elements[o]=a,A(n)};return b&&(0,e.createElement)("div",{id:"safi-preview-wrap"},(0,e.createElement)("div",{id:"safi-preview-header"},h&&(0,e.createElement)("span",{id:"safi-credits-usage"},no("Credits usage this month: ","wpjoli-safi"),(0,e.createElement)("strong",{style:{color:"white"}},q)),(0,e.createElement)("button",{className:"safi-tb-btn",onClick:()=>{w(!1),y(!1),s(!0)},disabled:f},no("Close","wpjoli-safi"))),(0,e.createElement)("div",{id:"safi-preview-body"},null!==Q&&(0,e.createElement)("div",{id:"safi-preview-dynamic-fields",className:"safi-dynamic-fields"},(0,e.createElement)("div",{className:"safi-preview-dynamic-fields--body --safi-scroll-thin"},(0,e.createElement)("div",{className:"safi-panel-name"},"Dynamic fields"),(0,e.createElement)("div",{className:"safi-preview-dynamic-fields--list"},Q))),(0,e.createElement)("div",{id:"safi-preview-main",className:"flex flex-column"},(0,e.createElement)("div",{id:"safi-preview-content",className:v?"":" --hidden",style:T},(0,e.createElement)("iframe",{id:"iframe-preview",srcdoc:N,frameborder:"0",width:I.width,height:I.height,onLoad:()=>{y(!0),r(!0)}})),(0,e.createElement)("div",{id:"safi-preview-footer"},h&&(0,e.createElement)("div",{className:"safi-inline-control-group"},(0,e.createElement)("div",null,(0,e.createElement)("label",{className:"joli-switch",for:"safi-image-hd"},(0,e.createElement)("input",{type:"checkbox",id:"safi-image-hd",className:"joli-checkbox",checked:F,onChange:()=>{V(!F)},disabled:U}),(0,e.createElement)("span",{className:"slider round"})),(0,e.createElement)("span",{style:{marginLeft:"5px"}},"HD")),(0,e.createElement)("div",null,(0,e.createElement)("select",{id:"img-options",className:"safi-plain",value:_,onChange:e=>{j(e.target.value)}},(0,e.createElement)("option",{value:"0",disabled:!0},no("Format","wpjoli-safi")),(0,e.createElement)("option",{value:"jpg"},"jpg"),(0,e.createElement)("option",{value:"png"},"png"),(0,e.createElement)("option",{value:"webp"},"webp"))),(0,e.createElement)("div",null,(0,e.createElement)("input",{type:"number",name:"",id:"",min:"0",max:"100",value:H,title:no("Image quality","wpjoli-safi"),disabled:"png"===_,onInput:e=>{R(e.target.value)}}))),U&&(0,e.createElement)("div",{style:{marginTop:"-16px",marginBottom:"8px",fontStyle:"italic"}},no("HD is not available on images of over 2500px in width/height","wpjoli-safi")),(0,e.createElement)("div",null,(0,e.createElement)("button",{className:"safi-tb-btn safi-btn-primary safi-btn-lg",onClick:J,disabled:f,style:{marginBottom:"20px"}},no("Generate featured image","wpjoli-safi")),(0,e.createElement)("p",null,no("Previews are scaled-down. Watermark will be removed in the final image.","wpjoli-safi")))))),(0,e.createElement)("div",{className:"safi-overlay"+(f?" --showing":"")},1===M&&(0,e.createElement)("div",null,(0,e.createElement)("p",null,no("Please wait while the image is being generated.","wpjoli-safi")),(0,e.createElement)("p",null,no("This may take a few seconds.","wpjoli-safi"))),2===M&&(0,e.createElement)("div",null,(0,e.createElement)("p",null,no("The featured image is being downloaded.","wpjoli-safi")),(0,e.createElement)("p",null,no("Please wait...","wpjoli-safi"))),(0,e.createElement)("span",{className:"safi-loader"})))},{useState:co,useEffect:uo}=wp.element,po=t=>{let{element:n,...o}=t;const[a,i]=co(n);return uo((()=>{i(n)}),[n]),(0,e.createElement)(Y,{header:!0,name:"SVG"},(0,e.createElement)("div",{className:"safi-prop-row"},(0,e.createElement)("div",{className:"safi-prop-col"},(0,e.createElement)("div",{className:"safi-prop"},(0,e.createElement)(Mn,{element:a,propDataChanged:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=a.id;n&&o.onElementDataChange(n,e,t)}})))))},mo=[{id:"select",label:"Select (v)",pro:!1,iconSvgPath:"M14.872 8.859L3.646 2.072l-.98-.592.231 1.121 2.683 13 .243 1.178.664-1.003 3.038-4.59 5.22-1.417 1.127-.306-1-.604zM4.108 3.52l9.247 5.59-4.274 1.16-.182.05-.104.156-2.479 3.746L4.108 3.52z"},{id:"text",label:"Text (t)",pro:!1,iconSvgPath:"M2 5h1V2h5v14H5v1h7v-1H9V2h5v3h1V1H2v4z"},{id:"rect",label:"Rect (r)",pro:!1,iconSvgPath:"M16 2v14H2V2h14zm0 15h1V1H1v16h15z"},{id:"circle",label:"Circle (c)",pro:!1,iconSvgPath:"m8.76,1c4.28,0,7.76,3.48,7.76,7.76s-3.48,7.76-7.76,7.76S1,13.03,1,8.76,4.48,1,8.76,1m0-1C3.92,0,0,3.92,0,8.76s3.92,8.76,8.76,8.76,8.76-3.92,8.76-8.76S13.59,0,8.76,0h0Z"},{id:"image",label:"Image (i)",pro:!1,iconSvgPath:"m11.5,9c1.38,0,2.5-1.12,2.5-2.5s-1.12-2.5-2.5-2.5-2.5,1.12-2.5,2.5,1.12,2.5,2.5,2.5Zm1.5-2.5c0,.83-.67,1.5-1.5,1.5s-1.5-.67-1.5-1.5.67-1.5,1.5-1.5,1.5.67,1.5,1.5ZM16,0H0v16h16V0Zm-1,1v14h-1.29L5,6.29,1,10.29V1h14ZM1,15v-3.29l4-4,7.29,7.29H1Z"},{id:"dynamicimage",label:"Content-based image (d)",pro:!0,iconSvgPath:"m11.5,9c1.38,0,2.5-1.12,2.5-2.5s-1.12-2.5-2.5-2.5-2.5,1.12-2.5,2.5,1.12,2.5,2.5,2.5Zm1.5-2.5c0,.83-.67,1.5-1.5,1.5s-1.5-.67-1.5-1.5.67-1.5,1.5-1.5,1.5.67,1.5,1.5Zm3-6.5H0v16h16V0Zm-1,1v14h-1.29L5,6.29,1,10.29V1h14ZM1,15v-3.29l4-4,7.29,7.29H1Zm.92-10.49L3.03.86h1.84l-1.1,3.08h1.47l-3.31,4.29,1.12-3.72h-1.12Z"},{id:"icon",label:"Font Awesome Icon (f)",pro:!0,iconSvgPath:"m18,.64v13.5c-2.53.92-3.29,1.29-4.78,1.29-2.53,0-3.5-1.29-6.03-1.29-.8,0-1.45.16-2.05.32v-2.57c.6-.16,1.25-.32,2.05-.32,2.53,0,3.5,1.29,6.03,1.29.8,0,1.41-.12,2.21-.36V4.14c-.8.24-1.41.36-2.21.36-2.53,0-3.5-1.29-6.03-1.29-2.05,0-3.01.84-4.62,1.17v12.33c0,.72-.56,1.29-1.29,1.29s-1.29-.56-1.29-1.29V1.29C0,.56.56,0,1.29,0s1.29.56,1.29,1.29v.52c1.61-.32,2.57-1.17,4.62-1.17,2.53,0,3.5,1.29,6.03,1.29,1.49,0,2.25-.36,4.78-1.29Z"},{id:"svg",label:"SVG (s)",pro:!0,iconSvgPath:"m1.1.99h9.02l4.02,4.21v5.2h1.05v-5.67L10.45,0H.06v10.4h1.04m-1.1,6.91l.18-1.09c.65.27,1.2.41,1.65.41.29,0,.51-.07.65-.22.12-.13.18-.28.18-.46,0-.16-.06-.29-.18-.38s-.41-.23-.87-.42c-.34-.14-.58-.25-.72-.32s-.27-.15-.39-.24c-.33-.25-.5-.61-.5-1.08,0-.4.11-.76.33-1.06.34-.47.89-.71,1.66-.71.56,0,1.16.1,1.81.31l-.26,1.04c-.39-.14-.68-.24-.87-.28-.19-.05-.4-.07-.61-.07-.24,0-.42.05-.55.16-.13.12-.2.26-.2.44,0,.15.06.27.17.36.11.09.38.22.8.39.42.17.7.3.84.36.14.07.26.15.39.24.33.25.49.64.49,1.15,0,.61-.21,1.07-.62,1.39-.35.26-.85.4-1.49.4s-1.3-.11-1.91-.32Zm6.5.22l-2.16-5.69h1.33l.95,2.55c.24.65.42,1.19.54,1.61.18-.59.36-1.11.53-1.55l.98-2.61h1.27l-2.16,5.69h-1.28Zm8.76-3.18v2.9c-.33.11-.56.18-.69.22-.41.11-.86.16-1.34.16-.94,0-1.65-.24-2.14-.71-.54-.52-.81-1.24-.81-2.17,0-1.07.34-1.87,1.01-2.42.49-.4,1.15-.59,1.98-.59.71,0,1.37.13,1.99.39l-.44,1c-.29-.14-.54-.25-.76-.3-.22-.06-.46-.09-.71-.09-.62,0-1.08.2-1.37.61-.25.34-.37.79-.37,1.35,0,.67.19,1.18.56,1.52.3.27.67.41,1.12.41.26,0,.51-.04.74-.13v-1.14h-.98v-1h2.22Z"},{id:"conditional",label:"Conditional layers (x)",pro:!0,iconSvgPath:"M 4 1.5 C 4 0.6716 4.6715 0 5.5 0 H 11.5 C 12.3284 0 13 0.6716 13 1.5 V 2.5 C 13 3.3284 12.3284 4 11.5 4 H 9 V 6.2928 L 12.7071 10 H 16.5 C 16.7761 10 17 10.2239 17 10.5 V 13.5 C 17 13.7761 16.7761 14 16.5 14 C 16.2239 14 16 13.7761 16 13.5 V 11 H 13.1714 C 13.1508 11.0343 13.1257 11.0666 13.0962 11.0961 L 8.8535 15.3388 C 8.6583 15.534 8.3417 15.534 8.1464 15.3388 L 3.9038 11.0961 C 3.8742 11.0666 3.8491 11.0343 3.8285 11 H 1 C 0.7239 11 0.5 10.7761 0.5 10.5 C 0.5 10.2239 0.7239 10 1 10 H 4.2928 L 8 6.2928 V 4 H 5.5 C 4.6715 4 4 3.3284 4 2.5 V 1.5 Z M 5.5 1 C 5.2238 1 5 1.2239 5 1.5 V 2.5 C 5 2.7761 5.2238 3 5.5 3 H 11.5 C 11.7761 3 12 2.7761 12 2.5 V 1.5 C 12 1.2239 11.7761 1 11.5 1 H 5.5 Z M 8.5 7.2071 L 4.9644 10.7426 L 8.5 14.2781 L 12.0355 10.7426 L 8.5 7.2071 Z"}],ho=[{id:"grid",label:"Show/hide grid (#)",iconSvgPath:"m16.88,9.38c.35,0,.63-.28.63-.63s-.28-.63-.63-.63h-1.47V3.63h1.47c.35,0,.63-.28.63-.63s-.28-.63-.63-.63h-1.47V.63c0-.35-.28-.63-.63-.63s-.63.28-.63.63v1.75h-4.5V.63c0-.35-.28-.63-.63-.63s-.63.28-.63.63v1.75H3.91V.63c0-.35-.28-.63-.63-.63s-.63.28-.63.63v1.75H.63c-.35,0-.63.28-.63.63s.28.63.63.63h2.02v4.5H.63c-.35,0-.63.28-.63.63s.28.63.63.63h2.02v4.5H.63c-.35,0-.63.28-.63.63s.28.63.63.63h2.02v1.75c0,.35.28.63.63.63s.63-.28.63-.63v-1.75h4.5v1.75c0,.35.28.63.63.63s.63-.28.63-.63v-1.75h4.5v1.75c0,.35.28.63.63.63s.63-.28.63-.63v-1.75h1.47c.35,0,.63-.28.63-.63s-.28-.63-.63-.63h-1.47v-4.5h1.47Zm-2.72-5.75v4.5h-4.5V3.63h4.5Zm-10.25,0h4.5v4.5H3.91V3.63Zm0,10.25v-4.5h4.5v4.5H3.91Zm10.25,0h-4.5v-4.5h4.5v4.5Z"}],{__:fo}=wp.i18n,{useState:go,useEffect:vo}=wp.element,yo=t=>{let{title:n,message:o,modalType:a,onButtonPressed:i}=t;const[l,r]=go(!1);return vo((()=>{r(!0)}),[]),(0,e.createElement)("div",{className:"safi-overlay --showing"},(0,e.createElement)("div",{className:"safi-intent-modal"+(l?" --open":"")},(0,e.createElement)("div",{className:"safi-intent-modal-header"},(0,e.createElement)("span",null,n)),(0,e.createElement)("div",{className:"safi-intent-modal-body"},(0,e.createElement)("p",null,o)),(0,e.createElement)("div",{className:"safi-intent-modal-footer"},(0,e.createElement)("button",{className:"button button-primary",onClick:()=>i(1)},fo("Yes","wpjoli-safi")),(0,e.createElement)("button",{className:"button",onClick:()=>i(0)},fo("No","wpjoli-safi")),(0,e.createElement)("button",{className:"button",onClick:()=>i(-1)},fo("Cancel","wpjoli-safi")))))},{__:bo}=wp.i18n,wo=t=>{let{title:n,description:o,buttonLabel:a,onButtonClick:i,...l}=t;return(0,e.createElement)("div",{className:"safi-pane-item flex"},(0,e.createElement)("div",{className:"safi-pane-item--content flex flex-col justify-center"},(0,e.createElement)("div",{className:"safi-pane-item--title"},n),(0,e.createElement)("div",{className:"safi-pane-item--description"},o)),(0,e.createElement)("div",{className:"safi-pane-item--cta flex-center"},(0,e.createElement)("button",{className:"safi-tb-btn",onClick:i},a||bo("Start","wpjoli-safi"))))},{__:Eo}=wp.i18n,{useEffect:Co,useContext:xo}=wp.element,So=t=>{let{currentTuto:n,autoStartUITour:o,tree:a,onClose:i,...r}=t;const s=xo(l),c=window.driver.js.driver||null;Co((()=>{!0===o&&null===localStorage.getItem("SAFI_INTRO")&&(u(),localStorage.setItem("SAFI_INTRO",!0))}),[]);const d=()=>!(!s&&a.length>=2&&(alert(Eo("Your current plan has a limit of 2 layers. Delete one layer or more to begin the tutorial.","wpjoli-safi")),1)),u=()=>{const e=c({popoverClass:"safi-driver",showProgress:!0,tutorial:"tuto-ui-tour",hideHelpOnComplete:!0,steps:[{popover:{title:"Welcome to the Smart Auto Featured Image editor!",description:"If this is your first time here, take a minute to get familiar with the editor. Click next to start the tour or use the right arrow on your keyboard"}},{element:"#safi-design-tools",popover:{title:"Design Tools",description:"These are all the design tools available. Select a tool and draw on the canvas to create a new layer!"}},{element:"#safi-grid",popover:{title:"Grid",description:"Toggle the grid to make designing easier. Change the grid size from the template settings."}},{element:"#safi-settings",popover:{title:"Template Settings",description:"Edit Template name here and adjust the Canvas size / Background color / Global CSS rules"}},{element:"#safi-canvas",popover:{title:"Canvas",description:"Use the tools to draw on it and build your design. Change canvas size and color in the template settings"}},{element:"#safi-panel-layers",popover:{title:"Layers",description:"The layers are shown on the left as your create them. Rearrange the order with drag & drop. Double click on a layer to rename it"}},{element:"#safi-sidebar-right",popover:{title:"Contextual settings",description:"The right sidebar shows the selected layer's settings. This is where you can adjust colors, fonts etc"}},{element:"#safi-zoom",popover:{title:"Zoom",description:"Adjust the zoom level to your convenience here."}},{element:"#safi-info-helper",popover:{title:"Contextual helper",description:"This is the contextual helper area. It will show useful tips depending on the action that you perform."}},{element:"#safi-help",isLastStep:!0,popover:{title:"Help center",description:"Check the help center here to replay this tour or access interactive tutorials and documentation ! Happy designing !"}}]});e.drive(),n(e)};return(0,e.createElement)("div",{id:"safi-help-menu",className:"safi-floating-pane"},(0,e.createElement)("div",{className:"close-btn flex items-center",onClick:i},(0,e.createElement)("div",{className:"close-symbol"})),(0,e.createElement)("div",{className:"text-center"},(0,e.createElement)("h2",null,Eo("HELP CENTER","wpjoli-safi"))),(0,e.createElement)("div",{className:"safi-floating-pane-inner --safi-scroll-thin"},(0,e.createElement)("div",{className:"text-center"},(0,e.createElement)("h4",null,Eo("Tours","wpjoli-safi"))),(0,e.createElement)(wo,{title:Eo("Interface tour","wpjoli-safi"),description:Eo("Get an overview of the UI","wpjoli-safi"),onButtonClick:u}),(0,e.createElement)("div",{className:"text-center"},(0,e.createElement)("h4",null,Eo("Interactive Tutorials","wpjoli-safi"))),(0,e.createElement)(wo,{title:Eo("Dynamic layers","wpjoli-safi"),description:Eo("Make per-post changes before generating the image","wpjoli-safi"),onButtonClick:()=>{if(1==!d())return!1;const e=c({popoverClass:"safi-driver",showProgress:!0,tutorial:"tuto-dynamic-layers",hideHelpOnComplete:!0,steps:[{popover:{title:"What are Dynamic layers ?",description:'When marking layers as "Dynamic", you will be able to replace their content while preserving their styles & position. This feature allows you to change the main image of your template, to shorten a title, adjusting line breaks, or bolden a specific word for example.'}},{element:"#safi-tool-text",autoNextClickElement:!0,popover:{title:"Text tool",description:"Select the Text tool to begin."}},{element:"#safi-canvas",popover:{title:"Draw a Text element",description:"Draw a text element on the canvas"}},{element:"#safi-layers",popover:{title:"Click the bolt icon",description:"Hover the selected layer and click the bolt icon to Mark layer as dynamic."}},{popover:{title:"That's it !",description:"Next, from the gutenberg editor, dynamic layers will show up on the left sidebar of the Preview window. "}},{isLastStep:!0,popover:{title:"Recommanded usage:",description:"Content-based text layers such as {{title}} should be marked as dynamic. The main image of your template as well. Basically any layer that needs to change on a per-post basis."}}]});e.drive(),n(e)}}),(0,e.createElement)(wo,{title:Eo("Content-based text","wpjoli-safi"),description:Eo("Create content-based text such as post title","wpjoli-safi"),onButtonClick:()=>{if(1==!d())return!1;const e=c({popoverClass:"safi-driver",showProgress:!0,tutorial:"tuto-dynamic-text",hideHelpOnComplete:!0,steps:[{element:"#safi-tool-text",autoNextClickElement:!0,popover:{title:"Text tool",description:"Select the Text tool to begin."}},{element:"#safi-canvas",popover:{title:"Draw a Text element",description:"Draw a text element on the canvas"}},{element:"#dynamic-text-dropdown",autoNextClickElement:!0,popover:{title:"Select a content-based text",description:"Click the down arrow button to show content-based text list"}},{element:".safi-popover-container",autoNextClickElement:!0,isLastStep:!0,popover:{title:"Select any content-based text",description:"Select any content-based text from the list"}}]});e.drive(),n(e)}}),(0,e.createElement)(wo,{title:Eo("Style text proactively","wpjoli-safi"),description:Eo("Properly style text, especially when using content-based text","wpjoli-safi"),onButtonClick:()=>{if(1==!d())return!1;const e=c({popoverClass:"safi-driver",showProgress:!0,tutorial:"tuto-style-text",hideHelpOnComplete:!0,steps:[{element:"#safi-tool-text",autoNextClickElement:!0,popover:{title:"Text tool",description:"Select the Text tool to begin."}},{element:"#safi-canvas",popover:{title:"Draw a big Text element",description:"Draw a rather big text element on the canvas"}},{element:"#dynamic-text-dropdown",autoNextClickElement:!0,popover:{title:"Show the content-based text dropdown",description:"Click the down arrow button to show content-based text list"}},{element:".safi-popover-container",popover:{title:'Select "Post title" {{title}} from the content-based text list',description:"Click the down arrow button to show content-based text list"}},{element:".--selected .safi-text-placeholder",autoNextClickElement:!0,popover:{title:'Activate the "Lorem ipsum" placeholder',description:"This fake text will give a you a preview of what a longer text will look like within the text layer."}},{element:"#propLineHeight",popover:{title:"Adjust the line height to 1.3",description:"."}},{element:"#safi-box-control--padding",popover:{title:"Adjust the padding to 20",description:"Increase padding to make sure the text won't be sticking to the edges. Scroll over the value to easily change it"}},{element:"#segmented-button-text-align-middle",popover:{title:"Align center vertically",description:"This will keep the text vertically centered, regardless of its length"}},{element:".--selected .safi-text-placeholder",autoNextClickElement:!0,popover:{title:'Deactivate the "Lorem ipsum" placeholder',description:"Deactivate the placeholder once you are done styling."}},{popover:{title:"Congratulations !",description:"Keep in mind that text will be contained within the boundaries of its own layer size. Make sure to adjust the proper width/height/padding for your designs and play with the other available options."}}]});e.drive(),n(e)}}),(0,e.createElement)(wo,{title:Eo("Image as background","wpjoli-safi"),description:Eo("Insert an image that will fit the canvas","wpjoli-safi"),onButtonClick:()=>{if(1==!d())return!1;const e=c({popoverClass:"safi-driver",showProgress:!0,showButtons:["previous","close"],tutorial:"tuto-image-background",hideHelpOnComplete:!0,steps:[{element:"#safi-tool-image",autoNextClickElement:!0,popover:{title:"Image tool",description:"Select the Image tool to begin."}},{element:"#safi-canvas",popover:{title:"Draw an image element",description:"Draw an image element of any size on the canvas."}},{element:"#safi-media-library-open",autoNextClickElement:!0,popover:{title:"Select an image from the media library",description:"We are choosing from the media library for this tutorial but you can pick an image from any source"}},{element:".media-modal",popover:{title:"Pick an image",description:'Select any image from the media library and click on "Use this image" on the bottom right.'}},{element:"#segmented-button-fit",autoNextClickElement:!0,popover:{title:'Click the "Fit to container" button',description:"This button automatically resizes/repositions the selected layer to fit its container."}},{element:"#safi-image-fit-select",autoNextClickElement:!0,isLastStep:!0,popover:{title:'Change the image fit to "Cover"',description:'The "Cover" fit will ensure the image fills up the space entirely'}}]});e.drive(),n(e)}}),(0,e.createElement)(wo,{title:Eo("Perfect square","wpjoli-safi"),description:Eo("How to create a perfectly square layer","wpjoli-safi"),onButtonClick:()=>{if(1==!d())return!1;const e=c({popoverClass:"safi-driver",showProgress:!0,showButtons:["previous","close"],tutorial:"tuto-perfect-square",hideHelpOnComplete:!0,steps:[{element:"#safi-tool-rect",autoNextClickElement:!0,popover:{title:"Rect tool",description:"Select the Rect tool to begin."}},{element:"#safi-canvas",keyRequired:!0,keyCallback:e=>!0===e.shiftKey,popover:{title:"Hold the Shift key",description:"Hold the Shift key before or while drawing."}},{element:"#safi-canvas",isLastStep:!0,popover:{title:"Start drawing",description:"Keep holding the Shift key and draw to create a perfect square. Release the mouse button before the Shift key."}}]});e.drive(),n(e)}}),(0,e.createElement)(wo,{title:Eo("Move along a fixed axis","wpjoli-safi"),description:Eo("Move a layer along a fixed axis","wpjoli-safi"),onButtonClick:()=>{if(1==!d())return!1;const e=c({popoverClass:"safi-driver",showProgress:!0,showButtons:["previous","close"],tutorial:"tuto-move-fixed-axis",hideHelpOnComplete:!0,steps:[{element:"#safi-tool-rect",autoNextClickElement:!0,popover:{title:"Rect tool",description:"Select the Rect tool to begin."}},{element:"#safi-canvas",popover:{title:"Draw a rect shape",description:"Create a rect layer of any size on the canvas"}},{element:"#safi-canvas",keyRequired:!0,keyCallback:e=>!0===e.shiftKey,popover:{title:"Hold the Shift key",description:"Hold the Shift key before or while drawing."}},{element:"#safi-canvas",isLastStep:!0,popover:{title:"Move the layer to the right or the left",description:"Keep holding the Shift key and move the layer along a fixed axis. The position of the mouse will determine if the X ou Y axis is used."}}]});e.drive(),n(e)}}),(0,e.createElement)(wo,{title:Eo("Draw and move along the grid","wpjoli-safi"),description:Eo("Use the grid to help you achieve clean designs","wpjoli-safi"),onButtonClick:()=>{if(1==!d())return!1;const e=c({popoverClass:"safi-driver",showProgress:!0,showButtons:["previous","close"],tutorial:"tuto-grid",hideHelpOnComplete:!0,steps:[{element:"#safi-grid",autoNextClickElement:!0,popover:{title:"Activate the grid",description:'Click the grid icon to activate/deactivate it or use the "#" shortcut key'}},{element:"#safi-tool-rect",autoNextClickElement:!0,popover:{title:"Rect tool",description:"Select the Rect tool."}},{keyRequired:!0,keyCallback:e=>!0===e.ctrlKey||!0===e.metaKey,popover:{title:"Hold the Ctrl/Cmd key",description:"Holding the Ctrl/Cmd key will snap the pointer to the grid."}},{element:"#safi-canvas",popover:{title:"Draw a rect layer of any size",description:"Keep holding the Ctrl/Cmd key while drawing to draw along the grid."}},{element:"#safi-canvas",isLastStep:!0,popover:{title:"Move the layer",description:"Keep holding the Ctrl/Cmd key to move the layer along the grid."}}]});e.drive(),n(e)}}),(0,e.createElement)(wo,{title:Eo("Center & Resize from center","wpjoli-safi"),description:Eo("Center & Resize a layer from its center","wpjoli-safi"),onButtonClick:()=>{if(1==!d())return!1;const e=c({popoverClass:"safi-driver",showProgress:!0,showButtons:["previous","close"],tutorial:"tuto-resize-from-center",hideHelpOnComplete:!0,steps:[{element:"#safi-tool-rect",autoNextClickElement:!0,popover:{title:"Rect tool",description:"Select the Rect tool to begin."}},{element:"#safi-canvas",popover:{title:"Draw a rect shape",description:"Create a rect layer of any size on the canvas"}},{element:"#segmented-button-align-h-center",autoNextClickElement:!0,popover:{title:"Align center horizontally",description:"This button centers horizontally the selected layer."}},{element:"#segmented-button-align-v-center",autoNextClickElement:!0,popover:{title:"Align center vertically",description:"This button centers vertically the selected layer."}},{keyRequired:!0,keyCallback:e=>!0===e.altKey,popover:{title:"Hold the Alt key",description:"Holding the Alt key will resize a layer from its center."}},{element:".safi-object.--selected +.safi-handles .--handle-bottom-right",popover:{title:"Drag the bottom right corner",description:"Hold the Alt key and drag this corner to resize the layer from its center. Use Ctrl/Cmd key in combination to snap to grid"}}]});e.drive(),n(e)}}),s&&(0,e.createElement)(wo,{title:Eo("Rounded corners","wpjoli-safi"),description:Eo("Make smoother designs with rounded corners","wpjoli-safi"),onButtonClick:()=>{if(1==!d())return!1;const e=c({popoverClass:"safi-driver",showProgress:!0,showButtons:["previous","close"],tutorial:"tuto-rounded-corners",steps:[{element:"#safi-tool-rect",autoNextClickElement:!0,popover:{title:"Rect tool",description:"Select the Rect tool to begin."}},{element:"#safi-canvas",popover:{title:"Draw a rect shape",description:"Create a rect layer of any size on the canvas"}},{element:".safi-object.--selected +.safi-handles .--handle-corner",popover:{title:"Drag the corner handle",description:"Drag the corner handle to round all corners. Hold Ctrl/Cmd or Shift to snap the value."}},{element:"#safi-canvas",popover:{title:"Release the mouse when you are satisfied",description:""}},{element:"#safi-box-control--border-radius",isLastStep:!0,popover:{title:"You can also adjust individual corners here",description:"Make sure to unlink group editing by clicking the purple icon on the right"}}]});e.drive(),n(e)}}),(0,e.createElement)("div",{className:"text-center"},(0,e.createElement)("h4",null,Eo("Need more help ?","wpjoli-safi")),(0,e.createElement)("p",null,(0,e.createElement)("a",{className:"safi-tb-btn",href:"https://wpjoli.com/docs/smart-auto-featured-image",target:"_blank"},Eo("Documentation","wpjoli-safi"))))))},{__:No}=wp.i18n,ko=t=>{let{title:n,shortcut:o,comment:a,...i}=t;return(0,e.createElement)("div",{className:"safi-pane-item flex"},(0,e.createElement)("div",{className:"safi-pane-item--shortcut flex items-center"},o.map((t=>(0,e.createElement)("span",{className:"safi-fancy-key"},t))).reduce(((t,n)=>[t,(0,e.createElement)("span",null," + "),n])),a&&(0,e.createElement)("span",{className:"safi-fancy-comment"},"(",a,")")),(0,e.createElement)("div",{className:"safi-pane-item--content flex items-center justify-end"},(0,e.createElement)("span",{className:"safi-pane-item--title"},n)))},{__:Io}=wp.i18n,{useContext:Do}=wp.element,To=t=>{let{onClose:n,...o}=t;return Do(l),(0,e.createElement)("div",{id:"safi-shortcuts-menu",className:"safi-floating-pane"},(0,e.createElement)("div",{className:"close-btn flex items-center",onClick:n},(0,e.createElement)("div",{className:"close-symbol"})),(0,e.createElement)("div",{className:"text-center"},(0,e.createElement)("h2",null,Io("SHORTCUTS","wpjoli-safi"))),(0,e.createElement)("div",{className:"safi-floating-pane-inner --safi-scroll-thin"},(0,e.createElement)("div",{className:"text-center"},(0,e.createElement)("h4",null,Io("Editor","wpjoli-safi"))),(0,e.createElement)(ko,{title:Io("Close","wpjoli-safi"),shortcut:["ESC"]}),(0,e.createElement)(ko,{title:Io("Zoom","wpjoli-safi"),shortcut:["ALT","Wheel"]}),(0,e.createElement)("div",{className:"text-center"},(0,e.createElement)("h4",null,Io("Tools","wpjoli-safi"))),(0,e.createElement)(ko,{title:Io("Select","wpjoli-safi"),shortcut:["V"]}),(0,e.createElement)(ko,{title:Io("Text","wpjoli-safi"),shortcut:["T"]}),(0,e.createElement)(ko,{title:Io("Rect","wpjoli-safi"),shortcut:["R"]}),(0,e.createElement)(ko,{title:Io("Circle","wpjoli-safi"),shortcut:["C"]}),(0,e.createElement)(ko,{title:Io("Image","wpjoli-safi"),shortcut:["I"]}),(0,e.createElement)(ko,{title:Io("Content-based image","wpjoli-safi"),shortcut:["D"]}),(0,e.createElement)(ko,{title:Io("FontAwesome icon","wpjoli-safi"),shortcut:["F"]}),(0,e.createElement)(ko,{title:Io("SVG","wpjoli-safi"),shortcut:["S"]}),(0,e.createElement)(ko,{title:Io("Conditional layers","wpjoli-safi"),shortcut:["X"]}),(0,e.createElement)("div",{className:"text-center"},(0,e.createElement)("h4",null,Io("Editing","wpjoli-safi"))),(0,e.createElement)(ko,{title:Io("Undo","wpjoli-safi"),shortcut:["CTRL","Z"]}),(0,e.createElement)(ko,{title:Io("Redo","wpjoli-safi"),shortcut:["CTRL","Y"]}),(0,e.createElement)(ko,{title:Io("Toggle grid","wpjoli-safi"),shortcut:["#"]}),(0,e.createElement)("div",{className:"text-center"},(0,e.createElement)("h4",null,Io("Selected layer","wpjoli-safi"))),(0,e.createElement)(ko,{title:Io("Delete","wpjoli-safi"),shortcut:["DEL"]}),(0,e.createElement)(ko,{title:Io("Duplicate","wpjoli-safi"),shortcut:["ALT","D"]}),(0,e.createElement)("div",{className:"text-center"},(0,e.createElement)("h4",null,Io("Layer creation","wpjoli-safi"))),(0,e.createElement)(ko,{shortcut:["SHIFT"],comment:"Hold",title:Io("Creates a layer with a 1:1 square ratio","wpjoli-safi")}),(0,e.createElement)(ko,{shortcut:["CTRL"],comment:"Hold before click",title:Io("Set the starting point along the grid","wpjoli-safi")}),(0,e.createElement)(ko,{shortcut:["CTRL"],comment:"Hold while drawing",title:Io("Snap layer along the grid","wpjoli-safi")}),(0,e.createElement)("div",{className:"text-center"},(0,e.createElement)("h4",null,Io("Layer moving","wpjoli-safi"))),(0,e.createElement)(ko,{shortcut:["SHIFT"],comment:"Hold",title:Io("Moves the layer along a fixed axis","wpjoli-safi")}),(0,e.createElement)(ko,{shortcut:["CTRL"],comment:"Hold",title:Io("Moves & snaps the layer on the grid","wpjoli-safi")}),(0,e.createElement)(ko,{shortcut:["←↑↓→"],title:Io("Move by 1 pixel","wpjoli-safi")}),(0,e.createElement)(ko,{shortcut:["SHIFT","←↑↓→"],title:Io("Move by 10 pixels","wpjoli-safi")}),(0,e.createElement)(ko,{shortcut:["CTRL","←↑↓→"],title:Io("Move by 100 pixels","wpjoli-safi")}),(0,e.createElement)("div",{className:"text-center"},(0,e.createElement)("h4",null,Io("Layer resizing","wpjoli-safi"))),(0,e.createElement)(ko,{shortcut:["SHIFT"],comment:"Hold",title:Io("Preserve ascpect ratio","wpjoli-safi")}),(0,e.createElement)(ko,{shortcut:["ALT"],comment:"Hold",title:Io("Resize the layer from its center","wpjoli-safi")}),(0,e.createElement)(ko,{shortcut:["CTRL"],comment:"Hold",title:Io("Resizes & snaps the layer on the grid","wpjoli-safi")})))},{useState:Lo,useEffect:Mo,useRef:Po,useContext:Oo,useCallback:Ao}=wp.element,{applyFilters:_o,doAction:jo,createHooks:Ho}=wp.hooks,{__:Ro}=wp.i18n,Fo=wp.apiFetch,Vo=null===localStorage.getItem("SAFI_INTRO"),Bo=t=>{var n,o,i,r;let{context:c,showEditor:d,template:p,templateId:m,options:h,isSaving:f,hasSaved:g,onSaveTemplate:v,onClose:y,previewHTML:b,previewData:w,showPreview:E,onPreviewLoaded:C,onPreviewClose:x,onImageCreated:S,onImageURLCreated:N,onFeaturedImageGenerated:k,onChangeDemoTemplate:I}=t;const[D,T]=Lo("select"),[L,M]=Lo(null),[P,O]=Lo(null),[A,_]=Lo(null),[j,H]=Lo(!1),[R,F]=Lo(!1),[B,U]=Lo(!1),[W,Z]=Lo([]),[G,$]=Lo(!1),[X,K]=Lo(null),[J,q]=Lo(""),Q=window.SAFI.demo_templates||[],[ee,te]=Lo(!1),[ne,oe]=Lo(!1),ie=Oo(l),le=Po({canvas:(null==p||null===(n=p.content)||void 0===n?void 0:n.canvas)||null,tree:(null==p||null===(o=p.content)||void 0===o?void 0:o.tree)||[],elements:(null==p||null===(i=p.content)||void 0===i?void 0:i.elements)||[]}),{resetState:re,state:se,setState:ce,setTreez:de,setElementz:pe,setCanvaz:me,setStateNH:he,setTreeNH:ge,setElementsNH:ve,setCanvasNH:ye,setStateSnapshot:be,undo:we,redo:Ee,isUndoPossible:Ce,isRedoPossible:Se}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,n]=hn(xn,{past:[],present:e,presentSnapshot:null,future:[]}),{past:o,present:a,future:i}=t;return{state:a,resetState:()=>n({type:wn}),setState:e=>n({type:fn,data:e,history:!0}),setStateSnapshot:e=>n({type:gn,data:e}),setTreez:e=>n({type:vn,data:e,history:!0}),setElementz:e=>n({type:yn,data:e,history:!0}),setCanvaz:e=>n({type:bn,data:e,history:!0}),setStateNH:e=>n({type:fn,data:e,history:!1}),setTreeNH:e=>n({type:vn,data:e,history:!1}),setElementsNH:e=>n({type:yn,data:e,history:!1}),setCanvasNH:e=>n({type:bn,data:e,history:!1}),undo:()=>n({type:En}),redo:()=>n({type:Cn}),pastStates:o,futureStates:i,isUndoPossible:o&&o.length>0,isRedoPossible:i&&i.length>0}}(le.current),Ne=Po();let ke=Po(!1);const De=Po(null),Te="Untitled template",Le=[.1,.2,.25,.333333,.5,.666666,.75,.8,.9,1,1.1,1.2,1.25,1.5,1.75,2,2.5,3,3.5,4,4.5,5],Me=e=>{e.altKey&&(e.preventDefault(),e.deltaY<0?Ke():e.deltaY>0&&Ye())};Mo((()=>(window.safiWpMedia=wp.media({title:"Select or Upload an image",button:{text:"Use this image"},multiple:!1}),()=>{window.safiWpMedia.detach(),window.safiWpMedia=null})),[]);const Pe=Ao((e=>{null!=e?(Ne.current=e,e.addEventListener("wheel",Me,{passive:!1})):null!=Ne.current&&Ne.current.removeEventListener("wheel",Me,{passive:!1})}),[Me]);Mo((()=>{!0===ie&&async function(){Fo({path:"/safi/v1/fa-icons",method:"GET"}).then((e=>{Z(e.icons)})).catch((e=>{alert(Ro("An error occured, try again.","wpjoli-safi"))}))}()}),[]),Mo((()=>{p&&!j&&"00000000"!==p.id&&_e()}),[p]),Mo((()=>{j&&He()}),[j]),Mo((()=>{!0===ee&&!0===ne&&te(!1)}),[ne]),Mo((()=>{!0===ne&&!0===ee&&oe(!1)}),[ee]),Mo((()=>{if(d&&Ne.current.focus(),d&&!p)try{var e,t,n;T("select"),M(null),O(null),re(),he({...se,elements:[],tree:[]}),le.current={canvas:(null==p||null===(e=p.content)||void 0===e?void 0:e.canvas)||null,tree:(null==p||null===(t=p.content)||void 0===t?void 0:t.tree)||[],elements:(null==p||null===(n=p.content)||void 0===n?void 0:n.elements)||[]}}catch(e){return!1}}),[d]),Mo((()=>{if(P){const e=u.getParent(P,se.elements,se.tree);if("root"!==parent&&"condition"===e.type){const t=u.getParentId(se.tree,e.id);Oe(t,e.id)}else"root"!==parent&&"conditional"===e.type&&Oe(e.id,P.id)}}),[P]),Mo((()=>{const e=se.elements.find((e=>e.id==L));e&&O(e)}),[se.elements]);const Oe=(e,t)=>{e&&at(e,{activeChild:t})},Ae=()=>{dt||JSON.stringify(le.current)===JSON.stringify(se)?(H(!1),te(!1),oe(!1),y()):$(!0)},_e=()=>{var e;const t=null==p||null===(e=p.content)||void 0===e?void 0:e.elements.filter((e=>e.hasOwnProperty("fontType")&&"gf"===e.fontType)).map((e=>e.fontFamily+":100,200,300,400,500,600,700,800,900"));try{var n,o;T("select"),M(null),O(null),re(),he({...se,elements:(null==p||null===(n=p.content)||void 0===n?void 0:n.elements)||[],tree:(null==p||null===(o=p.content)||void 0===o?void 0:o.tree)||[]}),!0===ie&&("undefined"!=typeof WebFont&&(null==t?void 0:t.length)>0?WebFont.load({google:{families:t},active:function(){je(p)}}):je(p)),!1===ie&&je(p)}catch(e){return!1}},je=e=>{var t,n,o,a,i,l,r,s,c,d,u;ye({templateName:(null==e||null===(t=e.content)||void 0===t?void 0:t.canvas.templateName)||Te,width:parseFloat((null==e||null===(n=e.content)||void 0===n?void 0:n.canvas.width)||h.defaultWidth||1200),height:parseFloat((null==e||null===(o=e.content)||void 0===o?void 0:o.canvas.height)||h.defaultHeight||624),googleFonts:(null==e||null===(a=e.content)||void 0===a?void 0:a.canvas.googleFonts)||[],backgroundColor:(null==e||null===(i=e.content)||void 0===i?void 0:i.canvas.backgroundColor)||h.defaultBackgroundColor||"#ffffff",zoom:parseFloat((null==e||null===(l=e.content)||void 0===l?void 0:l.canvas.zoom)||1),gridSize:parseInt((null==e||null===(r=e.content)||void 0===r?void 0:r.canvas.gridSize)||h.defaultGridSize||24),globalCss:(null==e||null===(s=e.content)||void 0===s?void 0:s.canvas.globalCss)||null}),H(!0),le.current={canvas:(null==e||null===(c=e.content)||void 0===c?void 0:c.canvas)||null,tree:(null==e||null===(d=e.content)||void 0===d?void 0:d.tree)||[],elements:(null==e||null===(u=e.content)||void 0===u?void 0:u.elements)||[]},Vo&&te(!0)},He=()=>{const e=document.getElementById("safi-canvas-wrap");null!==e&&se.canvas&&e.scrollTo(e.scrollWidth/2-se.canvas.width/2-(e.offsetWidth-se.canvas.width)/2,e.scrollHeight/2-se.canvas.height/2-(e.offsetHeight-se.canvas.height)/2)},[Re,Fe]=Lo(!1),Ve=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(se.canvas.templateName===Te&&confirm("You haven't set a name for your template yet. Set a name now before saving ?"))return st(),$(!1),void setTimeout((()=>{document.getElementById("safi-tpl-name").select()}),50);Fe(e),M(null),O(null),F(!1),U(!0)};Mo((()=>{!1===f&&!0===Re&&(H(!1),te(!1),oe(!1),$(!1),y())}),[f]),Mo((()=>{!0===Re&&(H(!1),te(!1),oe(!1),$(!1),y())}),[g]),Mo((()=>{if(B){const e=se.canvas.zoom,t=Be(),n=document.getElementById("safi-canvas-outer");1!==e&&(n.style.transform="scale(1)");const o=document.getElementById("safi-canvas"),a="gutenberg"===c?250:500,i=1/(se.canvas.width/a),l={useCORS:!0,width:se.canvas.width,height:se.canvas.height,scale:i};html2canvas(o,l).then((function(o){1!==e&&(n.style.transform="scale("+e+")");var a=o,i="gutenberg"===c?a.toDataURL("image/jpeg",.5):a.toDataURL("image/png");v(t,i),U(!1),le.current={...se}}))}}),[B]);const Be=()=>{const e=se;return JSON.stringify(e)},ze=null!==se.canvas?se.canvas.templateName:Te,Ue=null!==se.canvas?Math.round(100*se.canvas.zoom):100,We=mo,Ze=ho,Ge=()=>{const e=se.elements.length;return!(1==!ie&&e>=2&&(alert(Ro("Your current plan has a limit of 2 layers. Upgrade to Pro for unlimited layers.","wpjoli-safi")),1))},$e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return;let n=[...se.elements],o=[...se.tree];e.map((e=>{n.unshift(e)})),null==t&&(t=e.map((e=>({id:e.id})))),t.map((e=>{o.unshift(e)})),ce({...se,elements:n,tree:o})},Ke=()=>{const e=Le.indexOf(se.canvas.zoom);void 0!==Le[e+1]&&Je(Le[e+1])},Ye=()=>{const e=Le.indexOf(se.canvas.zoom);void 0!==Le[e-1]&&Je(Le[e-1])},Je=e=>{let t={...se.canvas};t.zoom=e,ye(t)},Qe=e=>{if(!e)return;M(e);const t=se.elements.find((t=>t.id===e));O(t)},et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=L;if(null!==e){const n=se.elements.find((t=>t.id==e));n&&(t=n.id)}if(!t)return;let n=[...se.elements],o=[...se.tree];o=u.deleteElementRecursive(o,t);const a=e=>[e.id,...(e.children||[]).flatMap(a)];var i=[];for(const e of o){const t=a(e);i=i.concat(t)}n=n.filter((e=>!0===i.includes(e.id))),ce({...se,elements:n,tree:o}),M(null),O(null)},tt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];at(e,t,n);const o=yt();var a;if(o)if("tuto-style-text"===o)3===pt.getActiveIndex()&&"{{title}}"===t.text?setTimeout((()=>pt.moveNext()),100):5===pt.getActiveIndex()&&1.3==(null==t?void 0:t.lineHeight)?(setTimeout((()=>pt.moveNext()),100),t.padding={},at(e,t,n)):6===pt.getActiveIndex()&&20==(null==t||null===(a=t.padding)||void 0===a?void 0:a.top)&&setTimeout((()=>pt.moveNext()),100);else if("tuto-dynamic-layers"===o)3===pt.getActiveIndex()&&!0===t.dynamic&&setTimeout((()=>pt.moveNext()),100);else if("tuto-image-background"===o)3===pt.getActiveIndex()&&t.srcMedia&&setTimeout((()=>pt.moveNext()),100);else if("tuto-grid"===o)!0===n&&4===pt.getActiveIndex()&&setTimeout((()=>pt.moveNext()),100);else if("tuto-rounded-corners"===o){var i;2===pt.getActiveIndex()&&null!==(i=t.borderRadius)&&void 0!==i&&i.topLeft&&pt.moveNext(),3===pt.getActiveIndex()&&n&&setTimeout((()=>pt.moveNext()),100)}else"tuto-resize-from-center"===o&&5===pt.getActiveIndex()&&(t.x||t.y)&&pt.moveNext()},nt=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[...se.elements];for(let i=0;i<a.length;i++)if(a[i].id==e){let e={...a[i]},l={...e.styles};l[t]=n,e.styles=l,a[i]=e,o?pe(a):ve(a);break}const i=yt();i&&"tuto-style-text"===i&&7===pt.getActiveIndex()&&"alignItems"==t&&"center"==n&&setTimeout((()=>pt.moveNext()),100)},ot=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[...se.elements];for(let a=0;a<o.length;a++)if(o[a].id==e){let e={...o[a]},i={...e.styles,...t};e.styles=i,o[a]=e,n?pe(o):ve(o);break}},at=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[...se.elements];for(let a=0;a<o.length;a++)if(o[a].id==e){const e={...{...o[a]},...t};o[a]=e,!0===n?pe(o):ve(o);break}},it=(()=>{if(!L)return(0,e.createElement)(ae,{canvas:se.canvas,onCanvasDataChange:(e,t)=>{!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(e.width>5e3||e.height>5e3)&&alert(Ro("Max width/height of 5000 exceeded","wpjoli-safi")),e.width>5e3&&(e.width=5e3),e.height>5e3&&(e.height=5e3),!0===t?me(e):ye(e),setTimeout((()=>He()),100)}(e,t)},onTriggerSnapshot:()=>be()});const t=se.elements.find((e=>e.id===L));if(t)switch(t.type.toLowerCase()){case"container":return(0,e.createElement)("div",null,(0,e.createElement)(fe,{element:t,onElementDataChange:tt,onStyleUpdate:nt,isMouseDown:ke.current,onTriggerSnapshot:()=>be()}));case"condition":const n=_o("safi-panel-condition",{element:t,onElementDataChange:tt,onStyleUpdate:nt,onTriggerSnapshot:e=>be(e),isMouseDown:ke.current});return(0,e.createElement)("div",null,n);case"text":return(0,e.createElement)("div",null,(0,e.createElement)(xe,{element:t,elements:se.elements,tree:se.tree,canvas:se.canvas,onElementDataChange:tt}),(0,e.createElement)(Ie,{element:t,onElementDataChange:tt}),(0,e.createElement)(Xe,{element:t,onElementDataChange:tt,onStyleUpdate:nt,onStylesUpdate:ot,onTriggerSnapshot:e=>be(e),googleFonts:h.googleFonts,isMouseDown:ke.current}),(0,e.createElement)(fe,{element:t,onElementDataChange:tt,onStyleUpdate:nt,isMouseDown:ke.current,onTriggerSnapshot:()=>be()}),(0,e.createElement)(rt,{element:t,onElementDataChange:tt,onStyleUpdate:nt,onTriggerSnapshot:()=>be()}),(0,e.createElement)(dn,{element:t,onElementDataChange:tt}),(0,e.createElement)(qe,{element:t,onElementDataChange:tt}));case"rect":case"circle":return(0,e.createElement)("div",null,(0,e.createElement)(xe,{element:t,elements:se.elements,tree:se.tree,canvas:se.canvas,onElementDataChange:tt}),(0,e.createElement)(Ie,{element:t,onElementDataChange:tt}),(0,e.createElement)(fe,{element:t,onElementDataChange:tt,onStyleUpdate:nt,onTriggerSnapshot:()=>be()}),(0,e.createElement)(rt,{element:t,onElementDataChange:tt,onStyleUpdate:nt,onTriggerSnapshot:()=>be()}),(0,e.createElement)(dn,{element:t,onElementDataChange:tt}),(0,e.createElement)(qe,{element:t,onElementDataChange:tt}));case"image":return(0,e.createElement)("div",null,(0,e.createElement)(xe,{element:t,elements:se.elements,tree:se.tree,canvas:se.canvas,onElementDataChange:tt}),(0,e.createElement)(Ie,{element:t,onElementDataChange:tt}),(0,e.createElement)(an,{element:t,onElementDataChange:tt,canvas:se.canvas}),(0,e.createElement)(rt,{element:t,onElementDataChange:tt,onStyleUpdate:nt,onTriggerSnapshot:()=>be()}),(0,e.createElement)(dn,{element:t,onElementDataChange:tt}),(0,e.createElement)(qe,{element:t,onElementDataChange:tt}));case"dynamicimage":const o=_o("safi-panel-dynamic-image",{element:t,onElementDataChange:tt,canvas:se.canvas});return(0,e.createElement)("div",null,(0,e.createElement)(xe,{element:t,elements:se.elements,tree:se.tree,canvas:se.canvas,onElementDataChange:tt}),(0,e.createElement)(Ie,{element:t,onElementDataChange:tt}),o,(0,e.createElement)(rt,{element:t,onElementDataChange:tt,onStyleUpdate:nt,onTriggerSnapshot:()=>be()}),(0,e.createElement)(dn,{element:t,onElementDataChange:tt}),(0,e.createElement)(qe,{element:t,onElementDataChange:tt}));case"icon":const a=_o("safi-panel-fa",{icons:W,element:t,onElementDataChange:tt,onStyleUpdate:nt,onTriggerSnapshot:e=>be(e),isMouseDown:ke.current});return(0,e.createElement)("div",null,(0,e.createElement)(xe,{element:t,elements:se.elements,tree:se.tree,canvas:se.canvas,onElementDataChange:tt}),(0,e.createElement)(Ie,{element:t,onElementDataChange:tt}),a,(0,e.createElement)(qe,{element:t,onElementDataChange:tt}));case"svg":return(0,e.createElement)("div",null,(0,e.createElement)(xe,{element:t,elements:se.elements,tree:se.tree,canvas:se.canvas,onElementDataChange:tt}),(0,e.createElement)(Ie,{element:t,onElementDataChange:tt}),(0,e.createElement)(po,{element:t,onElementDataChange:tt}),(0,e.createElement)(qe,{element:t,onElementDataChange:tt}))}})(),lt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=P;if(null!==e&&(t=se.elements.find((t=>t.id==e))),!t)return;if(!Ge())return!1;if("conditional"===t.type||"condition"===t.type||"columns"===t.type||"container"===t.type)return;let n=t.label;var o=/\(([^)]+)\)/.exec(t.label);o&&(n=o[1]);const a=u.generateIDLabel(t.type,se.elements,0," ("+n+")"),i={...t,id:a.id,label:a.label},l=[...se.tree],r=[...se.elements];r.unshift(i),l.unshift({id:a.id}),ce({...se,elements:r,tree:l}),Qe(i.id)},st=()=>{M(null),O(null)},ct=J,dt="gutenberg"===c?"00000000"===m&&!j:0===m&&!j,ut=!0===ie?parseInt(h.imageQuality)/100||.9:.85,[pt,mt]=Lo(null),ht=Po(!1),ft=e=>{if(!1===ee)return;if(!pt.isActive())return;const t=pt.getActiveStep();if(t&&!0===t.autoNextClickElement){var n;const o=t.element,a=document.querySelector(o),i=e.target.closest(o);null!==i&&i==a&&setTimeout((()=>pt.moveNext()),150);const l=null==pt||null===(n=pt.getConfig())||void 0===n?void 0:n.hideHelpOnComplete;t.isLastStep&&!0===t.isLastStep&&l&&!0===l&&te(!1)}},gt=e=>{if(!1===ee)return;if(!pt.isActive())return;if(!0===ht.current)return;ht.current=!0;const t=pt.getActiveStep();t&&t.keyRequired&&!0===t.keyRequired&&!0===t.keyCallback(e)&&pt.moveNext()},vt=e=>{!1!==ee&&pt.isActive()&&(ht.current=!1)};Mo((()=>(pt&&"tuto-ui-tour"===yt()&&q(Ro("Contextual tips will be shown here","wpjoli-safi")),!0===ee&&(window.addEventListener("click",ft),window.addEventListener("keydown",gt),window.addEventListener("keyup",vt)),!1===ee&&(window.removeEventListener("click",ft),window.addEventListener("keydown",gt),window.addEventListener("keyup",vt)),()=>{window.removeEventListener("click",ft),window.addEventListener("keydown",gt),window.addEventListener("keyup",vt)})),[pt]),Mo((()=>{!1===ee&&mt(!1)}),[ee]);const yt=()=>{var e;if(pt)return null==pt||null===(e=pt.getConfig())||void 0===e?void 0:e.tutorial};return(0,e.createElement)("div",{id:"safi-editor-wrap",ref:De,style:{"--safi-grid-color":h.gridColor,"--safi-grid-opacity":h.gridOpacity}},(0,e.createElement)("div",{id:"safi-editor",className:"safi-editor"+(d?" --editing":"")+" --tool-"+D},(0,e.createElement)("div",{id:"safi-wrap"},(0,e.createElement)("div",{id:"safi-app",ref:Pe,tabIndex:"0",onMouseDown:()=>{ke.current=!0},onMouseUp:()=>{ke.current=!1},onKeyDown:e=>{if("BODY"===document.activeElement.tagName||"safi-layers-wrap"===e.target.id)switch(e.keyCode){case 46:et();break;case 68:e.altKey&&(e.preventDefault(),lt())}if("BODY"!==document.activeElement.tagName&&"safi-app"!==e.target.id&&"safi-canvas"!==e.target.id&&"safi-wrap"!==e.target.id||!1!==e.altKey||!1!==e.ctrlKey&&!1!==e.metaKey||!1!==e.shiftKey)68===e.keyCode&&e.altKey&&(e.preventDefault(),lt());else switch(e.keyCode){case 27:f||B||Ae();break;case 46:et();break;case 86:T("select");break;case 84:T("text");break;case 82:T("rect");break;case 67:T("circle");break;case 73:T("image");break;case 68:ie&&T("dynamicimage");break;case 70:ie&&T("icon");break;case 83:ie&&T("svg");break;case 88:ie&&T("conditional");break;case 222:F(!R)}switch(e.keyCode){case 89:!0!==e.ctrlKey&&!0!==e.metaKey||!Se||Ee();break;case 90:!0!==e.ctrlKey&&!0!==e.metaKey||!Ce||we();break;case 68:!0!==e.ctrlKey&&!0!==e.metaKey||(e.preventDefault(),st(),q(""))}},onKeyUp:e=>K(e),onPaste:e=>{if(e.target.type&&("textarea"===e.target.type||"input"===e.target.type))return;const t=e.clipboardData.getData("text");if(!0===u.validateSVG(t)){const e={x:0,y:0,width:250,height:250,svgCode:t},n="svg",o=u.generateIDLabel(n,se.elements),a={...Object.assign({},ln.defaults[n],{id:o.id,label:o.label}),...e};$e([a]),M(a.id),O(a),T("select")}}},(0,e.createElement)("div",{id:"safi-header"},(0,e.createElement)("div",{id:"safi-template-name"},(0,e.createElement)("span",null,ze)),(0,e.createElement)("div",{className:"safi-toolbar-container"},(0,e.createElement)("div",{className:"safi-toolbar"},(0,e.createElement)(a,{className:"safi-tool",icon:"undo",disabled:!Ce,onClick:Ce&&we,title:Ro("Undo (Ctrl+Z)","wpjoli-safi")}),(0,e.createElement)(a,{className:"safi-tool",icon:"redo",disabled:!Se,onClick:Se&&Ee,title:Ro("Redo (Ctrl+Y)","wpjoli-safi")})),(0,e.createElement)(s,{tools:We,activeTool:D,toolChanged:e=>T(e)}),(0,e.createElement)(mn,{tools:Ze,isActive:R,onSwitch:e=>F(e)}),!ie&&(0,e.createElement)("a",{href:window.SAFI.gopro_url,target:"_blank"},(0,e.createElement)("button",{id:"safi-go-pro",className:"safi-tb-btn safi-btn-primary"},Ro("Upgrade to Pro now !","wpjoli-safi")))),(0,e.createElement)("div",{id:"safi-template-controls"},(0,e.createElement)("div",{className:"safi-shortcuts-wrap"},(0,e.createElement)("button",{className:"safi-tb-btn"+(ne?" --active":""),id:"safi-shortcuts",onClick:()=>oe(!ne)},"Shortcuts"),ne&&(0,e.createElement)(To,{onClose:()=>oe(!1)})),(0,e.createElement)("div",{className:"safi-help-wrap"},(0,e.createElement)("button",{className:"safi-tb-btn"+(ee?" --active":""),id:"safi-help",onClick:()=>te(!ee)},"Help"),ee&&(0,e.createElement)(So,{currentTuto:function(e){T("select"),F(!1),mt(e)},autoStartUITour:Vo,tree:se.tree,onClose:()=>te(!1)})),(0,e.createElement)("button",{className:"safi-tb-btn",id:"safi-settings",onClick:st,disabled:f||B},"Settings"),(0,e.createElement)("button",{className:"safi-tb-btn",id:"safi-save",onClick:Ve,disabled:f||B},"editor"===c?"Save":"Save (this post)")),(0,e.createElement)("div",{className:"close-btn",onClick:Ae,disabled:f||B},(0,e.createElement)("div",{className:"close-symbol"}))),(0,e.createElement)("div",{id:"safi-main"},(0,e.createElement)(z,{id:"left",collapsible:!0},(0,e.createElement)(Y,{id:"safi-panel-layers",name:"Layers",isCollapsible:!1},(0,e.createElement)("div",{tabIndex:"0",id:"safi-layers-wrap"},(0,e.createElement)(ue,{elements:se.elements,tree:se.tree,tools:We,selectedLayer:L,onOrderChanged:function(e){const t=e;arguments.length>1&&void 0!==arguments[1]&&arguments[1]?de(t):ge(t)},onLayerSelected:Qe,onElementDataChange:tt,onAddNewCondition:e=>{const t=u.generateIDLabel("condition",se.elements),n=Object.assign({},ln.defaults.condition,{id:t.id,label:t.label,conditionType:"if"}),o=[...se.tree],a=[...se.elements];a.unshift(n);const i=o.find((t=>t.id===e)),l=i.children.length;i.children.splice(l-1,0,{id:t.id}),ce({...se,elements:a,tree:o}),Qe(n.id)},onHovering:e=>(e=>{A!==e&&_(e)})(e),isMouseDown:ke.current,infoHelper:e=>q(e)})),(0,e.createElement)("div",{className:"safi-layer-actions"},(0,e.createElement)("div",{className:"safi-layer-action",onClick:()=>lt(),title:Ro("Duplicate (Alt + D)","wpjoli-safi"),disabled:null===L},(0,e.createElement)(a,{className:"safi-layer-action-icon",icon:"duplicate"})),(0,e.createElement)("div",{className:"safi-layer-action",onClick:et,title:Ro("Delete (Del)","wpjoli-safi"),disabled:null===L},(0,e.createElement)(a,{className:"safi-layer-action-icon",icon:"trash"}))))),(0,e.createElement)(V,{globalStyles:null===(r=se.canvas)||void 0===r?void 0:r.globalCss,activeTool:D,canvas:se.canvas,elements:se.elements,tree:se.tree,showGrid:R,selectedElementID:L,selectedElement:P,onColumnsAdded:e=>{if(!e)return;const t=u.generateIDLabel("columns",se.elements),n={type:"columns",id:t.id,label:t.label,...e};let o=0;const a=e.layout.split(","),i=a.map(((t,n)=>{const i=((e,t,n,o)=>{const a=se.canvas.width,i=parseFloat(o.height),l=t,r=a/12;return{y:parseFloat(o.top),x:(e.slice(0,n).length>0?e.slice(0,n).reduce(((e,t)=>parseInt(e)+parseInt(t))):0)*r,width:l*r,height:i}})(a,t,n,e),l=u.generateIDLabel("container",se.elements,o);return o++,Object.assign({},ln.defaults.container,{id:l.id,label:l.label,...i})}),a,o),l=[{id:n.id,children:i.map((e=>({id:e.id})))}];$e([n,...i],l),T("select")},onConditionalAdded:e=>{const t=u.generateIDLabel("conditional",se.elements),n={type:"conditional",id:t.id,label:t.label};let o=0;const a=[1,0],i=a.map(((e,t)=>{const n=u.generateIDLabel("condition",se.elements,o);return o++,Object.assign({},ln.defaults.condition,{id:n.id,label:1===e?n.label:"else",conditionType:1===e?"if":"else"})}),a,o),l=[{id:n.id,children:i.map((e=>({id:e.id})))}];T("select"),$e([n,...i],l),Qe(i[0].id)},onCreateElement:e=>(e=>{if(!Ge())return!1;let t;const n=u.generateIDLabel(D,se.elements);t={...Object.assign({},ln.defaults[D],{id:n.id,label:n.label}),...e},$e([t]),M(t.id),O(t),T("select");const o=yt();o&&("tuto-dynamic-layers"===o&&2===pt.getActiveIndex()&&"text"===t.type&&setTimeout((()=>pt.moveNext()),100),"tuto-dynamic-text"===o||"tuto-style-text"===o?1===pt.getActiveIndex()&&"text"===t.type&&setTimeout((()=>pt.moveNext()),100):"tuto-image-background"===o?1===pt.getActiveIndex()&&"image"===t.type&&setTimeout((()=>pt.moveNext()),100):"tuto-perfect-square"===o?2===pt.getActiveIndex()&&"rect"===t.type&&setTimeout((()=>pt.moveNext()),100):"tuto-move-fixed-axis"===o?1===pt.getActiveIndex()&&"rect"===t.type&&setTimeout((()=>pt.moveNext()),100):"tuto-grid"===o?3===pt.getActiveIndex()&&"rect"===t.type&&setTimeout((()=>pt.moveNext()),100):"tuto-rounded-corners"===o?1===pt.getActiveIndex()&&"rect"===t.type&&setTimeout((()=>pt.moveNext()),100):"tuto-resize-from-center"===o&&1===pt.getActiveIndex()&&"rect"===t.type&&setTimeout((()=>pt.moveNext()),100))})(e),onSelectElement:e=>{const t=se.elements.find((t=>t.id==e));M(e),O(t)},onChangeElement:(e,t,n)=>tt(e,t,n),onTriggerSnapshot:()=>be(),currentKey:X,infoHelper:e=>q(e),onDeselect:e=>{"safi-canvas-outer"!==e.target.id&&"safi-canvas-wrap"!==e.target.id||(M(null),O(null),q(""))},highlightedLayer:A}),(0,e.createElement)("div",{id:"safi-bottom-bar"},(0,e.createElement)("div",{id:"safi-zoom"},(0,e.createElement)("div",{id:"safi-zoom-minus",className:"safi-zoom-btn",onClick:Ye},"-"),(0,e.createElement)("div",{id:"safi-zoom-value",onDoubleClick:()=>{let e={...se.canvas};e.zoom=1,ye(e)},onMouseEnter:()=>q("Double click to reset zoom"),onMouseLeave:()=>q("")},Ue,"%"),(0,e.createElement)("div",{id:"safi-zoom-minus",className:"safi-zoom-btn",onClick:Ke},"+")),(0,e.createElement)("span",{className:"dashicons dashicons-align-center safi-tiny-btn",onClick:He,onMouseEnter:()=>q("Recenter canvas"),onMouseLeave:()=>q("")}),(0,e.createElement)("div",{id:"safi-info-helper"},(0,e.createElement)("span",null,ct))),(0,e.createElement)(z,{id:"right",activeElement:null},it)),(0,e.createElement)("div",{className:"safi-overlay"+(f||B?" --showing":"")},(0,e.createElement)("p",null,"Saving template..."),(0,e.createElement)("span",{className:"safi-loader"})),G&&(0,e.createElement)(yo,{title:Ro("Closing...","wpjoli-safi"),message:Ro("Save changes to the template before closing ?","wpjoli-safi"),onButtonPressed:e=>{1===e?Ve(!0):0===e?(H(!1),te(!1),oe(!1),y(),$(!1)):-1===e&&$(!1)}}),(0,e.createElement)("div",{className:"safi-overlay"+(dt?" --showing":"")},(0,e.createElement)("div",{className:"template-selection --safi-scroll-thin"},(0,e.createElement)("div",{className:"template-picker"},(0,e.createElement)("h3",null,"Start from scratch"),(0,e.createElement)("div",{className:"safi-template-blank",onClick:_e},(0,e.createElement)("span",null,"BLANK"))),(0,e.createElement)("div",{className:"template-picker"},(0,e.createElement)("h3",null,"Start from a template"),(0,e.createElement)("div",{className:"template-picker-wrap",style:{height:(()=>{const e=(null==Q?void 0:Q.length)||0,t=Q.map((e=>{const t=e.template.content.canvas.width/280;return parseFloat(e.template.content.canvas.height)/t})),n=Math.max(...t);return(t.reduce(((e,t)=>e+t),0)+12*e)/3+n})()}},Q.map((t=>(0,e.createElement)("div",{className:"safi-demo-template","data-tpl-id":t.id,onClick:()=>(e=>{I(e)})(Q.find((e=>e.id===t.id)))},(0,e.createElement)("img",{src:t.thumbnail,alt:""}))))),!ie&&(0,e.createElement)("div",{style:{padding:20,backgroundColor:"#ffffff10"}},(0,e.createElement)("p",null,Ro("Unlock dozens of premium templates with Smart Auto Featured Image Pro","wpjoli-safi")),(0,e.createElement)("p",null,(0,e.createElement)("a",{className:"safi-tb-btn safi-btn-primary",target:"_blank",href:"https://wpjoli.com/smart-auto-featured-image/"},"Get Pro Now"))))))))),(0,e.createElement)(so,{previewData:w,showPreview:E,onPreviewLoaded:e=>C(e),onPreviewClose:e=>x(e),onImageCreated:e=>S(e),onImageURLCreated:(e,t,n)=>N(e,t,n),featuredImageGenerated:k,imageQuality:ut,faIcons:W}))},{__:zo}=wp.i18n,{useState:Uo,useEffect:Wo,useContext:Zo}=wp.element,{render:Go}=wp.element;null!==document.getElementById("safiapp")&&Go((0,e.createElement)(l.Provider,{value:window.SAFI.options.can},(0,e.createElement)((t=>{const[n,o]=Uo(SAFI.templates||[]),[a,i]=Uo(SAFI.templates_screenshots||[]),[r,s]=Uo(!1),[c,d]=Uo(!1),[p,m]=Uo(-1),h=Zo(l),f=e=>e.map((e=>u.removeKeys(e,["selected","chosen"]))),g=e=>{window.onbeforeunload=t=>{if(e){const e=t||window.event;return e.preventDefault(),e&&(e.returnValue=""),""}}};window.onload=function(){g(r)},Wo((()=>{g(r)}),[r]),Wo((()=>{const e=-1!==p?n.find((e=>e.id===p)):null;!1===h&&e&&!0===u.isProTemplate(e)?(w(),alert(zo("This template is a Pro template and cannot be edited with your current plan.","wpjoli-safi"))):b(e)}),[p]);const v=e=>{if(null!==e.target.closest(".safi-template-control"))return;const t=e.target.closest(".safi-template").dataset.tplId;-1!==t&&(m(t),s(!0))},[y,b]=Uo(-1!==p?n.find((e=>e.id===p)):null),w=()=>{s(!1),b(null),m(-1)},E=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise(((s,c)=>{var d=new XMLHttpRequest,u="safi_templates",h=t;d.open("POST",SAFI.ajaxurl),d.responseType="json",d.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),d.onload=function(){if(4===d.readyState)if(d.status>=200&&d.status<400)if(null!==d.response&&!0===d.response.success){if("save"===e){const e=JSON.parse(h);let t=[...n];t=f(t);const l=d.response.data.id;t.push({id:l,last_modified:(new Date).getTime(),name:e.canvas.templateName,content:e});let r={...a};r[l]="template-"+l+".png",o(t),i(r),m(l),s(l)}else if("duplicate"===e){const e=JSON.parse(h);let t=[...n];t=f(t);const l=d.response.data.id;t.push({id:l,last_modified:(new Date).getTime(),name:e.canvas.templateName,content:e});let r={...a};r[l]="template-"+l+".png",o(t),i(r),s(l)}else if("import"===e){const e=JSON.parse(h);if(!e.id||!e.content)return alert("Invalid template"),!1;let t=[...n];t=f(t);const a=e.id;t.push(e),o(t),s(a)}else if("reorder"===e)d.response.data.reordered?s(!0):c("Could not reorder");else if("update"===e){const e=JSON.parse(h);let t=[...n];if(t=f(t),1==d.response.data.updated){const n={id:p,last_modified:(new Date).getTime(),name:e.canvas.templateName,content:e};let l={...a};l[p]="template-"+p+".png";const r=t.map((e=>e.id===p?n:e));o(r),i(l),s(p)}else c("did not update")}else if("delete"===e)if(1==d.response.data.deleted){let e=[...n],l={...a};const r=t;e=e.filter((e=>e.id!==r)),delete l[r],o(e),i(l),s(r)}else c("did not delete")}else{var l,r,u,g;null!=(null==d||null===(l=d.response)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.message)&&(alert(null==d||null===(u=d.response)||void 0===u||null===(g=u.data)||void 0===g?void 0:g.message),console.error(null==d?void 0:d.response)),c("error")}else c("error")},d.onerror=function(){c("error")};var g=t;"delete"===e?d.send("action="+u+"&nonce="+SAFI.editor_nonce+"&command="+e+"&tplid="+t):"duplicate"===e?d.send("action="+u+"&nonce="+SAFI.editor_nonce+"&command="+e+"&tplid="+r+"&data="+encodeURIComponent(g)):"import"===e?d.send("action="+u+"&nonce="+SAFI.editor_nonce+"&command="+e+"&data="+encodeURIComponent(g)):"reorder"===e?d.send("action="+u+"&nonce="+SAFI.editor_nonce+"&command="+e+"&data="+encodeURIComponent(JSON.stringify(t))):d.send("action="+u+"&nonce="+SAFI.editor_nonce+"&command="+e+"&tplid="+p+"&data="+encodeURIComponent(g)+"&screenshot="+encodeURIComponent(l))}))};return(0,e.createElement)("div",{id:"safi"},1===n.length&&(0,e.createElement)("div",{className:"safi-tpl-info"},(0,e.createElement)("span",null,(0,e.createElement)("span",{className:"dashicons dashicons-warning",style:{marginRight:"5px"}}),zo("You have no template yet ! Start creating a new template of import a template using the buttons below.","wpjoli-safi"))),(0,e.createElement)("div",{id:"safi-templates"},(0,e.createElement)(ie.ReactSortable,{id:"safi-template-list",animation:150,fallbackOnBody:!0,swapThreshold:.65,ghostClass:"ghost",group:"shared",draggable:".safi-template",list:n,setList:(e,t,n)=>{n.dragging&&n.dragging.props&&JSON.stringify(n.dragging.props.list)!==JSON.stringify(e)&&t&&(e=>{const t=e.map((e=>e.id));o(e),E("reorder",t)})(e)}},n.map((t=>{const o=(e=>{const t=n.find((t=>t.id===e)).last_modified||null;return!!a[e]&&SAFI.templates_screenshots_url+a[e]+(t?"?"+t:"")})(t.id);return(0,e.createElement)("div",{className:"safi-template","data-tpl-id":t.id,key:t.id,onClick:v,style:!1!==o?{backgroundImage:"url("+o+")"}:"00000000"===t.id?{display:"none"}:null},(0,e.createElement)("div",{className:"safi-template-overlay"},(0,e.createElement)("div",{className:"safi-template-header"},(0,e.createElement)("div",{className:"safi-template-name"},(0,e.createElement)("span",null,t.name)))),(0,e.createElement)("div",{className:"safi-template-body"}),(0,e.createElement)("div",{className:"safi-template-controls"},(0,e.createElement)("div",{className:"safi-template-control",title:zo("Download template.","wpjoli-safi"),onClick:()=>(e=>{let t=n.find((t=>t.id==e));const o=JSON.stringify(t),a=t.content.canvas.templateName,i="template-"+e+"-"+u.slugify(a)+".safi.json";var l=document.createElement("a");l.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(o)),l.setAttribute("download",i),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l)})(t.id)},(0,e.createElement)("span",{className:"dashicons dashicons-download"})),(0,e.createElement)("div",{className:"safi-template-control",title:zo("Duplicate template.","wpjoli-safi"),onClick:()=>{!async function(e){let t=n.find((t=>t.id==e));t.content.canvas.templateName=t.content.canvas.templateName+" (copy)";const o=JSON.stringify(t.content);try{let t;return 0!==e&&(t=await E("duplicate",o,null,e)),t}catch(e){return null}}(t.id)}},(0,e.createElement)("span",{className:"dashicons dashicons-admin-page"})),(0,e.createElement)("div",{className:"safi-template-control",title:zo("Delete template.","wpjoli-safi"),onClick:()=>async function(e){if(confirm("Are you sure you want to delete this template ? Template data will be permanently lost and cannot be recovered.")){d(!0);try{let t;return t=await E("delete",e),d(!1),t}catch(e){return d(!1),null}}}(t.id)},(0,e.createElement)("span",{className:"dashicons dashicons-trash"}))))})),(0,e.createElement)("div",{id:"safi-new-template",className:"safi-tpl-btn",onClick:()=>{m(0),s(!0)}},(0,e.createElement)("span",null,zo("NEW TEMPLATE","wpjoli-safi"))),(0,e.createElement)("div",{id:"safi-import-template",className:"safi-tpl-btn"},(0,e.createElement)("span",{className:"tpl-btn-label"},zo("IMPORT TEMPLATE","wpjoli-safi")),(0,e.createElement)("div",{className:"tpl-btn-content"},(0,e.createElement)("div",{className:"input-file-container"},(0,e.createElement)("input",{className:"input-file",id:"my-file",type:"file",accept:".safi.json",onChange:async function(e){const t=e.target.files[0];if(void 0===t)return alert("Please select a file."),!1;const n=new FileReader;n.onload=async function(e){var t=n.result;try{let e;return e=await E("import",t),d(!1),e}catch(e){return d(!1),null}},n.readAsText(t),n.addEventListener("error",(()=>{console.error(`Error occurred reading file: ${t.name}`)}))}}),(0,e.createElement)("label",{tabindex:"0",for:"my-file",className:"input-file-trigger"},zo("Select a file...","wpjoli-safi"))))))),(0,e.createElement)(Bo,{context:"editor",showEditor:r,template:y,templateId:p,onClose:w,onSaveTemplate:async function(e,t){d(!0);try{let n;return 0===p?n=await E("save",e,t):-1!==p&&(n=await E("update",e,t)),d(!1),n}catch(e){return d(!1),null}},isSaving:c,options:t.options,onChangeDemoTemplate:e=>{b(e.template),m(0),s(!0)}}))}),{options:window.SAFI.options})),document.getElementById("safiapp"))})()})();