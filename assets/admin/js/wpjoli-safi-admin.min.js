"use strict";function _createForOfIteratorHelper(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,r=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){r=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(r)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}!function(t){t(document).ready((function(){if(!t(".safi-wrap").length)return!1;t(".joli-color-picker").wpColorPicker({change:function(e,i){t(".joli-info-text").addClass("open")}}),t(".joli-pro .wp-picker-container button").each((function(e,i){t(this).attr("disabled",!0)})),t(".joli-do-submit").on("click",(function(t){document.getElementById("safi-settings").dispatchEvent(new Event("submit"))}));var e=t(".safi-wrap .joli-nav"),i=t("#tab-settings table.form-table tr"),n=window.location.hash;n.length>0?d("tab-"+n.substr(1)):d(t(e).children().first().attr("id"));var a=!1,o=t("#wpadminbar"),s=t(o).outerHeight(!0),r=t(".joli-header"),l=t(r).offset().top,c=t(document).scrollTop();t(".joli-gopro-notice");function d(n){t(e).find(".joli-nav-item").removeClass("nav-tab-active"),t(e).find("#"+n).addClass("nav-tab-active"),t(i).removeClass("active"),t("#tab-settings table.form-table tr."+n).addClass("active");var a=t("#tab-settings table.form-table"),o=t(".joli-section-desc"),r=t("#tab-settings h2"),d=t(".joli-tab-pane");t(o).hide(),t(a).hide(),t(r).hide(),t(d).hide();var u=r.filter((function(e,i){return t(this).nextAll("table").first().find("tr").hasClass("active")})),f=t(u).map((function(e,i){var n=t(this).next(".joli-section-desc");return t(n).length?t(n)[0]:null})),p=a.filter((function(){return t(this).find("tr").hasClass("active")})),h=d.filter((function(){return t(this).attr("data-key")==n}),n);t(p).show(),t(u).show(),t(f).show(),t(h).show(),"tab-general"==n?t(".joli-quickstart-notice").show():t(".joli-quickstart-notice").hide(),c+s>l&&t("html, body").animate({scrollTop:l-s-15},600,void document)}t(window).on("scroll",(function(){a=!0})),t(window).on("resize",(function(){l=t(r).offset().top,s=t(o).outerHeight(!0)})),setInterval((function(){a&&(a=!1,(c=t(document).scrollTop())+s>l?(t(r).css("position","fixed"),t(r).css("top",s+"px")):(t(r).css("position",""),t(r).css("top","")))}),50),t(".joli-nav-item").on("click",(function(e){d(t(this).attr("id"))}));var u=function(e){var i=t(e).attr("data-linkedfield"),n=t("#check_"+i),a=t(e).prop("checked")?1:0;t(n).val(a);t(e).attr("data-deactivates");if(!t(e).closest("tr").hasClass("joli-pro")){!function(e,i){if(void 0!==e){var n,a=_createForOfIteratorHelper(e.split(","));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=t(".joli-section--"+o);0===i?t(s).addClass("hidden"):t(s).removeClass("hidden")}}catch(t){a.e(t)}finally{a.f()}}}(t(e).attr("data-children-sections"),a);var o=t(e).attr("data-children");if(""===o)return;!function(e,i){if(void 0!==e){var n,a=_createForOfIteratorHelper(e.split(","));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=t(".joli-field--"+o);0===i?t(s).addClass("hidden"):t(s).removeClass("hidden")}}catch(t){a.e(t)}finally{a.f()}}}(o,a)}};t("input:checkbox.joli-checkbox").on("change",(function(){u(this)})),t(document).on("change",".joli-content textarea, .joli-content input, .joli-content select",(function(){t(".joli-info-text").addClass("open")})),t(document).on("change",".joli-content select",(function(){var e=".joli-admin-image-"+t(this).attr("data-selector");if(t(e).length>0){var i=t(this).find(":selected").attr("data-media");t(e).addClass("hidden");var n="#"+t(this).attr("data-selector")+"-"+i;t(n).removeClass("hidden")}})),t(document).on("click","#safi_reset_settings",(function(e){var i=t(this).data("prompt");if(!confirm(i))return e.preventDefault(),!1})),t(document).on("click",".joli-post-type-check",(function(e){var i=t(".joli-post-type-check").map((function(e,i){return t(i).is(":checked")?t(i).attr("data-post-type"):null})).toArray().filter((function(t,e){return null!==e}));t.ajax({url:safiAdmin.ajaxUrl,method:"post",data:{nonce:safiAdmin.nonce,action:"wpjoli_safi_update_active_post_type_setting",active_post_type:i},success:function(t){}})})),t(document).on("change","input.joli-css-unit-input, select.joli-css-unit-values",(function(){var e=t(this).closest(".joli-css-unit-field"),i=t(this).attr("data-linkedfield"),n=t("#joli-css-unit_"+i),a=t(e).find("input.joli-css-unit-input"),o=t(e).find("select.joli-css-unit-values"),s="";""!==t(a).val()&&(s=t(a).val()+"|"+t(o).val()),t(n).val(s||"")})),t(".joli-checkboxes-item > input[type=checkbox]").on("change",(function(e){var i=t(".joli-checkboxes-item > input[type=checkbox]").map((function(e,i){return t(i).is(":checked")?t(i).val():null})).toArray().filter((function(t,e){return null!==e})).join(","),n=t(this).data("linked-id"),a=t("#"+n);if(!a.length)return!1;t(a).val(i)})),t(".joli-dimensions-lock").on("click",(function(e){t(this).toggleClass("--joli-is-locked")})),t(".joli-dimensions-clear").on("click",(function(e){e.preventDefault();var i=t(this).closest(".joli-dimensions-control").find(".joli-dimension-input");t(i).val("")})),t(".joli-dimension-input").on("input",(function(e){var i=t(this).closest(".joli-dimensions-control").find(".joli-dimensions-lock");if(!i.length)return!1;if(!0===t(i).hasClass("--joli-is-locked")){var n=t(this).closest("ul").find(".joli-dimension-input");if(!n.length)return!1;var a=t(this).val();t(n).each((function(){t(this).val(a)}),a)}})),t("#safi-settings").on("submit",(function(e){e.preventDefault();var i=t(".safi-wrap"),n=t("#safi-save-spinner"),a=t("#safi-save-alert");t(i).addClass("joli-is-saving"),t(n).addClass("is-active");var o=t(this).serialize();jQuery.post("options.php",o).done((function(){t(i).removeClass("joli-is-saving"),t(n).removeClass("is-active"),t(a).removeClass("joli-is-hidden"),t(a).show(),setTimeout((function(){t(a).fadeOut(1500,(function(){t(a).addClass("joli-is-hidden")}))}),1500),t(".joli-info-text").removeClass("open")})).fail((function(){alert("Error while saving, please reload the page and try saving again.")})).always((function(){t(i).removeClass("joli-is-saving"),t(n).removeClass("is-active")}))}));var f=t(".joli-content select[data-has-custom-values=1]");f.length&&t(f).each((function(e,i){var n=t(this).attr("data-custom-values-src"),a=t(this).attr("data-selected-value"),o=window[n];if(o.length){var s=this;t(o).each((function(e,i){var n=this.id,o="",r=this.hasOwnProperty("info")?this.info:null;null!==r&&(n=r.hasOwnProperty("name")?r.name:n,o=r.hasOwnProperty("author")?r.author:"");var l=null;a.startsWith("custom-")&&(l=a.substr(7)),t(s).append(t("<option>",{value:"custom-"+this.id,text:n+" (by "+o+")",selected:l===this.id}))}))}})),t("input:checkbox.joli-checkbox").each((function(t,e){u(this)})),t("#safi-import-export").on("click",(function(e){t("#joli-export-import-wrap").toggle()})),t("#joli-export-import-close").on("click",(function(e){t("#joli-export-import-wrap").hide()})),t(".joli-field-info").on("click",(function(e){var i=t(this).next().text();navigator.clipboard.writeText(i)})),t("#safi-export-settings").on("click",(function(e){e.preventDefault();var i="undefined"!=typeof safi_active_post_type?safi_active_post_type:"";t.ajax({url:safiAdmin.ajaxUrl,method:"post",data:{nonce:safiAdmin.nonce,action:"wpjoli_safi_export_user_settings",active_post_type:i},success:function(t){!function(t,e){var i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}((""===i?"smart-auto-featured-image-settings-global":"smart-auto-featured-image-settings-"+i)+".json",t.data.settings)}})})),t("#safi-import-settings").on("click",(function(e){e.preventDefault();var i="undefined"!=typeof safi_active_post_type?safi_active_post_type:"",n=document.getElementById("safi-import-settings-file").files[0];if(void 0===n)return alert("Please select a file."),!1;var a=new FileReader;a.onload=function(e){var n=a.result;t.ajax({url:safiAdmin.ajaxUrl,method:"post",data:{nonce:safiAdmin.nonce,action:"wpjoli_safi_import_user_settings",active_post_type:i,file:n},success:function(t){1==t.data.updated?(alert("Settings imported successfully. Page will reload."),window.location.reload()):alert("Settings were not updated.")}})},a.readAsText(n),a.addEventListener("error",(function(){console.error("Error occurred reading file: ".concat(n.name))}))}))}))}(jQuery),function(t){t(document).ready((function(){
/*! <fs_premium_only> */
var e=t("#safi-update-credits");if(!e.length)return!1;t(e).on("click",(function(e){var i=t("#safi-update-credits .spinner");t(i).show(),t("#safi-update-credits").attr("disabled",!0),t.ajax({url:safiAdmin.ajaxUrl,method:"post",data:{nonce:safiAdmin.nonce,action:"wpjoli_safi_check_credits"},success:function(e){var n=t("#safi-credits-used");t(n).text(e.data.credits_used||e.data.trial_credits_used),t("#safi-credits-last-checked").text(e.data.last_updated),i.hide(),t("#safi-update-credits").attr("disabled",!1)}})}))}))}(jQuery);